!function e(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.AliLowCodeEngine=n():t.AliLowCodeEngine=n()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function t(){return e.default}:function t(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=59)}([function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return j}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function e(t){for(var n,r=1,o=arguments.length;r<o;r++)for(var i in n=arguments[r])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function u(e,t,n,r){var o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}function c(e,t){return function(n,r){t(n,r,e)}}function s(e,t,n,r,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var u=r.kind,c="getter"===u?"get":"setter"===u?"set":"value",s=!t&&e?r.static?e:e.prototype:null,l=t||(s?Object.getOwnPropertyDescriptor(s,r.name):{}),f,p=!1,h=n.length-1;h>=0;h--){var d={};for(var v in r)d[v]="access"===v?{}:r[v];for(var v in r.access)d.access[v]=r.access[v];d.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var y=(0,n[h])("accessor"===u?{get:l.get,set:l.set}:l[c],d);if("accessor"===u){if(void 0===y)continue;if(null===y||"object"!=typeof y)throw new TypeError("Object expected");(f=a(y.get))&&(l.get=f),(f=a(y.set))&&(l.set=f),(f=a(y.init))&&o.push(f)}else(f=a(y))&&("field"===u?o.push(f):l[c]=f)}s&&Object.defineProperty(s,r.name,l),p=!0}function l(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function f(e){return"symbol"==typeof e?e:"".concat(e)}function p(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function h(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,u)}c((r=r.apply(e,t||[])).next())}))}function v(e,t){var n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(e){return function(t){return c([e,t])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=2&u[0]?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(!(i=n.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){n=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(6===u[0]&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(e){u=[6,e],o=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var y=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function m(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||y(t,e,n)}function b(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function w(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function O(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}function j(e,t,n){if(n||2===arguments.length)for(var r=0,o=t.length,i;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function S(e){return this instanceof S?(this.v=e,this):new S(e)}function E(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(e){r[e]&&(o[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||u(e,t)}))})}function u(e,t){try{c(r[e](t))}catch(e){f(i[0][3],e)}}function c(e){e.value instanceof S?Promise.resolve(e.value.v).then(s,l):f(i[0][2],e)}function s(e){u("next",e)}function l(e){u("throw",e)}function f(e,t){e(t),i.shift(),i.length&&u(i[0][0],i[0][1])}}function k(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:S(e[r](t)),done:!1}:o?o(t):t}:o}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=b(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(t){n[t]=e[t]&&function(n){return new Promise((function(r,i){o(r,i,(n=e[t](n)).done,n.value)}))}}function o(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}}function P(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var x=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&y(t,e,n);return x(t,e),t}function C(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function R(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function L(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}},function(e,t,n){"use strict";var r=n(15);n.d(t,"createIntl",(function(){return r.a})),n.d(t,"globalLocale",(function(){return r.b})),n.d(t,"intl",(function(){return r.c})),n.d(t,"shallowIntl",(function(){return r.d}));var o=n(52);n.d(t,"Editor",(function(){return o.a})),n.d(t,"commonEvent",(function(){return o.b}));var i=n(17);n.d(t,"action",(function(){return i.a})),n.d(t,"autorun",(function(){return i.b})),n.d(t,"computed",(function(){return i.c})),n.d(t,"focusTracker",(function(){return i.d})),n.d(t,"getPublicPath",(function(){return i.e})),n.d(t,"makeObservable",(function(){return i.f})),n.d(t,"mobx",(function(){return i.g})),n.d(t,"observable",(function(){return i.h})),n.d(t,"observer",(function(){return i.i})),n.d(t,"obx",(function(){return i.j})),n.d(t,"reaction",(function(){return i.k})),n.d(t,"runInAction",(function(){return i.l})),n.d(t,"runWithGlobalEventOff",(function(){return i.m})),n.d(t,"untracked",(function(){return i.n})),n.d(t,"wrapWithEventSwitch",(function(){return i.o}));var a=n(20);n.o(a,"Hotkey")&&n.d(t,"Hotkey",(function(){return a.Hotkey})),n.o(a,"Setters")&&n.d(t,"Setters",(function(){return a.Setters})),n.o(a,"Tip")&&n.d(t,"Tip",(function(){return a.Tip})),n.o(a,"TipContainer")&&n.d(t,"TipContainer",(function(){return a.TipContainer})),n.o(a,"Title")&&n.d(t,"Title",(function(){return a.Title})),n.o(a,"createModuleEventBus")&&n.d(t,"createModuleEventBus",(function(){return a.createModuleEventBus})),n.o(a,"engineConfig")&&n.d(t,"engineConfig",(function(){return a.engineConfig})),n.o(a,"globalContext")&&n.d(t,"globalContext",(function(){return a.globalContext}));var u=n(45);n.d(t,"Hotkey",(function(){return u.a}));var c=n(51);n.d(t,"Tip",(function(){return c.a})),n.d(t,"TipContainer",(function(){return c.b})),n.d(t,"Title",(function(){return c.c}));var s=n(29);n.d(t,"engineConfig",(function(){return s.a}));var l=n(14);n.d(t,"createModuleEventBus",(function(){return l.b}))},function(e,t){e.exports=window.React},function(e,t,n){"use strict";n.d(t,"d",(function(){return r.d})),n.d(t,"b",(function(){return r.c})),n.d(t,"a",(function(){return r.b})),n.d(t,"w",(function(){return _})),n.d(t,"v",(function(){return P})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return N})),n.d(t,"Y",(function(){return C})),n.d(t,"c",(function(){return M})),n.d(t,"j",(function(){return G})),n.d(t,"m",(function(){return ye})),n.d(t,"n",(function(){return Pe})),n.d(t,"o",(function(){return Ve})),n.d(t,"t",(function(){return He})),n.d(t,"x",(function(){return o})),n.d(t,"E",(function(){return Ue})),n.d(t,"F",(function(){return ze})),n.d(t,"P",(function(){return V})),n.d(t,"S",(function(){return de})),n.d(t,"Z",(function(){return Ye})),n.d(t,"ab",(function(){return Je})),n.d(t,"f",(function(){return st})),n.d(t,"cb",(function(){return ft})),n.d(t,"k",(function(){return Ln})),n.d(t,"p",(function(){return Mn})),n.d(t,"T",(function(){return Dn})),n.d(t,"l",(function(){return Zn})),n.d(t,"s",(function(){return Qn})),n.d(t,"q",(function(){return nr})),n.d(t,"i",(function(){return rr})),n.d(t,"e",(function(){return kr})),n.d(t,"r",(function(){return _r})),n.d(t,"W",(function(){return xr})),n.d(t,"Q",(function(){return Nr})),n.d(t,"bb",(function(){return Zr})),n.d(t,"u",(function(){return ht})),n.d(t,"y",(function(){return dt})),n.d(t,"z",(function(){return vt})),n.d(t,"D",(function(){return yt})),n.d(t,"G",(function(){return mt})),n.d(t,"H",(function(){return gt})),n.d(t,"I",(function(){return jt})),n.d(t,"J",(function(){return St})),n.d(t,"M",(function(){return kt})),n.d(t,"O",(function(){return _t})),n.d(t,"R",(function(){return Et})),n.d(t,"U",(function(){return Nt})),n.d(t,"X",(function(){return Ct})),n.d(t,"B",(function(){return Tt})),n.d(t,"C",(function(){return Rt})),n.d(t,"A",(function(){return Lt})),n.d(t,"K",(function(){return At})),n.d(t,"N",(function(){return Mt})),n.d(t,"L",(function(){return Dt})),n.d(t,"V",(function(){return It}));var r=n(4);function o(e){return/\.css(\?.*)?$/.test(e)}function i(){var e={},t=new Promise((function(t,n){e.resolve=t,e.reject=n}));return e.promise=function(){return t},e}function a(e){var t=document.createElement("script");t.text=e,document.head.appendChild(t),document.head.removeChild(t)}function u(e){var t=document.createElement("script");t.onload=r,t.onerror=r;var n=i();function r(e){t.onload=null,t.onerror=null,"load"===e.type?n.resolve():n.reject()}return t.src=e,t.async=!1,document.head.appendChild(t),n.promise()}function c(e){var t;return new Function(e)()}function s(e,t){try{return new Function(e,t)}catch(e){return console.warn("Caught error, Cant init func"),null}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */f=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),u=new P(o||[]);return r(a,"_invoke",{value:S(e,n,u)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var h={};function d(){}function v(){}function y(){}var m={};c(m,i,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(x([])));g&&g!==t&&n.call(g,i)&&(m=g);var w=y.prototype=d.prototype=Object.create(m);function O(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(r,i,a,u){var c=p(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==l(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return N()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=E(a,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=p(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return v.prototype=y,r(w,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},O(j.prototype),c(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new j(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(w),c(w,u,"Generator"),c(w,i,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=x,P.prototype={constructor:P,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),h},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),h}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;_(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function p(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){p(i,r,o,a,u,"next",e)}function u(e){p(i,r,o,a,u,"throw",e)}a(void 0)}))}}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=j(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function m(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e){var t=g(e,"string");return"symbol"===l(t)?t:String(t)}function g(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function w(e){return E(e)||S(e)||j(e)||O()}function O(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function S(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function E(e){if(Array.isArray(e))return k(e)}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e){return e&&e.type}function P(e){return e&&e.type===r.d.Bundle}function x(e,t){return e?{type:r.d.Bundle,assets:e,level:t}:null}function N(e,t,n,r){return t?{type:e,content:t,level:n,id:r}:null}function C(e,t){return t.packages&&(e.packages=[].concat(w(e.packages||[]),w(t.packages))),t.components&&(e.components=[].concat(w(e.components||[]),w(t.components))),T(e,t,"componentList"),T(e,t,"bizComponentList"),e}function T(e,t,n){var r;t[n]&&(e[n]&&(null===(r=t[n])||void 0===r||r.map((function(t){var r,o,i=!1;return null===(r=e[n])||void 0===r||r.map((function(e){return e.title===t.title&&(e.children=e.children.concat(t.children),i=!0),e})),!i&&(null===(o=e[n])||void 0===o||o.push(t)),t}))))}var R=function(){function e(t,n){var r;if(v(this,e),this.lastContent=void 0,this.lastUrl=void 0,this.placeholder=void 0,this.level=void 0,this.id=void 0,this.level=t,n&&(this.id=n),n&&(r=document.head.querySelector('style[data-id="'.concat(n,'"]'))),!r){r=document.createTextNode("");var o=document.head.querySelector('meta[level="'.concat(t,'"]'));o?document.head.insertBefore(r,o):document.head.appendChild(r)}this.placeholder=r}return m(e,[{key:"applyText",value:function e(t){if(this.lastContent!==t){this.lastContent=t,this.lastUrl=void 0;var n=document.createElement("style");n.setAttribute("type","text/css"),this.id&&n.setAttribute("data-id",this.id),n.appendChild(document.createTextNode(t)),document.head.insertBefore(n,this.placeholder.parentNode===document.head?this.placeholder.nextSibling:null),document.head.removeChild(this.placeholder),this.placeholder=n}}},{key:"applyUrl",value:function e(t){if(this.lastUrl!==t){this.lastContent=void 0,this.lastUrl=t;var n=document.createElement("link");n.onload=o,n.onerror=o;var r=i();return n.href=t,n.rel="stylesheet",this.id&&n.setAttribute("data-id",this.id),document.head.insertBefore(n,this.placeholder.parentNode===document.head?this.placeholder.nextSibling:null),document.head.removeChild(this.placeholder),this.placeholder=n,r.promise()}function o(e){n.onload=null,n.onerror=null,"load"===e.type?r.resolve():r.reject()}}}]),e}();function L(e,t,n,r){var o=d(n),i;try{for(o.s();!(i=o.n()).done;){var a;A(e,t,i.value,r)}}catch(e){o.e(e)}finally{o.f()}}function A(e,t,n,i){if(n){if(Array.isArray(n))return L(e,t,n,i);if(P(n))return n.assets?void(Array.isArray(n.assets)?L(e,t,n.assets,n.level||i):A(e,t,n.assets,n.level||i)):void 0;_(n)||(n=N(o(n)?r.d.CSSUrl:r.d.JSUrl,n,i));var a=n.level||i;a&&null!=r.b[a]||(a=r.b.App),n.level=a,n.type===r.d.CSSUrl||n.type==r.d.CSSText?t[a].push(n):e[a].push(n)}}var M=function(){function e(){v(this,e),this.stylePoints=new Map}return m(e,[{key:"load",value:function(){var e=h(f().mark((function e(t){var n=this,o,i,a,u;return f().wrap((function e(c){for(;;)switch(c.prev=c.next){case 0:return o={},i={},r.c.forEach((function(e){o[e]=[],i[e]=[]})),A(i,o,t),a=o[r.b.Environment].concat(o[r.b.Library],o[r.b.Theme],o[r.b.Runtime],o[r.b.App]),u=i[r.b.Environment].concat(i[r.b.Library],i[r.b.Theme],i[r.b.Runtime],i[r.b.App]),c.next=8,Promise.all(a.map((function(e){var t=e.content,o=e.level,i=e.type,a=e.id;return n.loadStyle(t,o,i===r.d.CSSUrl,a)})));case 8:return c.next=10,Promise.all(u.map((function(e){var t=e.content,o=e.type;return n.loadScript(t,o===r.d.JSUrl)})));case 10:case"end":return c.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadStyle",value:function e(t,n,r,o){var i;if(t)return o?(i=this.stylePoints.get(o))||(i=new R(n,o),this.stylePoints.set(o,i)):i=new R(n),r?i.applyUrl(t):i.applyText(t)}},{key:"loadScript",value:function e(t,n){if(t)return n?u(t):a(t)}},{key:"loadAsyncLibrary",value:function(){var e=h(f().mark((function e(t){var n,r,o,i;return f().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:for(i in n=[],r=[],o=[],t)t[i].async&&(n.push(window[t[i].library]),r.push(t[i].library),o.push(t[i]));return a.next=6,Promise.all(n).then((function(e){e.length>0&&e.map((function(e,t){var n=o[t],i=n.exportMode,a=n.exportSourceLibrary,u=n.library;return window[r[t]]="functionCall"!==i||null!=a&&a!==u?e:e(),e}))}));case 6:case"end":return a.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e){return null!==e&&"object"===D(e)}function B(e){return I(e)&&"i18n"===e.type}function V(e){if(!I(e))return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t||null===Object.getPrototypeOf(t)}function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e){var t=F(e),n;if(null==e)n=e;else if(Array.isArray(e))n=e.map((function(e){return G(e)}));else if("object"===t&&V(e))for(var r in n={},e)e.hasOwnProperty(r)&&(n[r]=G(e[r]));else n=e;return n}var H=n(2),U=["$$typeof","render","defaultProps","props","length","prototype","name","caller","callee","arguments"];function z(e,t){var n;return Object.keys(t).filter((function(e){return!U.includes(e)})).forEach((function(n){e[n]=t[n]})),e}function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $=["children"];function X(e,t){if(null==e)return{};var n=Y(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Y(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Z(r.key),r)}}function J(e,t,n){return t&&q(e.prototype,t),n&&q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z(e){var t=Q(e,"string");return"symbol"===W(t)?t:String(t)}function Q(e,t){if("object"!==W(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ee(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&te(e,t)}function te(e,t){return(te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function ne(e){var t=ie();return function n(){var r=ae(e),o;if(t){var i=ae(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return re(this,o)}}function re(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oe(e)}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var ue="function"==typeof Symbol&&Symbol.for,ce=ue?Symbol.for("react.forward_ref"):60112,se=ue?Symbol.for("react.memo"):60115;function le(e){return e&&e.prototype&&(e.prototype.isReactComponent||e.prototype instanceof H.Component)}function fe(e){var t;return(null==e||null===(t=e.prototype)||void 0===t?void 0:t.isReactComponent)||e.$$typeof&&e.$$typeof===ce}function pe(e){return(null==e?void 0:e.$$typeof)&&(null==e?void 0:e.$$typeof)===ce}function he(e){return(null==e?void 0:e.$$typeof)&&e.$$typeof===se}function de(e){return!!e&&Boolean(le(e)||"function"==typeof e||pe(e)||he(e))}function ve(e){var t=function(t){ee(r,t);var n=ne(r);function r(){return K(this,r),n.apply(this,arguments)}return J(r,[{key:"render",value:function t(){var n=this.props,r=n.children,o=X(n,$);return Object(H.createElement)(e,o,r)}}]),r}(H.Component);return(t=z(t,e)).displayName=e.displayName,t}function ye(e,t){return Object(H.isValidElement)(e)?t?Object(H.cloneElement)(e,t):e:de(e)?Object(H.createElement)(e,t):e}var me=n(7);function be(e){return e&&e.__esModule}function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t,n){return(t=Se(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e){var t=Ee(e,"string");return"symbol"===ge(t)?t:String(t)}function Ee(e,t){if("object"!==ge(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ke(){return(ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _e=/^(https?:)\/\//i;function Pe(e,t){return e?(be(e)&&(e=e.default),"string"==typeof e?_e.test(e)?React.createElement("img",ke({src:e},t)):React.createElement(me.Icon,ke({type:e},t)):Object(H.isValidElement)(e)?Object(H.cloneElement)(e,Oe({},t)):de(e)?Object(H.createElement)(e,Oe({},t)):React.createElement(me.Icon,ke({},e,t))):null}var xe=n(60);function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Te(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function Te(e,t){if(e){if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(e,t):void 0}}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,De(r.key),r)}}function Me(e,t,n){return t&&Ae(e.prototype,t),n&&Ae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function De(e){var t=Ie(e,"string");return"symbol"===Ne(t)?t:String(t)}function Ie(e,t){if("object"!==Ne(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Be,Ve=new(function(){function e(){Le(this,e),this.states=new Set}return Me(e,[{key:"setDragging",value:function e(t){t?this.addState("dragging"):this.removeState("dragging")}},{key:"setXResizing",value:function e(t){t?this.addState("x-resizing"):this.removeState("x-resizing")}},{key:"setYResizing",value:function e(t){t?this.addState("y-resizing"):this.removeState("y-resizing")}},{key:"setCopy",value:function e(t){t?this.addState("copy"):this.removeState("copy")}},{key:"isCopy",value:function e(){return this.states.has("copy")}},{key:"release",value:function e(){var t=Ce(this.states),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;this.removeState(r)}}catch(e){t.e(e)}finally{t.f()}}},{key:"addState",value:function e(t){this.states.has(t)||(this.states.add(t),document.documentElement.classList.add("lc-cursor-".concat(t)))}},{key:"removeState",value:function e(t){this.states.has(t)&&(this.states.delete(t),document.documentElement.classList.remove("lc-cursor-".concat(t)))}}]),e}());function Fe(e){return void 0!==Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__}var Ge=Object.prototype.hasOwnProperty;function He(e,t){return e&&Ge.call(e,t)}function Ue(e){return!!e&&e.nodeType===Node.ELEMENT_NODE}function ze(e){var t=e.target;return!!t&&(!(!t.form&&!/^(INPUT|SELECT|TEXTAREA)$/.test(t.tagName))||!!(t instanceof HTMLElement&&/write/.test(window.getComputedStyle(t).getPropertyValue("-webkit-user-modify"))))}function We(e){return"function"==typeof e}var $e=!0,Xe=function e(t){return $e?null:(t.preventDefault(),t.stopPropagation(),!1)};function Ye(e){$e=e}function Ke(e,t){void 0!==Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){if(e===t)return!0;if("object"!==qe(e)||null===e||"object"!==qe(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!He(t,n[o])||e[n[o]]!==t[n[o]])return!1;return!0}function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}document.addEventListener("selectstart",Xe,!0),document.addEventListener("dragstart",Xe,!0);var Qe=["fill","size","viewBox","style","children"];function et(){return(et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e,t,n){return(t=ot(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e){var t=it(e,"string");return"symbol"===Ze(t)?t:String(t)}function it(e,t){if("object"!==Ze(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function at(e,t){if(null==e)return{};var n=ut(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ut(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}var ct={xsmall:8,small:12,medium:16,large:20,xlarge:30};function st(e){var t=e.fill,n=e.size,r=void 0===n?"medium":n,o=e.viewBox,i=e.style,a=e.children,u=at(e,Qe);return ct.hasOwnProperty(r)&&(r=ct[r]),React.createElement("svg",et({fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:r,height:r,viewBox:o},u,{style:nt({color:t},i)}),a)}var lt=Date.now();function ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e).concat((lt++).toString(36).toLowerCase())}function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e){return e&&"object"===pt(e)}function dt(e){return e&&(Object(H.isValidElement)(e)||de(e))}function vt(e){return"string"==typeof e}function yt(e){return e&&"function"==typeof e&&!le(e)}function mt(e){return e&&"i18n"===e.type}function bt(e){return e&&"JSBlock"===e.type}function gt(e){return e&&"JSExpression"===e.type&&"function"!==e.extType}function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e){return e&&"JSExpression"===e.type&&"function"===e.extType}function jt(e){return"object"===wt(e)&&e&&"JSFunction"===e.type||Ot(e)}function St(e){return e&&"JSSlot"===e.type}function Et(e){return"package"in e}function kt(e){return!Et(e)}function _t(e){return e&&e.componentName&&!e.isNode}function Pt(e){return e&&e.componentsTree}function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(e){return e&&"object"===xt(e)&&"componentName"in e&&!dt(e)}function Ct(e){return V(e)&&!mt(e)}function Tt(e){return e&&e.type===r.f.NodeData}function Rt(e){return e&&e.type===r.f.Node}function Lt(e){return e&&e.type!==r.f.NodeData&&e.type!==r.f.Node}function At(e){return e&&e.type===r.j.Children}function Mt(e){return e&&e.isNode}function Dt(e){return e&&e.target&&e.detail}function It(e){return e&&e.isSettingField}function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e){return"object"===Bt(e)&&"Component"===e.componentName}function Ft(e){return e&&e.componentsTree&&e.componentsTree.length&&Vt(e.componentsTree[0])}function Gt(e){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(e,t,n){return(t=Wt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wt(e){var t=$t(e,"string");return"symbol"===Gt(t)?t:String(t)}function $t(e,t){if("object"!==Gt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Gt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Xt(e){return"string"!=typeof e?e:window[e]||Yt(e)}function Yt(e){if(["a","img","div","span","svg"].includes(e))return Object(H.forwardRef)((function(t,n){return Object(H.createElement)(e,Ut({ref:n},t),t.children)}))}function Kt(e,t){var n=t.length;if(n<1||!e)return e;for(var r=0,o;r<n;){var i=t[r],a=void 0;try{o=e[i]||o}catch(e){a=e,o=null}if(0===r&&null==o&&"default"===i){if(a)return 1===n?e:null;o=e}else if(null==o)return null;e=o,r++}return o}function qt(e,t,n){if(!n)return Xt(t);var r=n.exportName||n.componentName||t,o,i=Xt(e[n.package]||r),a=n.exportName&&n.subName?n.subName.split("."):[];return n.destructuring?a.unshift(r):be(i)&&a.unshift("default"),Kt(i,a)}function Jt(e){return!!I(e)&&Object.keys(e).some((function(t){return de(e[t])}))}function Zt(e,t,n){var r={};return Object.keys(t).forEach((function(o){var i=t[o];i&&(Ft(i)||Vt(i))?Vt(i)?r[o]=n({version:"",componentsMap:[],componentsTree:[i]}):r[o]=n(i):de(i)?(fe(i)||(i=ve(i)),r[o]=i):Jt(i)?r[o]=i:(i=qt(e,o,i))&&(!fe(i)&&de(i)&&(i=ve(i)),r[o]=i)})),r}function Qt(e,t){var n={};return t&&t.forEach((function(t){var r;if(e[null==t||null===(r=t.npm)||void 0===r?void 0:r.package]){var o=Xt(e[null==t?void 0:t.npm.package]);null!=o&&o.destructuring?Object.keys(o).forEach((function(e){"destructuring"!==e&&(n[e]=o[e])})):t.name&&(n[t.name]=o)}})),n}var en=n(9),tn=n.n(en);function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function on(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,un(r.key),r)}}function an(e,t,n){return t&&on(e.prototype,t),n&&on(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function un(e){var t=cn(e,"string");return"symbol"===nn(t)?t:String(t)}function cn(e,t){if("object"!==nn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function sn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ln(e,t)}function ln(e,t){return(ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function fn(e){var t=dn();return function n(){var r=vn(e),o;if(t){var i=vn(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return pn(this,o)}}function pn(e,t){if(t&&("object"===nn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hn(e)}function hn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var yn=null;tn.a.defaultMaxListeners=100;var mn=function(e){sn(n,e);var t=fn(n);function n(e){var r;return rn(this,n),r=t.call(this),yn=hn(r),Object.assign(hn(r),e),r}return an(n,[{key:"get",value:function e(t){return this[t]}},{key:"set",value:function e(t,n){var r=this;"string"==typeof t?this[t]=n:"object"===nn(t)&&Object.keys(t).forEach((function(e){r[e]=t[e]}))}},{key:"batchOn",value:function e(t,n){var r=this;Array.isArray(t)&&t.forEach((function(e){return r.on(e,n)}))}},{key:"batchOnce",value:function e(t,n){var r=this;Array.isArray(t)&&t.forEach((function(e){return r.once(e,n)}))}},{key:"batchOff",value:function e(t,n){var r=this;Array.isArray(t)&&t.forEach((function(e){return r.off(e,n)}))}}]),n}(tn.a);mn.getInstance=function(){return yn||(yn=new mn),yn};var bn=n(8);function gn(e){return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wn(e,t,n){return(t=On(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function On(e){var t=jn(e,"string");return"symbol"===gn(t)?t:String(t)}function jn(e,t){if("object"!==gn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==gn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Sn(e){return e&&"variable"===e.type}function En(e,t){var n,r=null==e||null===(n=e.options)||void 0===n?void 0:n.configure;return!!Array.isArray(r)&&r.some((function(e){var n,r;return e.name===t&&"I18nSetter"===(null==e||null===(n=e.setter)||void 0===n||null===(r=n.type)||void 0===r?void 0:r.displayName)}))}function kn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"zh-CN";return B(e)?e:wn({type:"i18n",use:t},t,e)}function _n(e){return"string"==typeof e}function Pn(e,t){var n=200;return new Promise((function(n,r){setTimeout((function(){var o=Object(bn.get)(e,t);if(o)return n(o);r()}),200)})).catch((function(){return Pn(e,t)}))}function xn(e,t){var n=Object(bn.get)(e,t);return n?Promise.resolve(n):Pn(e,t)}function Nn(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&(e.length===t.length&&e.every((function(e){return t.includes(e)})))}function Cn(e){var t;return!(null==e||null===(t=e.getMetadata().configure)||void 0===t||!t.advanced)}function Tn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return setTimeout(e,t)}var Rn=["render","serilize","save","clone","init","upgrade"];function Ln(e){return"number"==typeof e?(console.warn("stage \u76f4\u63a5\u6307\u5b9a\u4e3a\u6570\u5b57\u7684\u4f7f\u7528\u65b9\u5f0f\u5df2\u7ecf\u8fc7\u65f6\uff0c\u5c06\u5728\u4e0b\u4e00\u7248\u672c\u79fb\u9664\uff0c\u8bf7\u76f4\u63a5\u4f7f\u7528 IPublicEnumTransformStage.Render|Serilize|Save|Clone|Init|Upgrade"),Rn[e-1]):e}function An(e,t,n){if(!e)throw new Error("Invariant failed: ".concat(t).concat(n?" in '".concat(n,"'"):""))}function Mn(e,t,n){e&&console.warn("Deprecation: ".concat(t)+(n?", use ".concat(n," instead."):""))}function Dn(e){return e&&e.test&&e.exec&&e.compile}function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(Object(n),!0).forEach((function(t){Vn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vn(e,t,n){return(t=Fn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fn(e){var t=Gn(e,"string");return"symbol"===Kn(t)?t:String(t)}function Gn(e,t){if("object"!==Kn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Kn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Hn(e,t){return Wn(e)||zn(e,t)||Xn(e,t)||Un()}function Un(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function zn(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function Wn(e){if(Array.isArray(e))return e}function $n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Xn(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function Xn(e,t){if(e){if("string"==typeof e)return Yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yn(e,t):void 0}}function Yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qn(e){if("object"===Kn(e)&&null!==e)return e.type&&e.source&&e.compiled}function Jn(e){return e.type&&"actionRef"===e.type}function Zn(e){if(!e)return e;if(Array.isArray(e))return e.map((function(e){return Zn(e)}));if(!V(e))return e;var t,n,r;if(bt(e))return"Slot"===e.value.componentName?{type:"JSSlot",title:null===(t=e.value.props)||void 0===t?void 0:t.slotTitle,name:null===(n=e.value.props)||void 0===n?void 0:n.slotName,value:Zn(e.value.children),params:null===(r=e.value.props)||void 0===r?void 0:r.slotParams}:e.value;if(Sn(e))return{type:"JSExpression",value:e.variable,mock:e.value};if(qn(e))return{type:"JSExpression",value:e.compiled,extType:"function"};if(Jn(e))return{type:"JSExpression",value:"".concat(e.id,".bind(this)")};var o={};return Object.keys(e).forEach((function(t){/^__slot__/.test(t)&&!0===e[t]||(o[t]=Zn(e[t]))})),o}function Qn(e,t){var n;if(e.id===t)return e;var r=e.children,o=e.props;if(Array.isArray(r)){var i=$n(r),a;try{for(i.s();!(a=i.n()).done;){var u;if(n=Qn(a.value,t))return n}}catch(e){i.e(e)}finally{i.f()}}return V(o)&&(n=er(o,t))?n:void 0}function er(e,t){for(var n,r=0,o=Object.entries(e);r<o.length;r++){var i=Hn(o[r],2),a=i[0],u=i[1];if(St(u)){if(Array.isArray(u.value)){var c=$n(u.value),s;try{for(c.s();!(s=c.n()).done;){var l;if(n=Qn(s.value,t))return n}}catch(e){c.e(e)}finally{c.f()}}if(n=Qn(u.value,t))return n}else if(V(u)&&(n=er(u,t)))return n}}function tr(e,t){var n=Bn({},e);return Array.isArray(t)||(t=[t]),t.reduce((function(e,t){if(t.type===r.a.MODIFIED){var n=Qn(e,t.payload.schema.id);if(!n)return e;Object.assign(n,t.payload.schema)}else if(t.type===r.a.ADDED){var o=t.payload,i=o.location,a=o.schema,u=i.parent,c=Qn(e,u.nodeId);c&&(Array.isArray(c.children)?c.children.splice(u.index,0,a):c.children||(c.children=[a]))}else if(t.type===r.a.DELETED){var s,l,f=t.payload.location.parent,p=Qn(e,f.nodeId);p&&Array.isArray(p.children)&&p.children.splice(f.index,1)}return e}),n)}var nr=function e(t,n){if(t)return n(t)?t:e(t.parent,n)};function rr(e,t){var n,r,o,i=null===(n=e.componentMeta)||void 0===n||null===(r=n.advanced)||void 0===r||null===(o=r.callbacks)||void 0===o?void 0:o.onClickHook,a;return"function"!=typeof i||i(t,e)}function or(e){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(n),!0).forEach((function(t){ur(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ur(e,t,n){return(t=fr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fr(r.key),r)}}function lr(e,t,n){return t&&sr(e.prototype,t),n&&sr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fr(e){var t=pr(e,"string");return"symbol"===or(t)?t:String(t)}function pr(e,t){if("object"!==or(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==or(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var hr={debug:-1,log:0,info:0,warn:1,error:2},dr=["#daa569","#00ffff","#385e0f","#7fffd4","#00c957","#b0e0e6","#4169e1","#6a5acd","#87ceeb","#ffff00","#e3cf57","#ff9912","#eb8e55","#ffe384","#40e0d0","#a39480","#d2691e","#ff7d40","#f0e68c","#bc8f8f","#c76114","#734a12","#5e2612","#0000ff","#3d59ab","#1e90ff","#03a89e","#33a1c9","#a020f0","#a066d3","#da70d6","#dda0dd","#688e23","#2e8b57"],vr={debug:"#666666",log:"#bbbbbb",info:"#ffffff",warn:"#bbbbbb",error:"#bbbbbb"},yr={debug:"debug",log:"log",info:"info",warn:"warn",error:"error"},mr={debug:console.log,log:console.log,info:console.log,warn:console.warn,error:console.error},br={},gr=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warn",r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=hr[n]<=hr[t],a="*"===o||r.indexOf(o)>-1;return i&&a},wr=function e(t,n){return function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return mr[t].apply(console,jr(r,n,t))}},Or=function e(t){if(!br[t]){var n=dr[Object.keys(br).length%dr.length];br[t]=n}return br[t]},jr=function e(t,n,r){var o=Or(n),i=vr[r],a=t[0],u="%c[".concat(n,"]%c[").concat(yr[r],"]:");a.forEach((function(e){I(e)?u+="%o":u+="%s"}));var c=[u,"color: ".concat(o),"color: ".concat(i)];return c=c.concat(a)},Sr=function e(t,n){if(!t)return{level:n.level,bizName:n.bizName};if(t.indexOf(":")>-1){var r=t.split(":");return{level:r[0],bizName:r[1]||"*"}}return{level:t,bizName:"*"}},Er={level:"warn",bizName:"*"},kr=function(){function e(t){cr(this,e),this.bizName=void 0,this.targetBizName=void 0,this.targetLevel=void 0,t=ar(ar({},Er),t);var n=location||{},r=(/__(?:logConf|logLevel)__=([^#/&]*)/.exec(n.href)||[])[1],o=Sr(r,t);this.bizName=t.bizName,this.targetBizName=o.bizName,this.targetLevel=o.level}return lr(e,[{key:"debug",value:function e(){if(gr("debug",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wr("debug",this.bizName)(n)}}},{key:"log",value:function e(){if(gr("log",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wr("log",this.bizName)(n)}}},{key:"info",value:function e(){if(gr("info",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wr("info",this.bizName)(n)}}},{key:"warn",value:function e(){if(gr("warn",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wr("warn",this.bizName)(n)}}},{key:"error",value:function e(){if(gr("error",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wr("error",this.bizName)(n)}}}]),e}();function _r(e){return new kr(e)}var Pr=4;function xr(e,t){return!!e.shaken||(e.target!==t.target||Math.pow(e.clientY-t.clientY,2)+Math.pow(e.clientX-t.clientX,2)>4)}function Nr(e){if(!e)return!1;var t=e.split(":");return t.length>1&&t[0].length>0}var Cr=["hover","focus","active","visited"],Tr=/[A-Z]/g,Rr=/[-\s]+(.)?/g,Lr=/([^:]*):\s?(.*)/i;function Ar(e){var t=0,n=0,r=[];return e.split("").forEach((function(o,i){"{"===o&&t++,"}"===o&&(1===t&&(r.push(e.substring(n,i+1)),n=i+1),t--)})),r}function Mr(e){return"[object String]"==={}.toString.call(e)}function Dr(e){return e.replace(Tr,(function(e){return"-".concat(e)})).toLowerCase()}function Ir(e){return e.replace(Rr,(function(e,t){return t?t.toUpperCase():""}))}function Br(e){var t=[];return Object.keys(e).forEach((function(n){t.push("  ".concat(n,": ").concat(e[n],";"))})),t.join("\n")}function Vr(e){if(!e)return{};if(e.default){var t={};return Object.keys(e).forEach((function(n){t[n]="extra"!==n?Vr(e[n]):e[n]})),t}var n={};return Object.keys(e).forEach((function(t){n[Ir(t)]=e[t]})),n}function Fr(e){if(!e)return{};if(e.default){var t={};return Object.keys(e).forEach((function(n){t[n]="extra"!==n?Fr(e[n]):e[n]})),t}var n={};return Object.keys(e).forEach((function(t){n[Dr(t)]=e[t]})),n}function Gr(e){if(!e)return":root {\n\n}";if(e.default){var t=[];return Object.keys(e).forEach((function(n){if("extra"!==n){var r=Cr.indexOf(n)>-1?":":"";t.push(":root".concat("default"===n?"":"".concat(r).concat(n)," {\n").concat(Br(Fr(e[n])),"\n}\n"))}else Array.isArray(e.extra)&&t.push(e.extra.join("\n"))})),t.join("\n")}return":root {\n".concat(Br(Fr(e)),"\n}\n")}function Hr(e){if(!e)return{};var t={},n;return Ar(e).forEach((function(e){if(e.startsWith(":root")){var n=/:root:?(.*)?{(.*)/gi.exec(e.replace(/[\r\n]+/gi,"").trim());if(n){var r;n[1]&&n[1].trim()&&Object(bn.some)(Cr,(function(e){return 0===n[1].indexOf(e)}))?r=n[1].trim():n[1]&&n[1].trim()&&(r=n[1]);var o={};n[2].split(";").reduce((function(e,t){return t.indexOf("base64")>-1?e[e.length-1]+=";".concat(t):e.push(t),e}),[]).forEach((function(e){if(e&&Lr.test(e)){var t=e.match(Lr),n=null==t?void 0:t[1],r=null==t?void 0:t[2];n&&r&&(o[n.trim()]=r.trim())}})),t[r||"default"]=o}}else t.extra=t.extra||[],t.extra.push(e.trim())})),t}function Ur(e){try{return Mr(e)?Vr(Hr(e).default):e.default?Vr(Fr(e.default)):Vr(Fr(e))}catch(e){}return{}}var zr=n(6);function Wr(e){return(Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yr(r.key),r)}}function Xr(e,t,n){return t&&$r(e.prototype,t),n&&$r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yr(e){var t=Kr(e,"string");return"symbol"===Wr(t)?t:String(t)}function Kr(e,t){if("object"!==Wr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Wr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function qr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Jr,Zr=new(Xr((function e(){var t=this;qr(this,e),this.emitter=new tn.a,this.executeTransaction=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.i.REPAINT;t.emitter.emit("[".concat(n,"]startTransaction")),Object(zr.runInAction)(e),t.emitter.emit("[".concat(n,"]endTransaction"))},this.onStartTransaction=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.i.REPAINT;return t.emitter.on("[".concat(n,"]startTransaction"),e),function(){t.emitter.off("[".concat(n,"]startTransaction"),e)}},this.onEndTransaction=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.i.REPAINT;return t.emitter.on("[".concat(n,"]endTransaction"),e),function(){t.emitter.off("[".concat(n,"]endTransaction"),e)}}})))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return i})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return E})),n.d(t,"h",(function(){return _})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return R}));var r={};n.r(r),n.d(r,"Change",(function(){return f})),n.d(r,"InnerChange",(function(){return p}));var o={};n.r(o),n.d(o,"Prop",(function(){return r})),n.d(o,"Rerender",(function(){return h}));var i={},a,u,c;n.r(i),n.d(i,"Node",(function(){return o})),function(e){e.Initial="init",e.Loading="loading",e.Loaded="loaded",e.Error="error"}(a||(a={})),function(e){e.ADDED="added",e.DELETED="deleted",e.MODIFIED="modified",e.COMPOSITE="composite"}(u||(u={})),function(e){e[e.Environment=1]="Environment",e[e.Library=2]="Library",e[e.Theme=3]="Theme",e[e.Runtime=4]="Runtime",e[e.Components=5]="Components",e[e.App=6]="App"}(c||(c={}));var s=[c.Environment,c.Library,c.Theme,c.Runtime,c.Components,c.App],l;!function(e){e.JSUrl="jsUrl",e.CSSUrl="cssUrl",e.CSSText="cssText",e.JSText="jsText",e.Bundle="bundle"}(l||(l={}));var f="node.prop.change",p="node.innerProp.change",h="node.edit.rerender.time",d,v;function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function b(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=w(e,"string");return"symbol"===y(t)?t:String(t)}function w(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e){e.Children="Children",e.Prop="Prop"}(d||(d={})),function(e){e.Children="Children",e.Prop="Prop"}(v||(v={}));var j=b((function e(){O(this,e),this.type=void 0,this.data=void 0,this.nodes=void 0})),S,E,k,_,P,x,N,C,T,R;function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e){return e&&"object"===L(e)}S||(S={}),function(e){e[e.REPAINT=0]="REPAINT"}(E||(E={})),function(e){e[e.REPAINT=0]="REPAINT"}(k||(k={})),function(e){e.Render="render",e.Serilize="serilize",e.Save="save",e.Clone="clone",e.Init="init",e.Upgrade="upgrade"}(_||(_={})),function(e){e.Render="render",e.Serilize="serilize",e.Save="save",e.Clone="clone",e.Init="init",e.Upgrade="upgrade"}(P||(P={})),function(e){e.Node="node",e.NodeData="nodedata"}(x||(x={})),function(e){e.Node="node",e.NodeData="nodedata"}(N||(N={})),function(e){e.SET_VALUE="SET_VALUE",e.SUB_VALUE_CHANGE="SUB_VALUE_CHANGE"}(C||(C={})),function(e){e.SET_VALUE="SET_VALUE",e.SUB_VALUE_CHANGE="SUB_VALUE_CHANGE"}(T||(T={})),function(e){e.Default="default",e.Workspace="workspace",e.Resource="resource",e.EditorView="editorView"}(R||(R={}));var M=n(2);function D(e){return e&&e.prototype&&(e.prototype.isReactComponent||e.prototype instanceof M.Component)}function I(e){return e&&(D(e)||"function"==typeof e)}function B(e){return e&&(Object(M.isValidElement)(e)||I(e))}function V(e){return"string"==typeof e}function F(e){return e&&"function"==typeof e&&!D(e)}function G(e){return e&&"i18n"===e.type}function H(e){return e&&"JSBlock"===e.type}function U(e){return e&&"JSExpression"===e.type&&"function"!==e.extType}function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e){return"object"===z(e)&&e&&"JSFunction"===e.type}function $(e){return e&&"JSSlot"===e.type}function X(e){return"package"in e}function Y(e){return!X(e)}function K(e){return e&&e.componentName}function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e){if("object"!==q(e))return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t||null===Object.getPrototypeOf(t)}function Z(e){return e&&e.componentsTree}function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e){return e&&"object"===Q(e)&&"componentName"in e&&!B(e)}function te(e){return J(e)&&!G(e)}},function(e,t,n){var r,o;
  /*!
    Copyright (c) 2018 Jed Watson.
    Licensed under the MIT License (MIT), see
    http://jedwatson.github.io/classnames
  */!function(){"use strict";var n={}.hasOwnProperty,i="[native code]";function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var i=a.apply(null,r);i&&e.push(i)}}else if("object"===o){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var u in r)n.call(r,u)&&r[u]&&e.push(u)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(o=function(){return a}.apply(t,r=[]))||(e.exports=o)}()},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"$mobx",(function(){return De})),n.d(t,"FlowCancellationError",(function(){return $r})),n.d(t,"ObservableMap",(function(){return ci})),n.d(t,"ObservableSet",(function(){return di})),n.d(t,"Reaction",(function(){return Jn})),n.d(t,"_allowStateChanges",(function(){return nn})),n.d(t,"_allowStateChangesInsideComputed",(function(){return Sr})),n.d(t,"_allowStateReadsEnd",(function(){return xn})),n.d(t,"_allowStateReadsStart",(function(){return Pn})),n.d(t,"_autoAction",(function(){return jr})),n.d(t,"_endAction",(function(){return tn})),n.d(t,"_getAdministration",(function(){return Mi})),n.d(t,"_getGlobalState",(function(){return Dn})),n.d(t,"_interceptReads",(function(){return eo})),n.d(t,"_isComputingDerivation",(function(){return mn})),n.d(t,"_resetGlobalState",(function(){return In})),n.d(t,"_startAction",(function(){return en})),n.d(t,"action",(function(){return Or})),n.d(t,"autorun",(function(){return kr})),n.d(t,"comparer",(function(){return ze})),n.d(t,"computed",(function(){return zt})),n.d(t,"configure",(function(){return Br})),n.d(t,"createAtom",(function(){return Ve})),n.d(t,"defineProperty",(function(){return bo})),n.d(t,"entries",(function(){return po})),n.d(t,"extendObservable",(function(){return Vr})),n.d(t,"flow",(function(){return qr})),n.d(t,"flowResult",(function(){return Zr})),n.d(t,"get",(function(){return mo})),n.d(t,"getAtom",(function(){return Ai})),n.d(t,"getDebugName",(function(){return Di})),n.d(t,"getDependencyTree",(function(){return Fr})),n.d(t,"getObserverTree",(function(){return Hr})),n.d(t,"has",(function(){return yo})),n.d(t,"intercept",(function(){return to})),n.d(t,"isAction",(function(){return Er})),n.d(t,"isBoxedObservable",(function(){return cn})),n.d(t,"isComputed",(function(){return io})),n.d(t,"isComputedProp",(function(){return ao})),n.d(t,"isFlow",(function(){return Qr})),n.d(t,"isFlowCancellationError",(function(){return Xr})),n.d(t,"isObservable",(function(){return co})),n.d(t,"isObservableArray",(function(){return oi})),n.d(t,"isObservableMap",(function(){return si})),n.d(t,"isObservableObject",(function(){return ji})),n.d(t,"isObservableProp",(function(){return so})),n.d(t,"isObservableSet",(function(){return vi})),n.d(t,"keys",(function(){return lo})),n.d(t,"makeAutoObservable",(function(){return Uo})),n.d(t,"makeObservable",(function(){return Go})),n.d(t,"observable",(function(){return Vt})),n.d(t,"observe",(function(){return wo})),n.d(t,"onBecomeObserved",(function(){return Rr})),n.d(t,"onBecomeUnobserved",(function(){return Lr})),n.d(t,"onReactionError",(function(){return Zn})),n.d(t,"override",(function(){return qe})),n.d(t,"ownKeys",(function(){return go})),n.d(t,"reaction",(function(){return xr})),n.d(t,"remove",(function(){return vo})),n.d(t,"runInAction",(function(){return Sr})),n.d(t,"set",(function(){return ho})),n.d(t,"spy",(function(){return lr})),n.d(t,"toJS",(function(){return ko})),n.d(t,"trace",(function(){return _o})),n.d(t,"transaction",(function(){return xo})),n.d(t,"untracked",(function(){return En})),n.d(t,"values",(function(){return fo})),n.d(t,"when",(function(){return No}));var r="Invalid value for configuration 'enforceActions', expected 'never', 'always' or 'observed'",o=function e(t,n){return"Cannot apply '"+t+"' to '"+n.toString()+"': Field not found."},i="'keys()' can only be used on observable objects, arrays, sets and maps",a="'values()' can only be used on observable objects, arrays, sets and maps",u="'entries()' can only be used on observable objects, arrays and maps",c="'set()' can only be used on observable objects, arrays and maps",s="'remove()' can only be used on observable objects, arrays and maps",l="'has()' can only be used on observable objects, arrays and maps",f="'get()' can only be used on observable objects, arrays and maps",p="Invalid annotation",h="Dynamic observable objects cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)",d="Intercept handlers should return nothing or a change object",v="Observable arrays cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)",y="Modification exception: the internal structure of an observable array was changed.",m=function e(t,n){return"[mobx.array] Index out of bounds, "+t+" is larger than "+n},b="mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js",g=function e(t){return"Cannot initialize from classes that inherit from Map: "+t.constructor.name},w=function e(t){return"Cannot initialize map from "+t},O=function e(t){return"Cannot convert to map from '"+t+"'"},j="mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js",S="It is not possible to get index atoms from arrays",E=function e(t){return"Cannot obtain administration from "+t},k=function e(t,n){return"the entry '"+t+"' does not exist in the observable map '"+n+"'"},_="please specify a property",P=function e(t,n){return"no observable property '"+t.toString()+"' found on the observable object '"+n+"'"},x=function e(t){return"Cannot obtain atom from "+t},N="Expecting some object",C="invalid action stack. did you forget to finish an action?",T="missing option for computed: get",R=function e(t,n){return"Cycle detected in computation "+t+": "+n},L=function e(t){return"The setter of computed value '"+t+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"},A=function e(t){return"[ComputedValue '"+t+"'] It is not possible to assign a new value to a computed value."},M="There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`",D="isolateGlobalState should be called before MobX is running any reactions",I=function e(t){return"[mobx] `observableArray."+t+"()` mutates the array in-place, which is not allowed inside a derivation. Use `array.slice()."+t+"()` instead"},B="'ownKeys()' can only be used on observable objects",V="'defineProperty()' can only be used on observable objects",F={};function G(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var H={};function U(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:H}var z=Object.assign,W=Object.getOwnPropertyDescriptor,$=Object.defineProperty,X=Object.prototype,Y=[];Object.freeze(Y);var K={};Object.freeze(K);var q="undefined"!=typeof Proxy,J=Object.toString();function Z(){q||G("Proxy not available")}function Q(e){0}function ee(){return++An.mobxGuid}function te(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var ne=function e(){};function re(e){return"function"==typeof e}function oe(e){var t;switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function ie(e){return null!==e&&"object"==typeof e}function ae(e){if(!ie(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===J}function ue(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function ce(e,t,n){$(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function se(e,t,n){$(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function le(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return ie(e)&&!0===e[n]}}function fe(e){return e instanceof Map}function pe(e){return e instanceof Set}var he=void 0!==Object.getOwnPropertySymbols;function de(e){var t=Object.keys(e);if(!he)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return X.propertyIsEnumerable.call(e,t)}))):t}var ve="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:he?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function ye(e){return"string"==typeof e?e:"symbol"==typeof e?e.toString():new String(e).toString()}function me(e){return null===e?null:"object"==typeof e?""+e:e}function be(e,t){return X.hasOwnProperty.call(e,t)}var ge=Object.getOwnPropertyDescriptors||function e(t){var n={};return ve(t).forEach((function(e){n[e]=W(t,e)})),n};function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ce(r.key),r)}}function Oe(e,t,n){return t&&we(e.prototype,t),n&&we(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function je(){return(je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Se(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ee(e,t)}function Ee(e,t){return(Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e,t){if(e){if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=_e(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ne(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ce(e){var t=Ne(e,"string");return"symbol"==typeof t?t:String(t)}var Te=Symbol("mobx-stored-annotations");function Re(e){function t(t,n){Le(t,n,e)}return Object.assign(t,e)}function Le(e,t,n){var r;be(e,Te)||ce(e,Te,je({},e[Te])),Ae(e,n,t),Je(n)||(e[Te][t]=n)}function Ae(e,t,n){var r,o,i}function Me(e){return be(e,Te)||ce(e,Te,je({},e[Te])),e[Te]}var De=Symbol("mobx administration"),Ie=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=pn.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function e(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function e(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function e(){return Wn(this)},t.reportChanged=function e(){Un(),$n(this),An.stateVersion=An.stateVersion<Number.MAX_SAFE_INTEGER?An.stateVersion+1:Number.MIN_SAFE_INTEGER,zn()},t.toString=function e(){return this.name_},e}(),Be=le("Atom",Ie);function Ve(e,t,n){void 0===t&&(t=ne),void 0===n&&(n=ne);var r=new Ie(e);return t!==ne&&Rr(r,t),n!==ne&&Lr(r,n),r}function Fe(e,t){return e===t}function Ge(e,t){return Bi(e,t)}function He(e,t){return Bi(e,t,1)}function Ue(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t}var ze={identity:Fe,structural:Ge,default:Ue,shallow:He};function We(e,t,n){return co(e)?e:Array.isArray(e)?Vt.array(e,{name:n}):ae(e)?Vt.object(e,void 0,{name:n}):fe(e)?Vt.map(e,{name:n}):pe(e)?Vt.set(e,{name:n}):"function"!=typeof e||Er(e)||Qr(e)?e:ue(e)?qr(e):jr(n,e)}function $e(e,t,n){return null==e||ji(e)||oi(e)||si(e)||vi(e)?e:Array.isArray(e)?Vt.array(e,{name:n,deep:!1}):ae(e)?Vt.object(e,void 0,{name:n,deep:!1}):fe(e)?Vt.map(e,{name:n,deep:!1}):pe(e)?Vt.set(e,{name:n,deep:!1}):void 0}function Xe(e){return e}function Ye(e,t){return Bi(e,t)?t:e}var Ke="override",qe=Re({annotationType_:Ke,make_:Ze,extend_:Qe});function Je(e){return e.annotationType_===Ke}function Ze(e,t){return 0}function Qe(e,t,n,r){G("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function et(e,t){return{annotationType_:e,options_:t,make_:tt,extend_:nt}}function tt(e,t,n,r){var o;if(null!=(o=this.options_)&&o.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(Er(n.value))return 1;var i=ot(e,this,t,n,!1);return $(r,t,i),2}function nt(e,t,n,r){var o=ot(e,this,t,n);return e.defineProperty_(t,o,r)}function rt(e,t,n,r){var o=t.annotationType_,i=r.value}function ot(e,t,n,r,o){var i,a,u,c,s,l,f;void 0===o&&(o=An.safeDescriptors),rt(e,t,n,r);var p=r.value,h;null!=(i=t.options_)&&i.bound&&(p=p.bind(null!=(h=e.proxy_)?h:e.target_));return{value:Zt(null!=(a=null==(u=t.options_)?void 0:u.name)?a:n.toString(),p,null!=(c=null==(s=t.options_)?void 0:s.autoAction)&&c,null!=(l=t.options_)&&l.bound?null!=(f=e.proxy_)?f:e.target_:void 0),configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function it(e,t){return{annotationType_:e,options_:t,make_:at,extend_:ut}}function at(e,t,n,r){var o;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(o=this.options_)&&o.bound&&(!be(e.target_,t)||!Qr(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(Qr(n.value))return 1;var i=st(e,this,t,n,!1,!1);return $(r,t,i),2}function ut(e,t,n,r){var o,i=st(e,this,t,n,null==(o=this.options_)?void 0:o.bound);return e.defineProperty_(t,i,r)}function ct(e,t,n,r){var o=t.annotationType_,i=r.value}function st(e,t,n,r,o,i){void 0===i&&(i=An.safeDescriptors),ct(e,t,n,r);var a=r.value,u;(Qr(a)||(a=qr(a)),o)&&((a=a.bind(null!=(u=e.proxy_)?u:e.target_)).isMobXFlow=!0);return{value:a,configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function lt(e,t){return{annotationType_:e,options_:t,make_:ft,extend_:pt}}function ft(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function pt(e,t,n,r){return ht(e,this,t,n),e.defineComputedProperty_(t,je({},this.options_,{get:n.get,set:n.set}),r)}function ht(e,t,n,r){var o=t.annotationType_,i=r.get}function dt(e,t){return{annotationType_:e,options_:t,make_:vt,extend_:yt}}function vt(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function yt(e,t,n,r){var o,i;return mt(e,this,t,n),e.defineObservableProperty_(t,n.value,null!=(o=null==(i=this.options_)?void 0:i.enhancer)?o:We,r)}function mt(e,t,n,r){var o=t.annotationType_}var bt="true",gt=wt();function wt(e){return{annotationType_:bt,options_:e,make_:Ot,extend_:jt}}function Ot(e,t,n,r){var o,i,a,u,c,s;if(n.get)return zt.make_(e,t,n,r);if(n.set){var l=Zt(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!An.safeDescriptors||e.isPlainObject_,set:l})?0:2:($(r,t,{configurable:!0,set:l}),2)}if(r!==e.target_&&"function"==typeof n.value)return ue(n.value)?(null!=(u=this.options_)&&u.autoBind?qr.bound:qr).make_(e,t,n,r):(null!=(a=this.options_)&&a.autoBind?jr.bound:jr).make_(e,t,n,r);var f=!1===(null==(o=this.options_)?void 0:o.deep)?Vt.ref:Vt,p;"function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(p=e.proxy_)?p:e.target_));return f.make_(e,t,n,r)}function jt(e,t,n,r){var o,i,a,u;if(n.get)return zt.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:!An.safeDescriptors||e.isPlainObject_,set:Zt(t.toString(),n.set)},r);"function"==typeof n.value&&null!=(o=this.options_)&&o.autoBind&&(n.value=n.value.bind(null!=(a=e.proxy_)?a:e.target_));return(!1===(null==(i=this.options_)?void 0:i.deep)?Vt.ref:Vt).extend_(e,t,n,r)}var St="observable",Et="observable.ref",kt="observable.shallow",_t="observable.struct",Pt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function xt(e){return e||Pt}Object.freeze(Pt);var Nt=dt(St),Ct=dt(Et,{enhancer:Xe}),Tt=dt(kt,{enhancer:$e}),Rt=dt(_t,{enhancer:Ye}),Lt=Re(Nt);function At(e){return!0===e.deep?We:!1===e.deep?Xe:Dt(e.defaultDecorator)}function Mt(e){var t;return e?null!=(t=e.defaultDecorator)?t:wt(e):void 0}function Dt(e){var t,n;return e&&null!=(t=null==(n=e.options_)?void 0:n.enhancer)?t:We}function It(e,t,n){if(!oe(t))return co(e)?e:ae(e)?Vt.object(e,t,n):Array.isArray(e)?Vt.array(e,t):fe(e)?Vt.map(e,t):pe(e)?Vt.set(e,t):"object"==typeof e&&null!==e?e:Vt.box(e,t);Le(e,t,Nt)}z(It,Lt);var Bt,Vt=z(It,{box:function e(t,n){var r=xt(n);return new un(t,At(r),r.name,!0,r.equals)},array:function e(t,n){var r=xt(n);return(!1===An.useProxies||!1===r.proxy?Li:Ko)(t,At(r),r.name)},map:function e(t,n){var r=xt(n);return new ci(t,At(r),r.name)},set:function e(t,n){var r=xt(n);return new di(t,At(r),r.name)},object:function e(t,n,r){return Vr(!1===An.useProxies||!1===(null==r?void 0:r.proxy)?gi({},r):Ao({},r),t,n)},ref:Re(Ct),shallow:Re(Tt),deep:Lt,struct:Re(Rt)}),Ft="computed",Gt="computed.struct",Ht=lt(Ft),Ut=lt(Gt,{equals:ze.structural}),zt=function e(t,n){if(oe(n))return Le(t,n,Ht);if(ae(t))return Re(lt(Ft,t));var r=ae(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new ln(r)},Wt,$t;Object.assign(zt,Ht),zt.struct=Re(Ut);var Xt=0,Yt=1,Kt=null!=(Wt=null==($t=W((function(){}),"name"))?void 0:$t.configurable)&&Wt,qt={value:"action",configurable:!0,writable:!1,enumerable:!1},Jt;function Zt(e,t,n,r){function o(){return Qt(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),o.isMobxAction=!0,Kt&&(qt.value=e,$(o,"name",qt)),o}function Qt(e,t,n,r,o){var i=en(e,t,r,o);try{return n.apply(r,o)}catch(e){throw i.error_=e,e}finally{tn(i)}}function en(e,t,n,r){var o=!1,i=0,a,u=An.trackingDerivation,c=!t||!u;Un();var s=An.allowStateChanges;c&&(kn(),s=rn(!0));var l,f={runAsAction_:c,prevDerivation_:u,prevAllowStateChanges_:s,prevAllowStateReads_:Pn(!0),notifySpy_:!1,startTime_:0,actionId_:Yt++,parentActionId_:Xt};return Xt=f.actionId_,f}function tn(e){Xt!==e.actionId_&&G(30),Xt=e.parentActionId_,void 0!==e.error_&&(An.suppressReactionErrors=!0),on(e.prevAllowStateChanges_),xn(e.prevAllowStateReads_),zn(),e.runAsAction_&&_n(e.prevDerivation_),An.suppressReactionErrors=!1}function nn(e,t){var n=rn(e);try{return t()}finally{on(n)}}function rn(e){var t=An.allowStateChanges;return An.allowStateChanges=e,t}function on(e){An.allowStateChanges=e}var an="create";Jt=Symbol.toPrimitive;var un=function(e){function t(t,n,r,o,i){var a;return void 0===r&&(r="ObservableValue"),void 0===o&&(o=!0),void 0===i&&(i=ze.default),(a=e.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=r,a.equals=i,a.value_=n(t,void 0,r),a}Se(t,e);var n=t.prototype;return n.dehanceValue=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},n.set=function e(t){var n=this.value_;if((t=this.prepareNewValue_(t))!==An.UNCHANGED){var r=!1;0,this.setNewValue_(t)}},n.prepareNewValue_=function e(t){if(bn(this),Mo(this)){var n=Io(this,{object:this,type:Wo,newValue:t});if(!n)return An.UNCHANGED;t=n.newValue}return t=this.enhancer(t,this.value_,this.name_),this.equals(this.value_,t)?An.UNCHANGED:t},n.setNewValue_=function e(t){var n=this.value_;this.value_=t,this.reportChanged(),Bo(this)&&Fo(this,{type:Wo,object:this,newValue:t,oldValue:n})},n.get=function e(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function e(t){return Do(this,t)},n.observe_=function e(t,n){return n&&t({observableKind:"value",debugObjectName:this.name_,object:this,type:Wo,newValue:this.value_,oldValue:void 0}),Vo(this,t)},n.raw=function e(){return this.value_},n.toJSON=function e(){return this.get()},n.toString=function e(){return this.name_+"["+this.value_+"]"},n.valueOf=function e(){return me(this.get())},n[Jt]=function(){return this.valueOf()},t}(Ie),cn=le("ObservableValue",un),sn;sn=Symbol.toPrimitive;var ln=function(){function e(e){this.dependenciesState_=pn.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=pn.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new dn(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=hn.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||G(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=Zt("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?ze.structural:ze.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function e(){Yn(this)},t.onBO=function e(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function e(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function e(){if(this.isComputing_&&G(32,this.name_,this.derivation),0!==An.inBatch||0!==this.observers_.size||this.keepAlive_){if(Wn(this),yn(this)){var t=An.trackingContext;this.keepAlive_&&!t&&(An.trackingContext=this),this.trackAndCompute()&&Xn(this),An.trackingContext=t}}else yn(this)&&(this.warnAboutUntrackedRead_(),Un(),this.value_=this.computeValue_(!1),zn());var n=this.value_;if(vn(n))throw n.cause;return n},t.set=function e(t){if(this.setter_){this.isRunningSetter_&&G(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,t)}finally{this.isRunningSetter_=!1}}else G(34,this.name_)},t.trackAndCompute=function e(){var t=this.value_,n=this.dependenciesState_===pn.NOT_TRACKING_,r=this.computeValue_(!0),o=n||vn(t)||vn(r)||!this.equals_(t,r);return o&&(this.value_=r),o},t.computeValue_=function e(t){this.isComputing_=!0;var n=rn(!1),r;if(t)r=wn(this,this.derivation,this.scope_);else if(!0===An.disableErrorBoundaries)r=this.derivation.call(this.scope_);else try{r=this.derivation.call(this.scope_)}catch(e){r=new dn(e)}return on(n),this.isComputing_=!1,r},t.suspend_=function e(){this.keepAlive_||(Sn(this),this.value_=void 0)},t.observe_=function e(t,n){var r=this,o=!0,i=void 0;return kr((function(){var e=r.get();if(!o||n){var a=kn();t({observableKind:"computed",debugObjectName:r.name_,type:Wo,object:r,newValue:e,oldValue:i}),_n(a)}o=!1,i=e}))},t.warnAboutUntrackedRead_=function e(){},t.toString=function e(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function e(){return me(this.get())},t[sn]=function(){return this.valueOf()},e}(),fn=le("ComputedValue",ln),pn,hn;!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(pn||(pn={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(hn||(hn={}));var dn=function e(t){this.cause=void 0,this.cause=t};function vn(e){return e instanceof dn}function yn(e){switch(e.dependenciesState_){case pn.UP_TO_DATE_:return!1;case pn.NOT_TRACKING_:case pn.STALE_:return!0;case pn.POSSIBLY_STALE_:for(var t=Pn(!0),n=kn(),r=e.observing_,o=r.length,i=0;i<o;i++){var a=r[i];if(fn(a)){if(An.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return _n(n),xn(t),!0}if(e.dependenciesState_===pn.STALE_)return _n(n),xn(t),!0}}return Nn(e),_n(n),xn(t),!1}}function mn(){return null!==An.trackingDerivation}function bn(e){var t}function gn(e){0}function wn(e,t,n){var r=Pn(!0);Nn(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++An.runId;var o=An.trackingDerivation,i;if(An.trackingDerivation=e,An.inBatch++,!0===An.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new dn(e)}return An.inBatch--,An.trackingDerivation=o,jn(e),On(e),xn(r),i}function On(e){}function jn(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=pn.UP_TO_DATE_,o=0,i=e.unboundDepsCount_,a=0;a<i;a++){var u=n[a];0===u.diffValue_&&(u.diffValue_=1,o!==a&&(n[o]=u),o++),u.dependenciesState_>r&&(r=u.dependenciesState_)}for(n.length=o,e.newObserving_=null,i=t.length;i--;){var c=t[i];0===c.diffValue_&&Gn(c,e),c.diffValue_=0}for(;o--;){var s=n[o];1===s.diffValue_&&(s.diffValue_=0,Fn(s,e))}r!==pn.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function Sn(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Gn(t[n],e);e.dependenciesState_=pn.NOT_TRACKING_}function En(e){var t=kn();try{return e()}finally{_n(t)}}function kn(){var e=An.trackingDerivation;return An.trackingDerivation=null,e}function _n(e){An.trackingDerivation=e}function Pn(e){var t=An.allowStateReads;return An.allowStateReads=e,t}function xn(e){An.allowStateReads=e}function Nn(e){if(e.dependenciesState_!==pn.UP_TO_DATE_){e.dependenciesState_=pn.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=pn.UP_TO_DATE_}}var Cn=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],Tn=function e(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0,this.stateVersion=Number.MIN_SAFE_INTEGER},Rn=!0,Ln=!1,An=function(){var e=U();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Rn=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Tn).version&&(Rn=!1),Rn?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Tn):(setTimeout((function(){Ln||G(35)}),1),new Tn)}();function Mn(){if((An.pendingReactions.length||An.inBatch||An.isRunningReactions)&&G(36),Ln=!0,Rn){var e=U();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),An=new Tn}}function Dn(){return An}function In(){var e=new Tn;for(var t in e)-1===Cn.indexOf(t)&&(An[t]=e[t]);An.allowStateChanges=!An.enforceActions}function Bn(e){return e.observers_&&e.observers_.size>0}function Vn(e){return e.observers_}function Fn(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Gn(e,t){e.observers_.delete(t),0===e.observers_.size&&Hn(e)}function Hn(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,An.pendingUnobservations.push(e))}function Un(){An.inBatch++}function zn(){if(0==--An.inBatch){tr();for(var e=An.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof ln&&n.suspend_())}An.pendingUnobservations=[]}}function Wn(e){gn(e);var t=An.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&An.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(0===e.observers_.size&&An.inBatch>0&&Hn(e),!1)}function $n(e){e.lowestObserverState_!==pn.STALE_&&(e.lowestObserverState_=pn.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===pn.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=pn.STALE_})))}function Xn(e){e.lowestObserverState_!==pn.STALE_&&(e.lowestObserverState_=pn.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===pn.POSSIBLY_STALE_?t.dependenciesState_=pn.STALE_:t.dependenciesState_===pn.UP_TO_DATE_&&(e.lowestObserverState_=pn.UP_TO_DATE_)})))}function Yn(e){e.lowestObserverState_===pn.UP_TO_DATE_&&(e.lowestObserverState_=pn.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===pn.UP_TO_DATE_&&(e.dependenciesState_=pn.POSSIBLY_STALE_,e.onBecomeStale_())})))}function Kn(e,t){if(console.log("[mobx.trace] '"+e.name_+"' is invalidated due to a change in: '"+t.name_+"'"),e.isTracing_===hn.BREAK){var n=[];qn(Fr(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name_+"'\n\nYou are entering this break point because derivation '"+e.name_+"' is being traced and '"+t.name_+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof ln?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function qn(e,t,n){t.length>=1e3?t.push("(and many more)"):(t.push(""+"\t".repeat(n-1)+e.name),e.dependencies&&e.dependencies.forEach((function(e){return qn(e,t,n+1)})))}var Jn=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=pn.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=hn.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function e(){this.schedule_()},t.schedule_=function e(){this.isScheduled_||(this.isScheduled_=!0,An.pendingReactions.push(this),tr())},t.isScheduled=function e(){return this.isScheduled_},t.runReaction_=function e(){if(!this.isDisposed_){Un(),this.isScheduled_=!1;var t=An.trackingContext;if(An.trackingContext=this,yn(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}An.trackingContext=t,zn()}},t.track=function e(t){if(!this.isDisposed_){Un();var n=!1,r;0,this.isRunning_=!0;var o=An.trackingContext;An.trackingContext=this;var i=wn(this,t,void 0);An.trackingContext=o,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&Sn(this),vn(i)&&this.reportExceptionInDerivation_(i.cause),zn()}},t.reportExceptionInDerivation_=function e(t){var n=this;if(this.errorHandler_)this.errorHandler_(t,this);else{if(An.disableErrorBoundaries)throw t;var r="[mobx] uncaught error in '"+this+"'";An.suppressReactionErrors||console.error(r,t),An.globalReactionErrorHandlers.forEach((function(e){return e(t,n)}))}},t.dispose=function e(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Un(),Sn(this),zn()))},t.getDisposer_=function e(){var t=this.dispose.bind(this);return t[De]=this,t},t.toString=function e(){return"Reaction["+this.name_+"]"},t.trace=function e(t){void 0===t&&(t=!1),_o(this,t)},e}();function Zn(e){return An.globalReactionErrorHandlers.push(e),function(){var t=An.globalReactionErrorHandlers.indexOf(e);t>=0&&An.globalReactionErrorHandlers.splice(t,1)}}var Qn=100,er=function e(t){return t()};function tr(){An.inBatch>0||An.isRunningReactions||er(nr)}function nr(){An.isRunningReactions=!0;for(var e=An.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction_()}An.isRunningReactions=!1}var rr=le("Reaction",Jn);function or(e){var t=er;er=function n(r){return e((function(){return t(r)}))}}function ir(){return!1}function ar(e){var t,n,r}function ur(e){var t}var cr={type:"report-end",spyReportEnd:!0};function sr(e){}function lr(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var fr="action",pr="action.bound",hr="autoAction",dr="autoAction.bound",vr="<unnamed action>",yr=et(fr),mr=et(pr,{bound:!0}),br=et(hr,{autoAction:!0}),gr=et(dr,{autoAction:!0,bound:!0});function wr(e){var t;return function t(n,r){return re(n)?Zt(n.name||"<unnamed action>",n,e):re(r)?Zt(n,r,e):oe(r)?Le(n,r,e?br:yr):oe(n)?Re(et(e?hr:fr,{name:n,autoAction:e})):void 0}}var Or=wr(!1);Object.assign(Or,yr);var jr=wr(!0);function Sr(e){return Qt(e.name||"<unnamed action>",!1,e,this,void 0)}function Er(e){return re(e)&&!0===e.isMobxAction}function kr(e,t){var n,r;void 0===t&&(t=K);var o=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun",i,a;if(!t.scheduler&&!t.delay)a=new Jn(o,(function(){this.track(s)}),t.onError,t.requiresObservable);else{var u=Pr(t),c=!1;a=new Jn(o,(function(){c||(c=!0,u((function(){c=!1,a.isDisposed_||a.track(s)})))}),t.onError,t.requiresObservable)}function s(){e(a)}return a.schedule_(),a.getDisposer_()}Object.assign(jr,br),Or.bound=Re(mr),jr.bound=Re(gr);var _r=function e(t){return t()};function Pr(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:_r}function xr(e,t,n){var r;void 0===n&&(n=K);var o=null!=(r=n.name)?r:"Reaction",i=Or(o,n.onError?Nr(n.onError,t):t),a=!n.scheduler&&!n.delay,u=Pr(n),c=!0,s=!1,l,f,p=n.compareStructural?ze.structural:n.equals||ze.default,h=new Jn(o,(function(){c||a?d():s||(s=!0,u(d))}),n.onError,n.requiresObservable);function d(){if(s=!1,!h.isDisposed_){var t=!1;h.track((function(){var n=nn(!1,(function(){return e(h)}));t=c||!p(l,n),f=l,l=n})),(c&&n.fireImmediately||!c&&t)&&i(l,f,h),c=!1}}return h.schedule_(),h.getDisposer_()}function Nr(e,t){return function(){try{return t.apply(this,arguments)}catch(t){e.call(this,t)}}}var Cr="onBO",Tr="onBUO";function Rr(e,t,n){return Ar("onBO",e,t,n)}function Lr(e,t,n){return Ar("onBUO",e,t,n)}function Ar(e,t,n,r){var o="function"==typeof r?Ai(t,n):Ai(t),i=re(r)?r:n,a=e+"L";return o[a]?o[a].add(i):o[a]=new Set([i]),function(){var e=o[a];e&&(e.delete(i),0===e.size&&delete o[a])}}var Mr="never",Dr="always",Ir="observed";function Br(e){!0===e.isolateGlobalState&&Mn();var t=e.useProxies,n=e.enforceActions;if(void 0!==t&&(An.useProxies=t===Dr||t!==Mr&&"undefined"!=typeof Proxy),"ifavailable"===t&&(An.verifyProxies=!0),void 0!==n){var r=n===Dr?Dr:n===Ir;An.enforceActions=r,An.allowStateChanges=!0!==r&&r!==Dr}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(An[t]=!!e[t])})),An.allowStateReads=!An.observableRequiresReaction,e.reactionScheduler&&or(e.reactionScheduler)}function Vr(e,t,n,r){var o=ge(t),i=gi(e,r)[De];Un();try{ve(o).forEach((function(e){i.extend_(e,o[e],!n||(!(e in n)||n[e]))}))}finally{zn()}return e}function Fr(e,t){return Gr(Ai(e,t))}function Gr(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=zr(e.observing_).map(Gr)),t}function Hr(e,t){return Ur(Ai(e,t))}function Ur(e){var t={name:e.name_};return Bn(e)&&(t.observers=Array.from(Vn(e)).map(Ur)),t}function zr(e){return Array.from(new Set(e))}var Wr=0;function $r(){this.message="FLOW_CANCELLED"}function Xr(e){return e instanceof $r}$r.prototype=Object.create(Error.prototype);var Yr=it("flow"),Kr=it("flow.bound",{bound:!0}),qr=Object.assign((function e(t,n){if(oe(n))return Le(t,n,Yr);var r=t,o=r.name||"<unnamed flow>",i=function e(){var t=this,n=arguments,i=++Wr,a=Or(o+" - runid: "+i+" - init",r).apply(t,n),u,c=void 0,s=new Promise((function(e,t){var n=0;function r(e){var r;c=void 0;try{r=Or(o+" - runid: "+i+" - yield "+n++,a.next).call(a,e)}catch(e){return t(e)}l(r)}function s(e){var r;c=void 0;try{r=Or(o+" - runid: "+i+" - yield "+n++,a.throw).call(a,e)}catch(e){return t(e)}l(r)}function l(n){if(!re(null==n?void 0:n.then))return n.done?e(n.value):(c=Promise.resolve(n.value)).then(r,s);n.then(l,t)}u=t,r(void 0)}));return s.cancel=Or(o+" - runid: "+i+" - cancel",(function(){try{c&&Jr(c);var e=a.return(void 0),t=Promise.resolve(e.value);t.then(ne,ne),Jr(t),u(new $r)}catch(e){u(e)}})),s};return i.isMobXFlow=!0,i}),Yr);function Jr(e){re(e.cancel)&&e.cancel()}function Zr(e){return e}function Qr(e){return!0===(null==e?void 0:e.isMobXFlow)}function eo(e,t,n){var r;return si(e)||oi(e)||cn(e)?r=Mi(e):ji(e)&&(r=Mi(e,t)),r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0}}function to(e,t,n){return re(n)?ro(e,t,n):no(e,t)}function no(e,t){return Mi(e).intercept_(t)}function ro(e,t,n){return Mi(e,t).intercept_(n)}function oo(e,t){if(void 0===t)return fn(e);if(!1===ji(e))return!1;if(!e[De].values_.has(t))return!1;var n=Ai(e,t);return fn(n)}function io(e){return oo(e)}function ao(e,t){return oo(e,t)}function uo(e,t){return!!e&&(void 0!==t?!!ji(e)&&e[De].values_.has(t):ji(e)||!!e[De]||Be(e)||rr(e)||fn(e))}function co(e){return uo(e)}function so(e,t){return uo(e,t)}function lo(e){return ji(e)?e[De].keys_():si(e)||vi(e)?Array.from(e.keys()):oi(e)?e.map((function(e,t){return t})):void G(5)}function fo(e){return ji(e)?lo(e).map((function(t){return e[t]})):si(e)?lo(e).map((function(t){return e.get(t)})):vi(e)?Array.from(e.values()):oi(e)?e.slice():void G(6)}function po(e){return ji(e)?lo(e).map((function(t){return[t,e[t]]})):si(e)?lo(e).map((function(t){return[t,e.get(t)]})):vi(e)?Array.from(e.entries()):oi(e)?e.map((function(e,t){return[t,e]})):void G(7)}function ho(e,t,n){if(2!==arguments.length||vi(e))ji(e)?e[De].set_(t,n):si(e)?e.set(t,n):vi(e)?e.add(t):oi(e)?("number"!=typeof t&&(t=parseInt(t,10)),t<0&&G("Invalid index: '"+t+"'"),Un(),t>=e.length&&(e.length=t+1),e[t]=n,zn()):G(8);else{Un();var r=t;try{for(var o in r)ho(e,o,r[o])}finally{zn()}}}function vo(e,t){ji(e)?e[De].delete_(t):si(e)||vi(e)?e.delete(t):oi(e)?("number"!=typeof t&&(t=parseInt(t,10)),e.splice(t,1)):G(9)}function yo(e,t){return ji(e)?e[De].has_(t):si(e)||vi(e)?e.has(t):oi(e)?t>=0&&t<e.length:void G(10)}function mo(e,t){if(yo(e,t))return ji(e)?e[De].get_(t):si(e)?e.get(t):oi(e)?e[t]:void G(11)}function bo(e,t,n){if(ji(e))return e[De].defineProperty_(t,n);G(39)}function go(e){if(ji(e))return e[De].ownKeys_();G(38)}function wo(e,t,n,r){return re(n)?jo(e,t,n,r):Oo(e,t,n)}function Oo(e,t,n){return Mi(e).observe_(t,n)}function jo(e,t,n,r){return Mi(e,t).observe_(n,r)}function So(e,t,n){return e.set(t,n),n}function Eo(e,t){if(null==e||"object"!=typeof e||e instanceof Date||!co(e))return e;if(cn(e)||fn(e))return Eo(e.get(),t);if(t.has(e))return t.get(e);if(oi(e)){var n=So(t,e,new Array(e.length));return e.forEach((function(e,r){n[r]=Eo(e,t)})),n}if(vi(e)){var r=So(t,e,new Set);return e.forEach((function(e){r.add(Eo(e,t))})),r}if(si(e)){var o=So(t,e,new Map);return e.forEach((function(e,n){o.set(n,Eo(e,t))})),o}var i=So(t,e,{});return go(e).forEach((function(n){X.propertyIsEnumerable.call(e,n)&&(i[n]=Eo(e[n],t))})),i}function ko(e,t){return Eo(e,new Map)}function _o(){G("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"boolean"==typeof n[n.length-1]&&(e=n.pop());var o=Po(n);if(!o)return G("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");o.isTracing_===hn.NONE&&console.log("[mobx.trace] '"+o.name_+"' tracing enabled"),o.isTracing_=e?hn.BREAK:hn.LOG}function Po(e){switch(e.length){case 0:return An.trackingDerivation;case 1:return Ai(e[0]);case 2:return Ai(e[0],e[1])}}function xo(e,t){void 0===t&&(t=void 0),Un();try{return e.apply(t)}finally{zn()}}function No(e,t,n){return 1===arguments.length||t&&"object"==typeof t?To(e,t):Co(e,t,n||{})}function Co(e,t,n){var r;if("number"==typeof n.timeout){var o=new Error("WHEN_TIMEOUT");r=setTimeout((function(){if(!a[De].isDisposed_){if(a(),!n.onError)throw o;n.onError(o)}}),n.timeout)}n.name="When";var i=Zt("When-effect",t),a=kr((function(t){var n;nn(!1,e)&&(t.dispose(),r&&clearTimeout(r),i())}),n);return a}function To(e,t){var n,r,o;if(null!=t&&null!=(n=t.signal)&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function e(){return null}});var i=new Promise((function(n,i){var a,u=Co(e,n,je({},t,{onError:i}));r=function e(){u(),i(new Error("WHEN_CANCELLED"))},o=function e(){u(),i(new Error("WHEN_ABORTED"))},null==t||null==(a=t.signal)||null==a.addEventListener||a.addEventListener("abort",o)})).finally((function(){var e;return null==t||null==(e=t.signal)||null==e.removeEventListener?void 0:e.removeEventListener("abort",o)}));return i.cancel=r,i}function Ro(e){return e[De]}qr.bound=Re(Kr);var Lo={has:function e(t,n){return Ro(t).has_(n)},get:function e(t,n){return Ro(t).get_(n)},set:function e(t,n,r){var o;return!!oe(n)&&(null==(o=Ro(t).set_(n,r,!0))||o)},deleteProperty:function e(t,n){var r;return!!oe(n)&&(null==(r=Ro(t).delete_(n,!0))||r)},defineProperty:function e(t,n,r){var o;return null==(o=Ro(t).defineProperty_(n,r))||o},ownKeys:function e(t){return Ro(t).ownKeys_()},preventExtensions:function e(t){G(13)}};function Ao(e,t){var n,r;return Z(),null!=(r=(n=(e=gi(e,t))[De]).proxy_)?r:n.proxy_=new Proxy(e,Lo)}function Mo(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function Do(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),te((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Io(e,t){var n=kn();try{for(var r=[].concat(e.interceptors_||[]),o=0,i=r.length;o<i&&((t=r[o](t))&&!t.type&&G(14),t);o++);return t}finally{_n(n)}}function Bo(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function Vo(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),te((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Fo(e,t){var n=kn(),r=e.changeListeners_;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](t);_n(n)}}function Go(e,t,n){var r=gi(e,n)[De];Un();try{var o;0,null!=(o=t)||(t=Me(e)),ve(t).forEach((function(e){return r.make_(e,t[e])}))}finally{zn()}return e}var Ho=Symbol("mobx-keys");function Uo(e,t,n){if(ae(e))return Vr(e,e,t,n);var r=gi(e,n)[De];if(!e[Ho]){var o=Object.getPrototypeOf(e),i=new Set([].concat(ve(e),ve(o)));i.delete("constructor"),i.delete(De),ce(o,Ho,i)}Un();try{e[Ho].forEach((function(e){return r.make_(e,!t||(!(e in t)||t[e]))}))}finally{zn()}return e}var zo="splice",Wo="update",$o=1e4,Xo={get:function e(t,n){var r=t[De];return n===De?r:"length"===n?r.getArrayLength_():"string"!=typeof n||isNaN(n)?be(qo,n)?qo[n]:t[n]:r.get_(parseInt(n))},set:function e(t,n,r){var o=t[De];return"length"===n&&o.setArrayLength_(r),"symbol"==typeof n||isNaN(n)?t[n]=r:o.set_(parseInt(n),r),!0},preventExtensions:function e(){G(15)}},Yo=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new Ie(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},t.dehanceValues_=function e(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.intercept_=function e(t){return Do(this,t)},t.observe_=function e(t,n){return void 0===n&&(n=!1),n&&t({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Vo(this,t)},t.getArrayLength_=function e(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function e(t){("number"!=typeof t||isNaN(t)||t<0)&&G("Out of range: "+t);var n=this.values_.length;if(t!==n)if(t>n){for(var r=new Array(t-n),o=0;o<t-n;o++)r[o]=void 0;this.spliceWithArray_(n,0,r)}else this.spliceWithArray_(t,n-t)},t.updateArrayLength_=function e(t,n){t!==this.lastKnownLength_&&G(16),this.lastKnownLength_+=n,this.legacyMode_&&n>0&&Ri(t+n+1)},t.spliceWithArray_=function e(t,n,r){var o=this;bn(this.atom_);var i=this.values_.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),n=1===arguments.length?i-t:null==n?0:Math.max(0,Math.min(n,i-t)),void 0===r&&(r=Y),Mo(this)){var a=Io(this,{object:this.proxy_,type:zo,index:t,removedCount:n,added:r});if(!a)return Y;n=a.removedCount,r=a.added}if(r=0===r.length?r:r.map((function(e){return o.enhancer_(e,void 0)})),this.legacyMode_){var u=r.length-n;this.updateArrayLength_(i,u)}var c=this.spliceItemsIntoValues_(t,n,r);return 0===n&&0===r.length||this.notifyArraySplice_(t,r,c),this.dehanceValues_(c)},t.spliceItemsIntoValues_=function e(t,n,r){var o;if(r.length<1e4)return(o=this.values_).splice.apply(o,[t,n].concat(r));var i=this.values_.slice(t,t+n),a=this.values_.slice(t+n);this.values_.length+=r.length-n;for(var u=0;u<r.length;u++)this.values_[t+u]=r[u];for(var c=0;c<a.length;c++)this.values_[t+r.length+c]=a[c];return i},t.notifyArrayChildUpdate_=function e(t,n,r){var o=!this.owned_&&!1,i=Bo(this),a=i||o?{observableKind:"array",object:this.proxy_,type:Wo,debugObjectName:this.atom_.name_,index:t,newValue:n,oldValue:r}:null;this.atom_.reportChanged(),i&&Fo(this,a)},t.notifyArraySplice_=function e(t,n,r){var o=!this.owned_&&!1,i=Bo(this),a=i||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:zo,index:t,removed:r,added:n,removedCount:r.length,addedCount:n.length}:null;this.atom_.reportChanged(),i&&Fo(this,a)},t.get_=function e(t){if(!(this.legacyMode_&&t>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[t]);console.warn("[mobx] Out of bounds read: "+t)},t.set_=function e(t,n){var r=this.values_;if(this.legacyMode_&&t>r.length&&G(17,t,r.length),t<r.length){bn(this.atom_);var o=r[t],i;if(Mo(this)){var a=Io(this,{type:Wo,object:this.proxy_,index:t,newValue:n});if(!a)return;n=a.newValue}(n=this.enhancer_(n,o))!==o&&(r[t]=n,this.notifyArrayChildUpdate_(t,n,o))}else{for(var u=new Array(t+1-r.length),c=0;c<u.length-1;c++)u[c]=void 0;u[u.length-1]=n,this.spliceWithArray_(r.length,0,u)}},e}();function Ko(e,t,n,r){void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),Z();var o=new Yo(n,t,r,!1);se(o.values_,De,o);var i=new Proxy(o.values_,Xo);if(o.proxy_=i,e&&e.length){var a=rn(!0);o.spliceWithArray_(0,0,e),on(a)}return i}var qo={clear:function e(){return this.splice(0)},replace:function e(t){var n=this[De];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function e(){return this.slice()},splice:function e(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=this[De];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(t);case 2:return a.spliceWithArray_(t,n)}return a.spliceWithArray_(t,n,o)},spliceWithArray:function e(t,n,r){return this[De].spliceWithArray_(t,n,r)},push:function e(){for(var t=this[De],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function e(){return this.splice(Math.max(this[De].values_.length-1,0),1)[0]},shift:function e(){return this.splice(0,1)[0]},unshift:function e(){for(var t=this[De],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function e(){return An.trackingDerivation&&G(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function e(){An.trackingDerivation&&G(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function e(t){var n=this[De],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1&&(this.splice(r,1),!0)}};function Jo(e,t){"function"==typeof Array.prototype[e]&&(qo[e]=t(e))}function Zo(e){return function(){var t=this[De];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Qo(e){return function(t,n){var r=this,o=this[De],i;return o.atom_.reportObserved(),o.dehanceValues_(o.values_)[e]((function(e,o){return t.call(n,e,o,r)}))}}function ei(e){return function(){var t=this,n=this[De];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(e,n,r){return o(e,n,r,t)},r[e].apply(r,arguments)}}Jo("concat",Zo),Jo("flat",Zo),Jo("includes",Zo),Jo("indexOf",Zo),Jo("join",Zo),Jo("lastIndexOf",Zo),Jo("slice",Zo),Jo("toString",Zo),Jo("toLocaleString",Zo),Jo("every",Qo),Jo("filter",Qo),Jo("find",Qo),Jo("findIndex",Qo),Jo("flatMap",Qo),Jo("forEach",Qo),Jo("map",Qo),Jo("some",Qo),Jo("reduce",ei),Jo("reduceRight",ei);var ti=le("ObservableArrayAdministration",Yo),ni,ri;function oi(e){return ie(e)&&ti(e[De])}var ii={},ai="add",ui="delete";ni=Symbol.iterator,ri=Symbol.toStringTag;var ci=function(){function e(e,t,n){var r=this;void 0===t&&(t=We),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[De]=ii,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,re(Map)||G(18),this.keysAtom_=Ve("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,nn(!0,(function(){r.merge(e)}))}var t=e.prototype;return t.has_=function e(t){return this.data_.has(t)},t.has=function e(t){var n=this;if(!An.trackingDerivation)return this.has_(t);var r=this.hasMap_.get(t);if(!r){var o=r=new un(this.has_(t),Xe,"ObservableMap.key?",!1);this.hasMap_.set(t,o),Lr(o,(function(){return n.hasMap_.delete(t)}))}return r.get()},t.set=function e(t,n){var r=this.has_(t);if(Mo(this)){var o=Io(this,{type:r?Wo:ai,object:this,newValue:n,name:t});if(!o)return this;n=o.newValue}return r?this.updateValue_(t,n):this.addValue_(t,n),this},t.delete=function e(t){var n=this,r;if((bn(this.keysAtom_),Mo(this))&&!Io(this,{type:ui,object:this,name:t}))return!1;if(this.has_(t)){var o=!1,i=Bo(this),a=i?{observableKind:"map",debugObjectName:this.name_,type:ui,object:this,oldValue:this.data_.get(t).value_,name:t}:null;return xo((function(){var e,r;n.keysAtom_.reportChanged(),null==(e=n.hasMap_.get(t))||e.setNewValue_(!1),n.data_.get(t).setNewValue_(void 0),n.data_.delete(t)})),i&&Fo(this,a),!0}return!1},t.updateValue_=function e(t,n){var r=this.data_.get(t);if((n=r.prepareNewValue_(n))!==An.UNCHANGED){var o=!1,i=Bo(this),a=i?{observableKind:"map",debugObjectName:this.name_,type:Wo,object:this,oldValue:r.value_,name:t,newValue:n}:null;0,r.setNewValue_(n),i&&Fo(this,a)}},t.addValue_=function e(t,n){var r=this;bn(this.keysAtom_),xo((function(){var e,o=new un(n,r.enhancer_,"ObservableMap.key",!1);r.data_.set(t,o),n=o.value_,null==(e=r.hasMap_.get(t))||e.setNewValue_(!0),r.keysAtom_.reportChanged()}));var o=!1,i=Bo(this),a=i?{observableKind:"map",debugObjectName:this.name_,type:ai,object:this,name:t,newValue:n}:null;i&&Fo(this,a)},t.get=function e(t){return this.has(t)?this.dehanceValue_(this.data_.get(t).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},t.keys=function e(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function e(){var t=this,n=this.keys();return Gi({next:function e(){var r=n.next(),o=r.done,i=r.value;return{done:o,value:o?void 0:t.get(i)}}})},t.entries=function e(){var t=this,n=this.keys();return Gi({next:function e(){var r=n.next(),o=r.done,i=r.value;return{done:o,value:o?void 0:[i,t.get(i)]}}})},t[ni]=function(){return this.entries()},t.forEach=function e(t,n){for(var r=xe(this),o;!(o=r()).done;){var i=o.value,a=i[0],u=i[1];t.call(n,u,a,this)}},t.merge=function e(t){var n=this;return si(t)&&(t=new Map(t)),xo((function(){ae(t)?de(t).forEach((function(e){return n.set(e,t[e])})):Array.isArray(t)?t.forEach((function(e){var t=e[0],r=e[1];return n.set(t,r)})):fe(t)?(t.constructor!==Map&&G(19,t),t.forEach((function(e,t){return n.set(t,e)}))):null!=t&&G(20,t)})),this},t.clear=function e(){var t=this;xo((function(){En((function(){for(var e=xe(t.keys()),n;!(n=e()).done;){var r=n.value;t.delete(r)}}))}))},t.replace=function e(t){var n=this;return xo((function(){for(var e=pi(t),r=new Map,o=!1,i=xe(n.data_.keys()),a;!(a=i()).done;){var u=a.value,c;if(!e.has(u))if(n.delete(u))o=!0;else{var s=n.data_.get(u);r.set(u,s)}}for(var l=xe(e.entries()),f;!(f=l()).done;){var p=f.value,h=p[0],d=p[1],v=n.data_.has(h);if(n.set(h,d),n.data_.has(h)){var y=n.data_.get(h);r.set(h,y),v||(o=!0)}}if(!o)if(n.data_.size!==r.size)n.keysAtom_.reportChanged();else for(var m=n.data_.keys(),b=r.keys(),g=m.next(),w=b.next();!g.done;){if(g.value!==w.value){n.keysAtom_.reportChanged();break}g=m.next(),w=b.next()}n.data_=r})),this},t.toString=function e(){return"[object ObservableMap]"},t.toJSON=function e(){return Array.from(this)},t.observe_=function e(t,n){return Vo(this,t)},t.intercept_=function e(t){return Do(this,t)},Oe(e,[{key:"size",get:function e(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:ri,get:function e(){return"Map"}}]),e}(),si=le("ObservableMap",ci),li,fi;function pi(e){if(fe(e)||si(e))return e;if(Array.isArray(e))return new Map(e);if(ae(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return G(21,e)}var hi={};li=Symbol.iterator,fi=Symbol.toStringTag;var di=function(){function e(e,t,n){void 0===t&&(t=We),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[De]=hi,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,re(Set)||G(22),this.atom_=Ve(this.name_),this.enhancer_=function(e,r){return t(e,r,n)},e&&this.replace(e)}var t=e.prototype;return t.dehanceValue_=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},t.clear=function e(){var t=this;xo((function(){En((function(){for(var e=xe(t.data_.values()),n;!(n=e()).done;){var r=n.value;t.delete(r)}}))}))},t.forEach=function e(t,n){for(var r=xe(this),o;!(o=r()).done;){var i=o.value;t.call(n,i,i,this)}},t.add=function e(t){var n=this,r;if((bn(this.atom_),Mo(this))&&!Io(this,{type:ai,object:this,newValue:t}))return this;if(!this.has(t)){xo((function(){n.data_.add(n.enhancer_(t,void 0)),n.atom_.reportChanged()}));var o=!1,i=Bo(this),a=i?{observableKind:"set",debugObjectName:this.name_,type:ai,object:this,newValue:t}:null;0,i&&Fo(this,a)}return this},t.delete=function e(t){var n=this,r;if(Mo(this)&&!Io(this,{type:ui,object:this,oldValue:t}))return!1;if(this.has(t)){var o=!1,i=Bo(this),a=i?{observableKind:"set",debugObjectName:this.name_,type:ui,object:this,oldValue:t}:null;return xo((function(){n.atom_.reportChanged(),n.data_.delete(t)})),i&&Fo(this,a),!0}return!1},t.has=function e(t){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(t))},t.entries=function e(){var t=0,n=Array.from(this.keys()),r=Array.from(this.values());return Gi({next:function e(){var o=t;return t+=1,o<r.length?{value:[n[o],r[o]],done:!1}:{done:!0}}})},t.keys=function e(){return this.values()},t.values=function e(){this.atom_.reportObserved();var t=this,n=0,r=Array.from(this.data_.values());return Gi({next:function e(){return n<r.length?{value:t.dehanceValue_(r[n++]),done:!1}:{done:!0}}})},t.replace=function e(t){var n=this;return vi(t)&&(t=new Set(t)),xo((function(){Array.isArray(t)||pe(t)?(n.clear(),t.forEach((function(e){return n.add(e)}))):null!=t&&G("Cannot initialize set from "+t)})),this},t.observe_=function e(t,n){return Vo(this,t)},t.intercept_=function e(t){return Do(this,t)},t.toJSON=function e(){return Array.from(this)},t.toString=function e(){return"[object ObservableSet]"},t[li]=function(){return this.values()},Oe(e,[{key:"size",get:function e(){return this.atom_.reportObserved(),this.data_.size}},{key:fi,get:function e(){return"Set"}}]),e}(),vi=le("ObservableSet",di),yi=Object.create(null),mi="remove",bi=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=gt),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new Ie("ObservableObject.keys"),this.isPlainObject_=ae(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function e(t){return this.values_.get(t).get()},t.setObservablePropValue_=function e(t,n){var r=this.values_.get(t);if(r instanceof ln)return r.set(n),!0;if(Mo(this)){var o=Io(this,{type:Wo,object:this.proxy_||this.target_,name:t,newValue:n});if(!o)return null;n=o.newValue}if((n=r.prepareNewValue_(n))!==An.UNCHANGED){var i=Bo(this),a=!1,u=i?{type:Wo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:r.value_,name:t,newValue:n}:null;0,r.setNewValue_(n),i&&Fo(this,u)}return!0},t.get_=function e(t){return An.trackingDerivation&&!be(this.target_,t)&&this.has_(t),this.target_[t]},t.set_=function e(t,n,r){return void 0===r&&(r=!1),be(this.target_,t)?this.values_.has(t)?this.setObservablePropValue_(t,n):r?Reflect.set(this.target_,t,n):(this.target_[t]=n,!0):this.extend_(t,{value:n,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,r)},t.has_=function e(t){if(!An.trackingDerivation)return t in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var n=this.pendingKeys_.get(t);return n||(n=new un(t in this.target_,Xe,"ObservableObject.key?",!1),this.pendingKeys_.set(t,n)),n.get()},t.make_=function e(t,n){if(!0===n&&(n=this.defaultAnnotation_),!1!==n){if(Ei(this,n,t),!(t in this.target_)){var r;if(null!=(r=this.target_[Te])&&r[t])return;G(1,n.annotationType_,this.name_+"."+t.toString())}for(var o=this.target_;o&&o!==X;){var i=W(o,t);if(i){var a=n.make_(this,t,i,o);if(0===a)return;if(1===a)break}o=Object.getPrototypeOf(o)}Si(this,n,t)}},t.extend_=function e(t,n,r,o){if(void 0===o&&(o=!1),!0===r&&(r=this.defaultAnnotation_),!1===r)return this.defineProperty_(t,n,o);Ei(this,r,t);var i=r.extend_(this,t,n,o);return i&&Si(this,r,t),i},t.defineProperty_=function e(t,n,r){void 0===r&&(r=!1);try{Un();var o=this.delete_(t);if(!o)return o;if(Mo(this)){var i=Io(this,{object:this.proxy_||this.target_,name:t,type:ai,newValue:n.value});if(!i)return null;var a=i.newValue;n.value!==a&&(n=je({},n,{value:a}))}if(r){if(!Reflect.defineProperty(this.target_,t,n))return!1}else $(this.target_,t,n);this.notifyPropertyAddition_(t,n.value)}finally{zn()}return!0},t.defineObservableProperty_=function e(t,n,r,o){void 0===o&&(o=!1);try{Un();var i=this.delete_(t);if(!i)return i;if(Mo(this)){var a=Io(this,{object:this.proxy_||this.target_,name:t,type:ai,newValue:n});if(!a)return null;n=a.newValue}var u=Oi(t),c={configurable:!An.safeDescriptors||this.isPlainObject_,enumerable:!0,get:u.get,set:u.set};if(o){if(!Reflect.defineProperty(this.target_,t,c))return!1}else $(this.target_,t,c);var s=new un(n,r,"ObservableObject.key",!1);this.values_.set(t,s),this.notifyPropertyAddition_(t,s.value_)}finally{zn()}return!0},t.defineComputedProperty_=function e(t,n,r){void 0===r&&(r=!1);try{Un();var o=this.delete_(t),i;if(!o)return o;if(Mo(this))if(!Io(this,{object:this.proxy_||this.target_,name:t,type:ai,newValue:void 0}))return null;n.name||(n.name="ObservableObject.key"),n.context=this.proxy_||this.target_;var a=Oi(t),u={configurable:!An.safeDescriptors||this.isPlainObject_,enumerable:!1,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,t,u))return!1}else $(this.target_,t,u);this.values_.set(t,new ln(n)),this.notifyPropertyAddition_(t,void 0)}finally{zn()}return!0},t.delete_=function e(t,n){if(void 0===n&&(n=!1),!be(this.target_,t))return!0;var r;if(Mo(this)&&!Io(this,{object:this.proxy_||this.target_,name:t,type:mi}))return null;try{var o,i;Un();var a=Bo(this),u=!1,c=this.values_.get(t),s=void 0,l;if(!c&&a)s=null==(l=W(this.target_,t))?void 0:l.value;if(n){if(!Reflect.deleteProperty(this.target_,t))return!1}else delete this.target_[t];if(c&&(this.values_.delete(t),c instanceof un&&(s=c.value_),$n(c)),this.keysAtom_.reportChanged(),null==(o=this.pendingKeys_)||null==(i=o.get(t))||i.set(t in this.target_),a){var f={type:mi,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:s,name:t};0,a&&Fo(this,f)}}finally{zn()}return!0},t.observe_=function e(t,n){return Vo(this,t)},t.intercept_=function e(t){return Do(this,t)},t.notifyPropertyAddition_=function e(t,n){var r,o,i=Bo(this),a=!1;if(i){var u=i?{type:ai,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:t,newValue:n}:null;0,i&&Fo(this,u)}null==(r=this.pendingKeys_)||null==(o=r.get(t))||o.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function e(){return this.keysAtom_.reportObserved(),ve(this.target_)},t.keys_=function e(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function gi(e,t){var n;if(be(e,De))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",o=new bi(e,new Map,String(r),Mt(t));return ce(e,De,o),e}var wi=le("ObservableObjectAdministration",bi);function Oi(e){return yi[e]||(yi[e]={get:function t(){return this[De].getObservablePropValue_(e)},set:function t(n){return this[De].setObservablePropValue_(e,n)}})}function ji(e){return!!ie(e)&&wi(e[De])}function Si(e,t,n){var r;null==(r=e.target_[Te])||delete r[n]}function Ei(e,t,n){var r,o,i}var ki=Ci(0),_i=0,Pi=function e(){};function xi(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):void 0!==e.prototype.__proto__?e.prototype.__proto__=t:e.prototype=t}xi(Pi,Array.prototype);var Ni=function(e,t,n){function r(t,n,r,o){var i;void 0===r&&(r="ObservableArray"),void 0===o&&(o=!1),i=e.call(this)||this;var a=new Yo(r,n,o,!0);if(a.proxy_=ke(i),se(ke(i),De,a),t&&t.length){var u=rn(!0);i.spliceWithArray(0,0,t),on(u)}return Object.defineProperty(ke(i),"0",ki),i}Se(r,e);var o=r.prototype;return o.concat=function e(){this[De].atom_.reportObserved();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Array.prototype.concat.apply(this.slice(),n.map((function(e){return oi(e)?e.slice():e})))},o[n]=function(){var e=this,t=0;return Gi({next:function n(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},Oe(r,[{key:"length",get:function e(){return this[De].getArrayLength_()},set:function e(t){this[De].setArrayLength_(t)}},{key:t,get:function e(){return"Array"}}]),r}(Pi,Symbol.toStringTag,Symbol.iterator);function Ci(e){return{enumerable:!1,configurable:!0,get:function t(){return this[De].get_(e)},set:function t(n){this[De].set_(e,n)}}}function Ti(e){$(Ni.prototype,""+e,Ci(e))}function Ri(e){if(e>_i){for(var t=_i;t<e+100;t++)Ti(t);_i=e}}function Li(e,t,n){return new Ni(e,t,n)}function Ai(e,t){if("object"==typeof e&&null!==e){if(oi(e))return void 0!==t&&G(23),e[De].atom_;if(vi(e))return e.atom_;if(si(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||G(25,t,Di(e)),n}if(ji(e)){if(!t)return G(26);var r=e[De].values_.get(t);return r||G(27,t,Di(e)),r}if(Be(e)||fn(e)||rr(e))return e}else if(re(e)&&rr(e[De]))return e[De];G(28)}function Mi(e,t){return e||G(29),void 0!==t?Mi(Ai(e,t)):Be(e)||fn(e)||rr(e)||si(e)||vi(e)?e:e[De]?e[De]:void G(24,e)}function Di(e,t){var n;if(void 0!==t)n=Ai(e,t);else{if(Er(e))return e.name;n=ji(e)||si(e)||vi(e)?Mi(e):Ai(e)}return n.name_}Object.entries(qo).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&ce(Ni.prototype,t,n)})),Ri(1e3);var Ii=X.toString;function Bi(e,t,n){return void 0===n&&(n=-1),Vi(e,t,n)}function Vi(e,t,n,r,o){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;if("function"!==i&&"object"!==i&&"object"!=typeof t)return!1;var a=Ii.call(e);if(a!==Ii.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=Fi(e),t=Fi(t);var u="[object Array]"===a;if(!u){if("object"!=typeof e||"object"!=typeof t)return!1;var c=e.constructor,s=t.constructor;if(c!==s&&!(re(c)&&c instanceof c&&re(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),o=o||[];for(var l=(r=r||[]).length;l--;)if(r[l]===e)return o[l]===t;if(r.push(e),o.push(t),u){if((l=e.length)!==t.length)return!1;for(;l--;)if(!Vi(e[l],t[l],n-1,r,o))return!1}else{var f=Object.keys(e),p;if(l=f.length,Object.keys(t).length!==l)return!1;for(;l--;)if(!be(t,p=f[l])||!Vi(e[p],t[p],n-1,r,o))return!1}return r.pop(),o.pop(),!0}function Fi(e){return oi(e)?e.slice():fe(e)||si(e)||pe(e)||vi(e)?Array.from(e.entries()):e}function Gi(e){return e[Symbol.iterator]=Hi,e}function Hi(){return this}function Ui(e){return e instanceof Object&&"string"==typeof e.annotationType_&&re(e.make_)&&re(e.extend_)}["Symbol","Map","Set"].forEach((function(e){var t;void 0===U()[e]&&G("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:lr,extras:{getDebugName:Di},$mobx:De})}.call(this,n(33))},function(e,t){e.exports=Next},function(e,t){e.exports=_},function(e,t,n){"use strict";var r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function e(t,n,r){return Function.prototype.apply.call(t,n,r)},i;function a(e){console&&console.warn&&console.warn(e)}i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function e(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function e(t){return Object.getOwnPropertyNames(t)};var u=Number.isNaN||function e(t){return t!=t};function c(){c.init.call(this)}e.exports=c,e.exports.once=w,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var s=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function p(e,t,n,r){var o,i,u;if(l(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),u=i[t]),void 0===u)u=i[t]=n,++e._eventsCount;else if("function"==typeof u?u=i[t]=r?[n,u]:[u,n]:r?u.unshift(n):u.push(n),(o=f(e))>0&&u.length>o&&!u.warned){u.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=u.length,a(c)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=h.bind(r);return o.listener=n,r.wrapFn=o,o}function v(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?g(o):m(o,o.length)}function y(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function b(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function g(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function w(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}j(e,t,i,{once:!0}),"error"!==t&&O(e,o,{once:!0})}))}function O(e,t,n){"function"==typeof e.on&&j(e,"error",t,n)}function j(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||u(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function e(t){if("number"!=typeof t||t<0||u(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},c.prototype.getMaxListeners=function e(){return f(this)},c.prototype.emit=function e(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i="error"===t,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var u;if(n.length>0&&(u=n[0]),u instanceof Error)throw u;var c=new Error("Unhandled error."+(u?" ("+u.message+")":""));throw c.context=u,c}var s=a[t];if(void 0===s)return!1;if("function"==typeof s)o(s,this,n);else for(var l=s.length,f=m(s,l),r=0;r<l;++r)o(f[r],this,n);return!0},c.prototype.addListener=function e(t,n){return p(this,t,n,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function e(t,n){return p(this,t,n,!0)},c.prototype.once=function e(t,n){return l(n),this.on(t,d(this,t,n)),this},c.prototype.prependOnceListener=function e(t,n){return l(n),this.prependListener(t,d(this,t,n)),this},c.prototype.removeListener=function e(t,n){var r,o,i,a,u;if(l(n),void 0===(o=this._events))return this;if(void 0===(r=o[t]))return this;if(r===n||r.listener===n)0==--this._eventsCount?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,r.listener||n));else if("function"!=typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){u=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():b(r,i),1===r.length&&(o[t]=r[0]),void 0!==o.removeListener&&this.emit("removeListener",t,u||n)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function e(t){var n,r,o;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i=Object.keys(r),a;for(o=0;o<i.length;++o)"removeListener"!==(a=i[o])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(n=r[t]))this.removeListener(t,n);else if(void 0!==n)for(o=n.length-1;o>=0;o--)this.removeListener(t,n[o]);return this},c.prototype.listeners=function e(t){return v(this,t,!0)},c.prototype.rawListeners=function e(t){return v(this,t,!1)},c.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},c.prototype.listenerCount=y,c.prototype.eventNames=function e(){return this._eventsCount>0?i(this._events):[]}},function(e,t){e.exports=window.ReactDOM},function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m}));var r=n(14);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=p(e,"string");return"symbol"===u(t)?t:String(t)}function p(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h,d=new(function(){function e(){c(this,e),this.tip=null,this.showDelay=null,this.hideDelay=null,this.emitter=Object(r.b)("TipHandler")}return l(e,[{key:"setTarget",value:function e(t){var n=this,r=v(t);if(r){if(this.tip){if(this.tip.target===r.target)return void(this.tip=r);if(!this.showDelay)return this.hideDelay&&(clearTimeout(this.hideDelay),this.hideDelay=null),this.tip=r,void this.emitter.emit("tipchange");clearTimeout(this.showDelay),this.showDelay=null,this.tip=null}this.tip=r,this.hideDelay?(clearTimeout(this.hideDelay),this.hideDelay=null,this.emitter.emit("tipchange")):this.showDelay=setTimeout((function(){n.showDelay=null,n.emitter.emit("tipchange")}),350)}else this.showDelay?(clearTimeout(this.showDelay),this.showDelay=null):this.hideDelay=setTimeout((function(){n.hideDelay=null}),100),this.tip=null,this.emitter.emit("tipchange")}},{key:"hideImmediately",value:function e(){this.hideDelay&&(clearTimeout(this.hideDelay),this.hideDelay=null),this.showDelay&&(clearTimeout(this.showDelay),this.showDelay=null),this.tip=null,this.emitter.emit("tipchange")}},{key:"onChange",value:function e(t){var n=this;return this.emitter.on("tipchange",t),function(){n.emitter.removeListener("tipchange",t)}}}]),e}());function v(e){if(!e)return null;for(var t=10;e&&t-- >0;){if(e.dataset&&e.dataset.tip)return{children:e.dataset.tip,direction:e.dataset.direction||e.dataset.dir,theme:e.dataset.theme,target:e};for(var n=e.lastElementChild;n;){if(n.dataset&&"tip"===n.dataset.role){var r=n.dataset.tipId;if(!r)return null;var o=y.get(r);return o?i(i({},o),{},{target:e}):null}n=n.previousElementSibling}e=e.parentNode}return null}var y=new Map;function m(e,t){t?y.set(e,t):y.delete(e)}},function(e,t){e.exports=window.PropTypes},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMetadataField=t.getMetadata=t.MetadataType=t.metaSymbol=void 0,t.metaSymbol=Symbol("power-di-metadata");var r=function(){function e(){this.classInfo={extends:[],implements:[]},this.injects=[],this.postConstruct=[],this.preDestroy=[],this.aspects=[]}return e}();function o(e){if([Object,Object.prototype,Array,Array.prototype,Error,Error.prototype,null].includes(e))return new r;var n=Object.getOwnPropertyDescriptor(e,t.metaSymbol);return n&&n.value?n.value:(Object.defineProperty(e,t.metaSymbol,{enumerable:!1,configurable:!1,value:new r}),o(e))}function i(e,t){var n=o(e)[t];if(Array.isArray(n)){var r=Object.getPrototypeOf(e);if(r)return i(r,t).concat(n)}return n}t.MetadataType=r,t.getMetadata=o,t.getMetadataField=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return v}));var r=n(3),o=n(9),i=n.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=f(e,"string");return"symbol"===a(t)?t:String(t)}function f(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=new r.e({level:"warn",bizName:"event-bus"}),h=new r.e({level:"warn",bizName:"module-event-bus"}),d=function(){function e(t,n){u(this,e),this.eventEmitter=void 0,this.name=void 0,this.names=[],this.eventEmitter=t,this.name=n}return s(e,[{key:"getMsgPrefix",value:function e(t){return this.name&&this.name.length>0?"[".concat(this.name,"][event-").concat(t,"]"):"[*][event-".concat(t,"]")}},{key:"getLogger",value:function e(){return this.name&&this.name.length>0?h:p}},{key:"on",value:function e(t,n){var r=this;return this.eventEmitter.on(t,n),this.getLogger().debug("".concat(this.getMsgPrefix("on")," ").concat(t)),function(){r.off(t,n)}}},{key:"off",value:function e(t,n){this.eventEmitter.off(t,n),this.getLogger().debug("".concat(this.getMsgPrefix("off")," ").concat(t))}},{key:"emit",value:function e(t){for(var n,r,o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];(n=this.eventEmitter).emit.apply(n,[t].concat(i)),(r=this.getLogger()).debug.apply(r,["".concat(this.getMsgPrefix("emit")," name: ").concat(t,", args: ")].concat(i))}},{key:"removeListener",value:function e(t,n){return this.eventEmitter.removeListener(t,n)}},{key:"addListener",value:function e(t,n){return this.eventEmitter.addListener(t,n)}},{key:"setMaxListeners",value:function e(t){return this.eventEmitter.setMaxListeners(t)}},{key:"removeAllListeners",value:function e(t){return this.eventEmitter.removeAllListeners(t)}}]),e}(),v=function e(t,n){var r=new i.a;return n&&r.setMaxListeners(n),new d(r,t)}},function(e,t,n){"use strict";n.d(t,"c",(function(){return Et})),n.d(t,"d",(function(){return kt})),n.d(t,"a",(function(){return xt})),n.d(t,"b",(function(){return ot}));var r=n(0),o=n(2),i,a,u;function c(e){return e.type===a.literal}function s(e){return e.type===a.argument}function l(e){return e.type===a.number}function f(e){return e.type===a.date}function p(e){return e.type===a.time}function h(e){return e.type===a.select}function d(e){return e.type===a.plural}function v(e){return e.type===a.pound}function y(e){return e.type===a.tag}function m(e){return!(!e||"object"!=typeof e||e.type!==u.number)}function b(e){return!(!e||"object"!=typeof e||e.type!==u.dateTime)}function g(e){return{type:a.literal,value:e}}function w(e,t){return{type:a.number,value:e,style:t}}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(i||(i={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(a||(a={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(u||(u={}));var O=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,j=/[\t-\r \x85\u200E\u200F\u2028\u2029]/,S=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function E(e){var t={};return e.replace(S,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var k=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function _(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t,n=[],r=0,o=e.split(k).filter((function(e){return e.length>0}));r<o.length;r++){var i,a=o[r].split("/");if(0===a.length)throw new Error("Invalid number skeleton");for(var u=a[0],c=a.slice(1),s=0,l=c;s<l.length;s++){var f;if(0===l[s].length)throw new Error("Invalid number skeleton")}n.push({stem:u,options:c})}return n}function P(e){return e.replace(/^(.*?)-/,"")}var x=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,N=/^(@+)?(\+|#+)?[rs]?$/g,C=/(\*)(0+)|(#+)(0+)|(0+)/g,T=/^(0+)$/;function R(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(N,(function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),t}function L(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function A(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!T.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function M(e){var t={},n=L(e);return n||t}function D(e){for(var t={},n=0,o=e;n<o.length;n++){var i=o[n];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=P(i.options[0]);continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=Object(r.a)(Object(r.a)(Object(r.a)({},t),{notation:"scientific"}),i.options.reduce((function(e,t){return Object(r.a)(Object(r.a)({},e),M(t))}),{}));continue;case"engineering":t=Object(r.a)(Object(r.a)(Object(r.a)({},t),{notation:"engineering"}),i.options.reduce((function(e,t){return Object(r.a)(Object(r.a)({},e),M(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(C,(function(e,n,r,o,i,a){if(n)t.minimumIntegerDigits=r.length;else{if(o&&i)throw new Error("We currently do not support maximum integer digits");if(a)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(T.test(i.stem))t.minimumIntegerDigits=i.stem.length;else if(x.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(x,(function(e,n,r,o,i,a){return"*"===r?t.minimumFractionDigits=n.length:o&&"#"===o[0]?t.maximumFractionDigits=o.length:i&&a?(t.minimumFractionDigits=i.length,t.maximumFractionDigits=i.length+a.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""}));var a=i.options[0];"w"===a?t=Object(r.a)(Object(r.a)({},t),{trailingZeroDisplay:"stripIfInteger"}):a&&(t=Object(r.a)(Object(r.a)({},t),R(a)))}else if(N.test(i.stem))t=Object(r.a)(Object(r.a)({},t),R(i.stem));else{var u=L(i.stem);u&&(t=Object(r.a)(Object(r.a)({},t),u));var c=A(i.stem);c&&(t=Object(r.a)(Object(r.a)({},t),c))}}return t}var I={AX:["H"],BQ:["H"],CP:["H"],CZ:["H"],DK:["H"],FI:["H"],ID:["H"],IS:["H"],ML:["H"],NE:["H"],RU:["H"],SE:["H"],SJ:["H"],SK:["H"],AS:["h","H"],BT:["h","H"],DJ:["h","H"],ER:["h","H"],GH:["h","H"],IN:["h","H"],LS:["h","H"],PG:["h","H"],PW:["h","H"],SO:["h","H"],TO:["h","H"],VU:["h","H"],WS:["h","H"],"001":["H","h"],AL:["h","H","hB"],TD:["h","H","hB"],"ca-ES":["H","h","hB"],CF:["H","h","hB"],CM:["H","h","hB"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],LU:["H","h","hB"],NP:["H","h","hB"],PF:["H","h","hB"],SC:["H","h","hB"],SM:["H","h","hB"],SN:["H","h","hB"],TF:["H","h","hB"],VA:["H","h","hB"],CY:["h","H","hb","hB"],GR:["h","H","hb","hB"],CO:["h","H","hB","hb"],DO:["h","H","hB","hb"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],NA:["h","H","hB","hb"],PA:["h","H","hB","hb"],PR:["h","H","hB","hb"],VE:["h","H","hB","hb"],AC:["H","h","hb","hB"],AI:["H","h","hb","hB"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CC:["H","h","hb","hB"],CK:["H","h","hb","hB"],CX:["H","h","hb","hB"],DG:["H","h","hb","hB"],FK:["H","h","hb","hB"],GB:["H","h","hb","hB"],GG:["H","h","hb","hB"],GI:["H","h","hb","hB"],IE:["H","h","hb","hB"],IM:["H","h","hb","hB"],IO:["H","h","hb","hB"],JE:["H","h","hb","hB"],LT:["H","h","hb","hB"],MK:["H","h","hb","hB"],MN:["H","h","hb","hB"],MS:["H","h","hb","hB"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],PN:["H","h","hb","hB"],SH:["H","h","hb","hB"],SX:["H","h","hb","hB"],TA:["H","h","hb","hB"],ZA:["H","h","hb","hB"],"af-ZA":["H","h","hB","hb"],AR:["H","h","hB","hb"],CL:["H","h","hB","hb"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],EA:["H","h","hB","hb"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],GT:["H","h","hB","hb"],HN:["H","h","hB","hb"],IC:["H","h","hB","hb"],KG:["H","h","hB","hb"],KM:["H","h","hB","hb"],LK:["H","h","hB","hb"],MA:["H","h","hB","hb"],MX:["H","h","hB","hb"],NI:["H","h","hB","hb"],PY:["H","h","hB","hb"],SV:["H","h","hB","hb"],UY:["H","h","hB","hb"],JP:["H","h","K"],AD:["H","hB"],AM:["H","hB"],AO:["H","hB"],AT:["H","hB"],AW:["H","hB"],BE:["H","hB"],BF:["H","hB"],BJ:["H","hB"],BL:["H","hB"],BR:["H","hB"],CG:["H","hB"],CI:["H","hB"],CV:["H","hB"],DE:["H","hB"],EE:["H","hB"],FR:["H","hB"],GA:["H","hB"],GF:["H","hB"],GN:["H","hB"],GP:["H","hB"],GW:["H","hB"],HR:["H","hB"],IL:["H","hB"],IT:["H","hB"],KZ:["H","hB"],MC:["H","hB"],MD:["H","hB"],MF:["H","hB"],MQ:["H","hB"],MZ:["H","hB"],NC:["H","hB"],NL:["H","hB"],PM:["H","hB"],PT:["H","hB"],RE:["H","hB"],RO:["H","hB"],SI:["H","hB"],SR:["H","hB"],ST:["H","hB"],TG:["H","hB"],TR:["H","hB"],WF:["H","hB"],YT:["H","hB"],BD:["h","hB","H"],PK:["h","hB","H"],AZ:["H","hB","h"],BA:["H","hB","h"],BG:["H","hB","h"],CH:["H","hB","h"],GE:["H","hB","h"],LI:["H","hB","h"],ME:["H","hB","h"],RS:["H","hB","h"],UA:["H","hB","h"],UZ:["H","hB","h"],XK:["H","hB","h"],AG:["h","hb","H","hB"],AU:["h","hb","H","hB"],BB:["h","hb","H","hB"],BM:["h","hb","H","hB"],BS:["h","hb","H","hB"],CA:["h","hb","H","hB"],DM:["h","hb","H","hB"],"en-001":["h","hb","H","hB"],FJ:["h","hb","H","hB"],FM:["h","hb","H","hB"],GD:["h","hb","H","hB"],GM:["h","hb","H","hB"],GU:["h","hb","H","hB"],GY:["h","hb","H","hB"],JM:["h","hb","H","hB"],KI:["h","hb","H","hB"],KN:["h","hb","H","hB"],KY:["h","hb","H","hB"],LC:["h","hb","H","hB"],LR:["h","hb","H","hB"],MH:["h","hb","H","hB"],MP:["h","hb","H","hB"],MW:["h","hb","H","hB"],NZ:["h","hb","H","hB"],SB:["h","hb","H","hB"],SG:["h","hb","H","hB"],SL:["h","hb","H","hB"],SS:["h","hb","H","hB"],SZ:["h","hb","H","hB"],TC:["h","hb","H","hB"],TT:["h","hb","H","hB"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],VC:["h","hb","H","hB"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],ZM:["h","hb","H","hB"],BO:["H","hB","h","hb"],EC:["H","hB","h","hb"],ES:["H","hB","h","hb"],GQ:["H","hB","h","hb"],PE:["H","hB","h","hb"],AE:["h","hB","hb","H"],"ar-001":["h","hB","hb","H"],BH:["h","hB","hb","H"],DZ:["h","hB","hb","H"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],HK:["h","hB","hb","H"],IQ:["h","hB","hb","H"],JO:["h","hB","hb","H"],KW:["h","hB","hb","H"],LB:["h","hB","hb","H"],LY:["h","hB","hb","H"],MO:["h","hB","hb","H"],MR:["h","hB","hb","H"],OM:["h","hB","hb","H"],PH:["h","hB","hb","H"],PS:["h","hB","hb","H"],QA:["h","hB","hb","H"],SA:["h","hB","hb","H"],SD:["h","hB","hb","H"],SY:["h","hB","hb","H"],TN:["h","hB","hb","H"],YE:["h","hB","hb","H"],AF:["H","hb","hB","h"],LA:["H","hb","hB","h"],CN:["H","hB","hb","h"],LV:["H","hB","hb","h"],TL:["H","hB","hb","h"],"zu-ZA":["H","hB","hb","h"],CD:["hB","H"],IR:["hB","H"],"hi-IN":["hB","h","H"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"te-IN":["hB","h","H"],KH:["hB","h","H","hb"],"ta-IN":["hB","h","hb","H"],BN:["hb","hB","h","H"],MY:["hb","hB","h","H"],ET:["hB","hb","h","H"],"gu-IN":["hB","hb","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],TW:["hB","hb","h","H"],KE:["hB","hb","H","h"],MM:["hB","hb","H","h"],TZ:["hB","hb","H","h"],UG:["hB","hb","H","h"]},B;function V(e,t){for(var n="",r=0;r<e.length;r++){var o=e.charAt(r);if("j"===o){for(var i=0;r+1<e.length&&e.charAt(r+1)===o;)i++,r++;var a=1+(1&i),u=i<2?1:3+(i>>1),c="a",s=F(t);for("H"!=s&&"k"!=s||(u=0);u-- >0;)n+="a";for(;a-- >0;)n=s+n}else n+="J"===o?"H":o}return n}function F(e){var t=e.hourCycle;if(void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n=e.language,r,o;return"root"!==n&&(r=e.maximize().region),(I[r||""]||I[n||""]||I["".concat(n,"-001")]||I["001"])[0]}var G=new RegExp("^".concat(O.source,"*")),H=new RegExp("".concat(O.source,"*$"));function U(e,t){return{start:e,end:t}}var z=!!String.prototype.startsWith,W=!!String.fromCodePoint,$=!!Object.fromEntries,X=!!String.prototype.codePointAt,Y=!!String.prototype.trimStart,K=!!String.prototype.trimEnd,q,J=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},Z=!0;try{var Q;Z="a"===(null===(B=ue("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===B?void 0:B[0])}catch(e){Z=!1}var ee=z?function e(t,n,r){return t.startsWith(n,r)}:function e(t,n,r){return t.slice(r,r+n.length)===n},te=W?String.fromCodePoint:function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",o=t.length,i=0,a;o>i;){if((a=t[i++])>1114111)throw RangeError(a+" is not a valid code point");r+=a<65536?String.fromCharCode(a):String.fromCharCode(55296+((a-=65536)>>10),a%1024+56320)}return r},ne=$?Object.fromEntries:function e(t){for(var n={},r=0,o=t;r<o.length;r++){var i=o[r],a=i[0],u=i[1];n[a]=u}return n},re=X?function e(t,n){return t.codePointAt(n)}:function e(t,n){var r=t.length;if(!(n<0||n>=r)){var o=t.charCodeAt(n),i;return o<55296||o>56319||n+1===r||(i=t.charCodeAt(n+1))<56320||i>57343?o:i-56320+(o-55296<<10)+65536}},oe=Y?function e(t){return t.trimStart()}:function e(t){return t.replace(G,"")},ie=K?function e(t){return t.trimEnd()}:function e(t){return t.replace(H,"")},ae;function ue(e,t){return new RegExp(e,t)}if(Z){var ce=ue("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");ae=function e(t,n){var r,o;return ce.lastIndex=n,null!==(r=ce.exec(t)[1])&&void 0!==r?r:""}}else ae=function e(t,n){for(var r=[];;){var o=re(t,n);if(void 0===o||he(o)||de(o))break;r.push(o),n+=o>=65536?2:1}return te.apply(void 0,r)};var se=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var o=this.char();if(123===o){var u;if((u=this.parseArgument(e,n)).err)return u;r.push(u.val)}else{if(125===o&&e>0)break;if(35!==o||"plural"!==t&&"selectordinal"!==t){if(60===o&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(i.UNMATCHED_CLOSING_TAG,U(this.clonePosition(),this.clonePosition()))}if(60===o&&!this.ignoreTag&&le(this.peek()||0)){var u;if((u=this.parseTag(e,t)).err)return u;r.push(u.val)}else{var u;if((u=this.parseLiteral(e,t)).err)return u;r.push(u.val)}}else{var c=this.clonePosition();this.bump(),r.push({type:a.pound,location:U(c,this.clonePosition())})}}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:a.literal,value:"<".concat(r,"/>"),location:U(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var o=this.parseMessage(e+1,t,!0);if(o.err)return o;var u=o.val,c=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!le(this.char()))return this.error(i.INVALID_TAG,U(c,this.clonePosition()));var s=this.clonePosition(),l;return r!==this.parseTagName()?this.error(i.UNMATCHED_CLOSING_TAG,U(s,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:a.tag,value:r,children:u,location:U(n,this.clonePosition())},err:null}:this.error(i.INVALID_TAG,U(c,this.clonePosition())))}return this.error(i.UNCLOSED_TAG,U(n,this.clonePosition()))}return this.error(i.INVALID_TAG,U(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&pe(this.char());)this.bump();return this.message.slice(e,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var o=this.tryParseQuote(t);if(o)r+=o;else{var i=this.tryParseUnquoted(e,t);if(i)r+=i;else{var u=this.tryParseLeftAngleBracket();if(!u)break;r+=u}}}var c=U(n,this.clonePosition());return{val:{type:a.literal,value:r,location:c},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&fe(this.peek()||0)?null:(this.bump(),"<")},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return te.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),te(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,U(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(i.EMPTY_ARGUMENT,U(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(i.MALFORMED_ARGUMENT,U(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,U(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:a.argument,value:r,location:U(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,U(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n);default:return this.error(i.MALFORMED_ARGUMENT,U(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=ae(this.message,t),r=t+n.length,o,i;return this.bumpTo(r),{value:n,location:U(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,o){var c,s=this.clonePosition(),l=this.parseIdentifierIfPossible().value,f=this.clonePosition();switch(l){case"":return this.error(i.EXPECT_ARGUMENT_TYPE,U(s,f));case"number":case"date":case"time":this.bumpSpace();var p=null,h;if(this.bumpIf(",")){this.bumpSpace();var d=this.clonePosition(),v,y,m;if((v=this.parseSimpleArgStyleIfPossible()).err)return v;if(0===(y=ie(v.val)).length)return this.error(i.EXPECT_ARGUMENT_STYLE,U(this.clonePosition(),this.clonePosition()));p={style:y,styleLocation:U(d,this.clonePosition())}}if((h=this.tryParseArgumentClose(o)).err)return h;var b=U(o,this.clonePosition());if(p&&ee(null==p?void 0:p.style,"::",0)){var g=oe(p.style.slice(2)),v;if("number"===l)return(v=this.parseNumberSkeletonFromString(g,p.styleLocation)).err?v:{val:{type:a.number,value:n,location:b,style:v.val},err:null};if(0===g.length)return this.error(i.EXPECT_DATE_TIME_SKELETON,b);var w=g;this.locale&&(w=V(g,this.locale));var y={type:u.dateTime,pattern:w,location:p.styleLocation,parsedOptions:this.shouldParseSkeletons?E(w):{}},O;return{val:{type:"date"===l?a.date:a.time,value:n,location:b,style:y},err:null}}return{val:{type:"number"===l?a.number:"date"===l?a.date:a.time,value:n,location:b,style:null!==(c=null==p?void 0:p.style)&&void 0!==c?c:null},err:null};case"plural":case"selectordinal":case"select":var j=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(i.EXPECT_SELECT_ARGUMENT_OPTIONS,U(j,Object(r.a)({},j)));this.bumpSpace();var S=this.parseIdentifierIfPossible(),k=0;if("select"!==l&&"offset"===S.value){if(!this.bumpIf(":"))return this.error(i.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,U(this.clonePosition(),this.clonePosition()));var v;if(this.bumpSpace(),(v=this.tryParseDecimalInteger(i.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,i.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return v;this.bumpSpace(),S=this.parseIdentifierIfPossible(),k=v.val}var _=this.tryParsePluralOrSelectOptions(e,l,t,S),h;if(_.err)return _;if((h=this.tryParseArgumentClose(o)).err)return h;var P=U(o,this.clonePosition());return"select"===l?{val:{type:a.select,value:n,options:ne(_.val),location:P},err:null}:{val:{type:a.plural,value:n,options:ne(_.val),offset:k,pluralType:"plural"===l?"cardinal":"ordinal",location:P},err:null};default:return this.error(i.INVALID_ARGUMENT_TYPE,U(s,f))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,U(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){var n;switch(this.char()){case 39:this.bump();var r=this.clonePosition();if(!this.bumpUntil("'"))return this.error(i.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,U(r,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=_(e)}catch(e){return this.error(i.INVALID_NUMBER_SKELETON,t)}return{val:{type:u.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?D(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var o,a=!1,u=[],c=new Set,s=r.value,l=r.location;;){if(0===s.length){var f=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var p=this.tryParseDecimalInteger(i.EXPECT_PLURAL_ARGUMENT_SELECTOR,i.INVALID_PLURAL_ARGUMENT_SELECTOR);if(p.err)return p;l=U(f,this.clonePosition()),s=this.message.slice(f.offset,this.offset())}if(c.has(s))return this.error("select"===t?i.DUPLICATE_SELECT_ARGUMENT_SELECTOR:i.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,l);"other"===s&&(a=!0),this.bumpSpace();var h=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?i.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:i.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,U(this.clonePosition(),this.clonePosition()));var d=this.parseMessage(e+1,t,n);if(d.err)return d;var v=this.tryParseArgumentClose(h);if(v.err)return v;u.push([s,{value:d.val,location:U(h,this.clonePosition())}]),c.add(s),this.bumpSpace(),s=(o=this.parseIdentifierIfPossible()).value,l=o.location}return 0===u.length?this.error("select"===t?i.EXPECT_SELECT_ARGUMENT_SELECTOR:i.EXPECT_PLURAL_ARGUMENT_SELECTOR,U(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!a?this.error(i.MISSING_OTHER_CLAUSE,U(this.clonePosition(),this.clonePosition())):{val:u,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var o=!1,i=0;!this.isEOF();){var a=this.char();if(!(a>=48&&a<=57))break;o=!0,i=10*i+(a-48),this.bump()}var u=U(r,this.clonePosition());return o?J(i*=n)?{val:i,err:null}:this.error(t,u):this.error(e,u)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=re(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(ee(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&he(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function le(e){return e>=97&&e<=122||e>=65&&e<=90}function fe(e){return le(e)||47===e}function pe(e){return 45===e||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function he(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function de(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function ve(e){e.forEach((function(e){if(delete e.location,h(e)||d(e))for(var t in e.options)delete e.options[t].location,ve(e.options[t].value);else l(e)&&m(e.style)||(f(e)||p(e))&&b(e.style)?delete e.style.location:y(e)&&ve(e.children)}))}function ye(e,t){void 0===t&&(t={}),t=Object(r.a)({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new se(e,t).parse();if(n.err){var o=SyntaxError(i[n.err.kind]);throw o.location=n.err.location,o.originalMessage=n.err.message,o}return(null==t?void 0:t.captureLocation)||ve(n.val),n.val}function me(e,t){var n=t&&t.cache?t.cache:Pe,r=t&&t.serializer?t.serializer:ke,o;return(t&&t.strategy?t.strategy:je)(e,{cache:n,serializer:r})}function be(e){return null==e||"number"==typeof e||"boolean"==typeof e}function ge(e,t,n,r){var o=be(r)?r:n(r),i=t.get(o);return void 0===i&&(i=e.call(this,r),t.set(o,i)),i}function we(e,t,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),i=t.get(o);return void 0===i&&(i=e.apply(this,r),t.set(o,i)),i}function Oe(e,t,n,r,o){return n.bind(t,e,r,o)}function je(e,t){var n;return Oe(e,this,1===e.length?ge:we,t.cache.create(),t.serializer)}function Se(e,t){return Oe(e,this,we,t.cache.create(),t.serializer)}function Ee(e,t){return Oe(e,this,ge,t.cache.create(),t.serializer)}var ke=function(){return JSON.stringify(arguments)};function _e(){this.cache=Object.create(null)}_e.prototype.get=function(e){return this.cache[e]},_e.prototype.set=function(e,t){this.cache[e]=t};var Pe={create:function e(){return new _e}},xe={variadic:Se,monadic:Ee},Ne;!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(Ne||(Ne={}));var Ce=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.code=n,o.originalMessage=r,o}return Object(r.c)(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),Te=function(e){function t(t,n,r,o){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(r).join('", "'),'"'),Ne.INVALID_VALUE,o)||this}return Object(r.c)(t,e),t}(Ce),Re=function(e){function t(t,n,r){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),Ne.INVALID_VALUE,r)||this}return Object(r.c)(t,e),t}(Ce),Le=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),Ne.MISSING_VALUE,n)||this}return Object(r.c)(t,e),t}(Ce),Ae;function Me(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===Ae.literal&&t.type===Ae.literal?n.value+=t.value:e.push(t),e}),[])}function De(e){return"function"==typeof e}function Ie(e,t,n,r,o,i,a){if(1===e.length&&c(e[0]))return[{type:Ae.literal,value:e[0].value}];for(var u=[],g=0,w=e;g<w.length;g++){var O=w[g];if(c(O))u.push({type:Ae.literal,value:O.value});else if(v(O))"number"==typeof i&&u.push({type:Ae.literal,value:n.getNumberFormat(t).format(i)});else{var j=O.value;if(!o||!(j in o))throw new Le(j,a);var S=o[j];if(s(O))S&&"string"!=typeof S&&"number"!=typeof S||(S="string"==typeof S||"number"==typeof S?String(S):""),u.push({type:"string"==typeof S?Ae.literal:Ae.object,value:S});else if(f(O)){var E="string"==typeof O.style?r.date[O.style]:b(O.style)?O.style.parsedOptions:void 0;u.push({type:Ae.literal,value:n.getDateTimeFormat(t,E).format(S)})}else if(p(O)){var E="string"==typeof O.style?r.time[O.style]:b(O.style)?O.style.parsedOptions:r.time.medium;u.push({type:Ae.literal,value:n.getDateTimeFormat(t,E).format(S)})}else if(l(O)){var E;(E="string"==typeof O.style?r.number[O.style]:m(O.style)?O.style.parsedOptions:void 0)&&E.scale&&(S*=E.scale||1),u.push({type:Ae.literal,value:n.getNumberFormat(t,E).format(S)})}else{if(y(O)){var k=O.children,_=O.value,P=o[_];if(!De(P))throw new Re(_,"function",a);var x,N=P(Ie(k,t,n,r,o,i).map((function(e){return e.value})));Array.isArray(N)||(N=[N]),u.push.apply(u,N.map((function(e){return{type:"string"==typeof e?Ae.literal:Ae.object,value:e}})))}if(h(O)){var C;if(!(C=O.options[S]||O.options.other))throw new Te(O.value,S,Object.keys(O.options),a);u.push.apply(u,Ie(C.value,t,n,r,o))}else if(d(O)){var C;if(!(C=O.options["=".concat(S)])){if(!Intl.PluralRules)throw new Ce('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',Ne.MISSING_INTL_API,a);var T=n.getPluralRules(t,{type:O.pluralType}).select(S-(O.offset||0));C=O.options[T]||O.options.other}if(!C)throw new Te(O.value,S,Object.keys(O.options),a);u.push.apply(u,Ie(C.value,t,n,r,o,S-(O.offset||0)))}else;}}}return Me(u)}function Be(e,t){return t?Object(r.a)(Object(r.a)(Object(r.a)({},e||{}),t||{}),Object.keys(e).reduce((function(n,o){return n[o]=Object(r.a)(Object(r.a)({},e[o]),t[o]||{}),n}),{})):e}function Ve(e,t){return t?Object.keys(e).reduce((function(n,r){return n[r]=Be(e[r],t[r]),n}),Object(r.a)({},e)):e}function Fe(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function Ge(e){return void 0===e&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:me((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Object(r.e)([void 0],t,!1)))}),{cache:Fe(e.number),strategy:xe.variadic}),getDateTimeFormat:me((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Object(r.e)([void 0],t,!1)))}),{cache:Fe(e.dateTime),strategy:xe.variadic}),getPluralRules:me((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Object(r.e)([void 0],t,!1)))}),{cache:Fe(e.pluralRules),strategy:xe.variadic})}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(Ae||(Ae={}));var He=function(){function e(t,n,r,o){var i=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=i.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===Ae.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return Ie(i.ast,i.locales,i.formatters,i.formats,e,void 0,i.message)},this.resolvedOptions=function(){return{locale:i.resolvedLocale.toString()}},this.getAst=function(){return i.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==o?void 0:o.ignoreTag,locale:this.resolvedLocale})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Ve(e.formats,r),this.formatters=o&&o.formatters||Ge(this.formatterCache)}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"==typeof e?e:e[0])},e.__parse=ye,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}(),Ue=n(14),ze=n(21),We=n(3);function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qe(r.key),r)}}function Ke(e,t,n){return t&&Ye(e.prototype,t),n&&Ye(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qe(e){var t=Je(e,"string");return"symbol"===$e(t)?t:String(t)}function Je(e,t){if("object"!==$e(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Ze=new We.e({level:"warn",bizName:"globalLocale"}),Qe={en:"en-US",zh:"zh-CN",zt:"zh-TW",es:"es-ES",pt:"pt-PT",fr:"fr-FR",de:"de-DE",it:"it-IT",ru:"ru-RU",ja:"ja-JP",ko:"ko-KR",ar:"ar-SA",tr:"tr-TR",th:"th-TH",vi:"vi-VN",nl:"nl-NL",he:"iw-IL",id:"in-ID",pl:"pl-PL",hi:"hi-IN",uk:"uk-UA",ms:"ms-MY",tl:"tl-PH"},et="ali-lowcode-config",tt=function(){function e(){Xe(this,e),this.emitter=Object(Ue.b)("GlobalLocale"),this._locale=void 0,this.emitter.setMaxListeners(0)}return Ke(e,[{key:"locale",get:function e(){if(null!=this._locale)return this._locale;var t=null;if(rt(window)){var n,r=window.localStorage,o;try{o=JSON.parse(r.getItem(et)||"")}catch(e){}null!==(n=o)&&void 0!==n&&n.locale&&(t=(o.locale||"").replace("_","-"),Ze.debug("getting locale from localStorage: ".concat(t)))}if(!t){var i=nt("locale");i&&(t=Qe[i]||i.replace("_","-"),Ze.debug("getting locale from config: ".concat(t)))}if(!t){var a,u=window.navigator;if(u.language){var c=u.language;return Qe[c]||c.replace("_","-")}if(u.browserLanguage){var s=u.browserLanguage.split("-"),l=s[0];s[1]&&(l+="-".concat(s[1].toUpperCase())),t=l,Ze.debug("getting locale from system: ".concat(t))}}return t||(Ze.warn("something when wrong when trying to get locale, use zh-CN as default, please check it out!"),t="zh-CN"),this._locale=t,t}},{key:"setLocale",value:function e(t){if(Ze.info("setting locale to ".concat(t)),t!==this.locale){if(this._locale=t,rt(window)){var n=window.localStorage,r;try{r=JSON.parse(n.getItem(et)||"")}catch(e){}r&&"object"===$e(r)?r.locale=t:r={locale:t},n.setItem(et,JSON.stringify(r))}this.emitter.emit("localechange",t)}}},{key:"getLocale",value:function e(){return this.locale}},{key:"onChangeLocale",value:function e(t){var n=this;return this.emitter.on("localechange",t),function(){n.emitter.removeListener("localechange",t)}}}]),e}();function nt(e){var t=window;return t[e]||(t.g_config||{})[e]||(t.pageConfig||{})[e]}function rt(e){return e.localStorage}Object(r.b)([ze.h.ref,Object(r.d)("design:type",String)],tt.prototype,"_locale",void 0),Object(r.b)([ze.c,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],tt.prototype,"locale",null);var ot=new tt,it=n(17);function at(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,st(r.key),r)}}function ct(e,t,n){return t&&ut(e.prototype,t),n&&ut(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function st(e){var t=lt(e,"string");return"symbol"===bt(t)?t:String(t)}function lt(e,t){if("object"!==bt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ft(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pt(e,t)}function pt(e,t){return(pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function ht(e){var t=yt();return function n(){var r=mt(e),o;if(t){var i=mt(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return dt(this,o)}}function dt(e,t){if(t&&("object"===bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vt(e)}function vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=wt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function wt(e,t){if(e){if("string"==typeof e)return Ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(e,t):void 0}}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jt(e){var t=[e,e.replace("-","_")];return"zh-TW"===e||"en-US"===e?(t.push("zh-CN"),t.push("zh_CN")):(t.push("en-US"),t.push("en_US"),"zh-CN"!==e&&(t.push("zh-CN"),t.push("zh_CN"))),t}function St(e,t,n){return e&&t?new He(e,n).format(t):e;var r}function Et(e,t){if(!Object(We.G)(e))return e;if(e.intl)return e.intl;var n=ot.getLocale(),r,o,i=gt(jt(n)),a;try{for(i.s();!(a=i.n()).done;){var u;if(null!=(o=e[a.value]))break}}catch(e){i.e(e)}finally{i.f()}return null==o?"##intl@".concat(n,"##"):St(o,t,n)}function kt(e){if(!e||"object"!==bt(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=Et(e[n])})),t}function _t(e,t){return Object(We.G)(e)?e.intlNode?e.intlNode:Object(o.createElement)(Pt,{data:e,params:t}):e}var Pt=function(e){ft(n,e);var t=ht(n);function n(){return at(this,n),t.apply(this,arguments)}return ct(n,[{key:"render",value:function e(){var t=this.props,n,r;return Et(t.data,t.params)}}]),n}(o.Component);function xt(e){var t=function(){var t=ot.getLocale();if("string"==typeof e){if(window[e])return window[e][t]||{};var n="".concat(e,"_").concat(t.toLocaleLowerCase());return window[n]||{}}return e&&"object"===bt(e)&&e[t]||{}}();function n(e,n){var r=t[e];return null==r?"##intl@".concat(e,"##"):St(r,n,ot.getLocale())}var i=function(e){ft(r,e);var t=ht(r);function r(){return at(this,r),t.apply(this,arguments)}return ct(r,[{key:"render",value:function e(){var t=this.props,r,o;return n(t.id,t.params)}}]),r}(o.Component);return i=Object(r.b)([it.i],i),{intlNode:function e(t,n){return Object(o.createElement)(i,{id:t,params:n})},intl:n,getLocale:function e(){return ot.getLocale()},setLocale:function e(t){ot.setLocale(t)}}}Pt=Object(r.b)([it.i],Pt)},function(e,t){var n=function(e){return setTimeout((function(){var t=Date.now();e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},r="undefined"!=typeof requestIdleCallback;e.exports=r?requestIdleCallback:n,e.exports.cancelIdleCallback=r?cancelIdleCallback:clearTimeout},function(e,t,n){"use strict";var r;n.d(t,"e",(function(){return i})),n.d(t,"j",(function(){return a.h})),n.d(t,"h",(function(){return a.f})),n.d(t,"b",(function(){return a.b})),n.d(t,"f",(function(){return a.d})),n.d(t,"k",(function(){return a.i})),n.d(t,"c",(function(){return a.c})),n.d(t,"a",(function(){return a.a})),n.d(t,"l",(function(){return a.j})),n.d(t,"n",(function(){return a.k})),n.d(t,"g",(function(){return a.e})),n.d(t,"i",(function(){return a.g})),n.d(t,"d",(function(){return M})),n.d(t,"m",(function(){return G})),n.d(t,"o",(function(){return H}));var o=null===(r=document.currentScript)||void 0===r?void 0:r.src.replace(/^(.*\/)[^/]+$/,"$1");function i(){return o||""}var a=n(21),u=n(53),c;function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=h(e,"string");return"symbol"===d(t)?t:String(t)}function h(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){return w(e)||g(e,t)||m(e,t)||y()}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function w(e){if(Array.isArray(e))return e}var O=n.n(u)()("request");function j(e){if(!e)return"";var t=[];return Object.entries(e||{}).forEach((function(e){var n=v(e,2),r=n[0],o=n[1];null!=o&&""!==o&&("object"===d(o)?t.push("".concat(r,"=").concat(encodeURIComponent(JSON.stringify(o)))):t.push("".concat(r,"=").concat(encodeURIComponent(o))))})),t.join("&")}function S(e,t){var n=j(t);return n?e.indexOf("?")>0?"".concat(e,"&").concat(n):"".concat(e,"?").concat(n):e}function E(e,t,n,r){var o=l({Accept:"application/json"},n);return _(S(e,t),"GET",void 0,o,r)}function k(e,t,n,r){var o=l({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},n);return _(e,"POST",o["Content-Type"].indexOf("application/json")>-1||Array.isArray(t)?JSON.stringify(t):j(t),o,r)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return new Promise((function(i,a){o&&o.timeout&&setTimeout((function(){a(new Error("timeout"))}),o.timeout),fetch(e,l({method:t,credentials:"include",headers:r,body:n},o)).then((function(e){switch(e.status){case 200:case 201:case 202:return e.json();case 204:return"DELETE"===t?{success:!0}:{__success:!1,code:e.status};case 400:case 401:case 403:case 404:case 406:case 410:case 422:case 500:return e.json().then((function(t){return{__success:!1,code:e.status,data:t}})).catch((function(){return{__success:!1,code:e.status}}));default:return null}})).then((function(e){e&&!1!==e.__success?i(e):(delete e.__success,a(e))})).catch((function(e){O(e),a(e)}))}))}function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T(r.key),r)}}function C(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e){var t=R(e,"string");return"symbol"===P(t)?t:String(t)}function R(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var L=function(){function e(){x(this,e),this.actives=[],this.modals=[]}return C(e,[{key:"mount",value:function e(t){var n=this,r=function e(t){if(!n.checkModalDown(t)){var r=n.first;r&&!r.internalCheckInRange(t)&&(n.internalSuspenseItem(r),r.internalTriggerBlur())}};return t.document.addEventListener("click",r,!0),function(){t.document.removeEventListener("click",r,!0)}}},{key:"first",get:function e(){return this.actives[0]}},{key:"addModal",value:function e(t,n){this.modals.push({checkDown:t,checkOpen:n})}},{key:"checkModalOpen",value:function e(){return this.modals.some((function(e){return e.checkOpen()}))}},{key:"checkModalDown",value:function e(t){return this.modals.some((function(e){return e.checkDown(t)}))}},{key:"execSave",value:function e(){this.checkModalOpen()||this.first&&this.first.internalTriggerSave()}},{key:"execEsc",value:function e(){var t=this.first;t&&(this.internalSuspenseItem(t),t.internalTriggerEsc())}},{key:"create",value:function e(t){return new A(this,t)}},{key:"internalActiveItem",value:function e(t){var n=this.actives[0];if(n!==t){var r=this.actives.indexOf(t);r>-1&&this.actives.splice(r,1),this.actives.unshift(t),!t.isModal&&n&&n.internalTriggerBlur(),t.internalTriggerActive()}}},{key:"internalSuspenseItem",value:function e(t){var n=this.actives.indexOf(t),r;n>-1&&(this.actives.splice(n,1),null===(r=this.first)||void 0===r||r.internalTriggerActive())}}]),e}(),A=function(){function e(t,n){x(this,e),this.tracker=void 0,this.config=void 0,this.isModal=void 0,this.tracker=t,this.config=n,this.isModal=null!=n.modal&&n.modal}return C(e,[{key:"active",value:function e(){this.tracker.internalActiveItem(this)}},{key:"suspense",value:function e(){this.tracker.internalSuspenseItem(this)}},{key:"purge",value:function e(){this.tracker.internalSuspenseItem(this)}},{key:"internalCheckInRange",value:function e(t){var n=this.config.range;return!!n&&("function"==typeof n?n(t):n.contains(t.target))}},{key:"internalTriggerBlur",value:function e(){this.config.onBlur&&this.config.onBlur()}},{key:"internalTriggerSave",value:function e(){return!!this.config.onSave&&(this.config.onSave(),!0)}},{key:"internalTriggerEsc",value:function e(){this.config.onEsc&&this.config.onEsc()}},{key:"internalTriggerActive",value:function e(){this.config.onActive&&this.config.onActive()}}]),e}(),M=new L;M.mount(window);var D=!0;function I(e){D=e}function B(){I(!0)}function V(){I(!1)}function F(){return D}function G(e){V(),e(),B()}function H(e){return function(){F()&&e.apply(void 0,arguments)}}var U=n(28)},function(e,t,n){(function(t){var n=a(),r=u(),o=c(),i="undefined"!=typeof window?window:t;function a(){return Object.assign?Object.assign:function e(t,n,r,o){for(var i=1;i<arguments.length;i++)f(Object(arguments[i]),(function(e,n){t[n]=e}));return t}}function u(){if(Object.create)return function e(t,r,o,i){var a=l(arguments,1);return n.apply(this,[Object.create(t)].concat(a))};{function e(){}return function t(r,o,i,a){var u=l(arguments,1);return e.prototype=r,n.apply(this,[new e].concat(u))}}}function c(){return String.prototype.trim?function e(t){return String.prototype.trim.call(t)}:function e(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function s(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}}function l(e,t){return Array.prototype.slice.call(e,t||0)}function f(e,t){h(e,(function(e,n){return t(e,n),!1}))}function p(e,t){var n=d(e)?[]:{};return h(e,(function(e,r){return n[r]=t(e,r),!1})),n}function h(e,t){if(d(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var r in e)if(e.hasOwnProperty(r)&&t(e[r],r))return e[r]}function d(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}function v(e){return e&&"[object Function]"==={}.toString.call(e)}function y(e){return e&&"[object Object]"==={}.toString.call(e)}e.exports={assign:n,create:r,trim:o,bind:s,slice:l,each:f,map:p,pluck:h,isList:d,isFunction:v,isObject:y,Global:i}}).call(this,n(33))},function(e,t,n){const r=n(38),o=(e,t,n)=>new r(e,n).compare(new r(t,n));e.exports=o},function(e,t,n){"use strict";var r=n(39);n.d(t,"Setters",(function(){return r.a}));var o=n(40);n.o(o,"Hotkey")&&n.d(t,"Hotkey",(function(){return o.Hotkey})),n.o(o,"Tip")&&n.d(t,"Tip",(function(){return o.Tip})),n.o(o,"TipContainer")&&n.d(t,"TipContainer",(function(){return o.TipContainer})),n.o(o,"Title")&&n.d(t,"Title",(function(){return o.Title})),n.o(o,"createModuleEventBus")&&n.d(t,"createModuleEventBus",(function(){return o.createModuleEventBus})),n.o(o,"engineConfig")&&n.d(t,"engineConfig",(function(){return o.engineConfig})),n.o(o,"globalContext")&&n.d(t,"globalContext",(function(){return o.globalContext}));var i=n(26);n.d(t,"Tip",(function(){return i.a}))},function(e,t,n){"use strict";n.d(t,"h",(function(){return r.observable})),n.d(t,"f",(function(){return r.observable})),n.d(t,"b",(function(){return r.autorun})),n.d(t,"d",(function(){return r.makeObservable})),n.d(t,"i",(function(){return r.reaction})),n.d(t,"c",(function(){return r.computed})),n.d(t,"a",(function(){return r.action})),n.d(t,"j",(function(){return r.runInAction})),n.d(t,"k",(function(){return r.untracked})),n.d(t,"e",(function(){return r})),n.d(t,"g",(function(){return ve}));var r=n(6),o=n(2),i=n.n(o);if(!o.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!r.makeObservable)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var a=n(10);function u(e){e()}function c(e){e||(e=u),Object(r.configure)({reactionScheduler:e})}var s=function(){return!0},l=[];function f(e){l.includes(e)||(l.push(e),console.warn(e))}function p(e){return Object(r.getDependencyTree)(e)}var h=1e4,d=1e4,v=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var n=Date.now();t.registrations.forEach((function(r,o){n-r.registeredAt>=e&&(t.finalize(r.value),t.registrations.delete(o))})),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this.registrations.set(n,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),y,m=new("undefined"!=typeof FinalizationRegistry?FinalizationRegistry:v)((function(e){var t;null===(t=e.reaction)||void 0===t||t.dispose(),e.reaction=null})),b=!1;function g(e){b=e}function w(){return b}var O=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function j(e){return"observer".concat(e)}var S=function(){function e(){}return e}();function E(){return new S}function k(e,t){if(void 0===t&&(t="observed"),w())return e();var n,o=O(i.a.useState(E),1)[0],a,u=O(i.a.useState(),2)[1],c=function(){return u([])},s=i.a.useRef(null);s.current||(s.current={reaction:null,mounted:!1,changedBeforeMount:!1});var l=s.current,f,h;if(l.reaction||(l.reaction=new r.Reaction(j(t),(function(){l.mounted?c():l.changedBeforeMount=!0})),m.register(o,l,l)),i.a.useDebugValue(l.reaction,p),i.a.useEffect((function(){return m.unregister(l),l.mounted=!0,l.reaction?l.changedBeforeMount&&(l.changedBeforeMount=!1,c()):(l.reaction=new r.Reaction(j(t),(function(){c()})),c()),function(){l.reaction.dispose(),l.reaction=null,l.mounted=!1,l.changedBeforeMount=!1}}),[]),l.reaction.track((function(){try{f=e()}catch(e){h=e}})),h)throw h;return f}var _=!0,P="function"==typeof Symbol&&Symbol.for,x=P?Symbol.for("react.forward_ref"):"function"==typeof o.forwardRef&&Object(o.forwardRef)((function(e){return null})).$$typeof,N=P?Symbol.for("react.memo"):"function"==typeof o.memo&&Object(o.memo)((function(e){return null})).$$typeof;function C(e,t){var n;if(N&&e.$$typeof===N)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(w())return e;var r=null!==(n=null==t?void 0:t.forwardRef)&&void 0!==n&&n,i=e,a=e.displayName||e.name;if(x&&e.$$typeof===x&&(r=!0,"function"!=typeof(i=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var u=function(e,t){return k((function(){return i(e,t)}),a)};return""!==a&&(u.displayName=a),e.contextTypes&&(u.contextTypes=e.contextTypes),r&&(u=Object(o.forwardRef)(u)),R(e,u=Object(o.memo)(u)),u}var T={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function R(e,t){Object.keys(e).forEach((function(n){T[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}function L(e){var t=e.children,n=e.render,r=t||n;return"function"!=typeof r?null:k(r)}function A(e,t,n,r,o){var i="children"===t?"render":"children",a="function"==typeof e[t],u="function"==typeof e[i];return a&&u?new Error("MobX Observer: Do not use children and render in the same time in`"+n):a||u?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}function M(e,t){return Object(o.useState)((function(){return Object(r.observable)(e(),t,{autoBind:!0})}))[0]}L.displayName="Observer";var D=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},I;function B(e){var t,n=D(Object(o.useState)((function(){return Object(r.observable)(e,{},{deep:!1})})),1)[0];return Object(r.runInAction)((function(){Object.assign(n,e)})),n}function V(e,t){var n=t&&B(t);return Object(o.useState)((function(){return Object(r.observable)(e(n),void 0,{autoBind:!0})}))[0]}c(a.unstable_batchedUpdates);var F=null!==(I=m.finalizeAllImmediately)&&void 0!==I?I:function(){};function G(e,t){return void 0===t&&(t="observed"),k(e,t)}function H(e){g(e)}var U=0;function z(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+U+")";return U++,t}var W={};function $(e){return W[e]||(W[e]=z(e)),W[e]}function X(e,t){if(Y(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.hasOwnProperty.call(t,n[o])||!Y(e[n[o]],t[n[o]]))return!1;return!0}function Y(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var K={$$typeof:1,render:1,compare:1,type:1,childContextTypes:1,contextType:1,contextTypes:1,defaultProps:1,getDefaultProps:1,getDerivedStateFromError:1,getDerivedStateFromProps:1,mixins:1,displayName:1,propTypes:1};function q(e,t){var n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));Object.getOwnPropertyNames(e).forEach((function(r){K[r]||-1!==n.indexOf(r)||Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}function J(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var Z=$("patchMixins"),Q=$("patchedDefinition");function ee(e,t){var n=e[Z]=e[Z]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function te(e,t){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t.locks++;try{var a;return null!=e&&(a=e.apply(this,o)),a}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,o)}))}}function ne(e,t){var n;return function n(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];te.call.apply(te,[this,e,t].concat(o))}}function re(e,t,n){var r=ee(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var o=Object.getOwnPropertyDescriptor(e,t);if(!o||!o[Q]){var i=e[t],a=oe(e,t,o?o.enumerable:void 0,r,i);Object.defineProperty(e,t,a)}}function oe(e,t,n,r,o){var i,a=ne(o,r);return(i={})[Q]=!0,i.get=function e(){return a},i.set=function o(i){if(this===e)a=ne(i,r);else{var u=oe(this,t,n,r,i);Object.defineProperty(this,t,u)}},i.configurable=!0,i.enumerable=n,i}var ie=r.$mobx||"$mobx",ae=$("isMobXReactObserver"),ue=$("isUnmounted"),ce=$("skipRender"),se=$("isForcingUpdate");function le(e){var t=e.prototype;if(e[ae]){var n=fe(t);console.warn("The provided component class ("+n+")\n                has already been declared as an observer component.")}else e[ae]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==o.PureComponent)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==he)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=he;de(t,"props"),de(t,"state"),e.contextType&&de(t,"context");var r=t.render;if("function"!=typeof r){var i=fe(t);throw new Error("[mobx-react] class component ("+i+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}return t.render=function(){return this.render=w()?r:pe.call(this,r),this.render()},re(t,"componentDidMount",(function(){this[ue]=!1,this.render[ie]||o.Component.prototype.forceUpdate.call(this)})),re(t,"componentWillUnmount",(function(){if(!w()){var e=this.render[ie];if(e)e.dispose(),this.render[ie]=null;else{var t=fe(this);console.warn("The reactive render of an observer class component ("+t+")\n                was overridden after MobX attached. This may result in a memory leak if the\n                overridden reactive render was not properly disposed.")}this[ue]=!0}})),e}function fe(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function pe(e){var t=this;J(this,ce,!1),J(this,se,!1);var n=fe(this),i=e.bind(this),a=!1,u=function e(){var i=new r.Reaction(n+".render()",(function(){if(!a&&(a=!0,!0!==t[ue])){var e=!0;try{J(t,se,!0),t[ce]||o.Component.prototype.forceUpdate.call(t),e=!1}finally{J(t,se,!1),e&&(i.dispose(),t.render[ie]=null)}}}));return i.reactComponent=t,i};function c(){var e;a=!1;var t=null!=(e=c[ie])?e:c[ie]=u(),n=void 0,o=void 0;if(t.track((function(){try{o=Object(r._allowStateChanges)(!1,i)}catch(e){n=e}})),n)throw n;return o}return c}function he(e,t){return w()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!X(this.props,e)}function de(e,t){var n=$("reactProp_"+t+"_valueHolder"),o=$("reactProp_"+t+"_atomHolder");function i(){return this[o]||J(this,o,Object(r.createAtom)("reactive "+t)),this[o]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function e(){var t=!1;return r._allowStateReadsStart&&r._allowStateReadsEnd&&(t=Object(r._allowStateReadsStart)(!0)),i.call(this).reportObserved(),r._allowStateReadsStart&&r._allowStateReadsEnd&&Object(r._allowStateReadsEnd)(t),this[n]},set:function e(t){this[se]||X(this[n],t)?J(this,n,t):(J(this,n,t),J(this,ce,!0),i.call(this).reportChanged(),J(this,ce,!1))}})}function ve(e){return!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use `observer` on a component that already has `inject`. Please apply `observer` before applying `inject`"),Object.prototype.isPrototypeOf.call(o.Component,e)||Object.prototype.isPrototypeOf.call(o.PureComponent,e)?le(e):C(e)}function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function me(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}var be=["children"],ge=i.a.createContext({});function we(e){var t=e.children,n=me(e,be),r=i.a.useContext(ge),o,a=i.a.useRef(ye({},r,n)).current,u;return i.a.createElement(ge.Provider,{value:a},t)}function Oe(e,t,n,r){var o=i.a.forwardRef((function(n,r){var o=ye({},n),a=i.a.useContext(ge);return Object.assign(o,e(a||{},o)||{}),r&&(o.ref=r),i.a.createElement(t,o)}));return r&&(o=ve(o)),o.isMobxInjector=!0,q(t,o),o.wrappedComponent=t,o.displayName=je(t,n),o}function je(e,t){var n,r=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return n=t?"inject-with-"+t+"("+r+")":"inject("+r+")"}function Se(e){return function(t,n){return e.forEach((function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}})),n}}function Ee(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if("function"==typeof arguments[0]){var r=arguments[0];return function(e){return Oe(r,e,r.name,!0)}}return function(e){return Oe(Se(t),e,t.join("-"),!1)}}we.displayName="MobXProvider";var ke=$("disposeOnUnmountProto"),_e=$("disposeOnUnmountInst");function Pe(){var e=this;[].concat(this[ke]||[],this[_e]||[]).forEach((function(t){var n="string"==typeof t?e[t]:t;null!=n&&(Array.isArray(n)?n.map((function(e){return e()})):n())}))}function xe(e,t){if(Array.isArray(t))return t.map((function(t){return xe(e,t)}));var n=Object.getPrototypeOf(e).constructor,r=Object.getPrototypeOf(e.constructor),o=Object.getPrototypeOf(Object.getPrototypeOf(e));if(n!==i.a.Component&&n!==i.a.PureComponent&&r!==i.a.Component&&r!==i.a.PureComponent&&o!==i.a.Component&&o!==i.a.PureComponent)throw new Error("[mobx-react] disposeOnUnmount only supports direct subclasses of React.Component or React.PureComponent.");if("string"!=typeof t&&"function"!=typeof t&&!Array.isArray(t))throw new Error("[mobx-react] disposeOnUnmount only works if the parameter is either a property key or a function.");var a="string"==typeof t,u=!!e[ke]||!!e[_e],c;return(a?e[ke]||(e[ke]=[]):e[_e]||(e[_e]=[])).push(t),u||re(e,"componentWillUnmount",Pe),"string"!=typeof t?t:void 0}function Ne(e){function t(t,n,o,i,a,u){for(var c=arguments.length,s=new Array(c>6?c-6:0),l=6;l<c;l++)s[l-6]=arguments[l];return Object(r.untracked)((function(){if(i=i||"<<anonymous>>",u=u||o,null==n[o]){if(t){var r=null===n[o]?"null":"undefined";return new Error("The "+a+" `"+u+"` is marked as required in `"+i+"`, but its value is `"+r+"`.")}return null}return e.apply(void 0,[n,o,i,a,u].concat(s))}))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function Ce(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function Te(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":Ce(t,e)?"symbol":t}function Re(e){var t=Te(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function Le(e,t){return Ne((function(n,o,i,a,u){return Object(r.untracked)((function(){if(e&&Te(n[o])===t.toLowerCase())return null;var a;switch(t){case"Array":a=r.isObservableArray;break;case"Object":a=r.isObservableObject;break;case"Map":a=r.isObservableMap;break;default:throw new Error("Unexpected mobxType: "+t)}var c=n[o];if(!a(c)){var s=Re(c),l=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+u+"` of type `"+s+"` supplied to `"+i+"`, expected `mobx.Observable"+t+"`"+l+".")}return null}))}))}function Ae(e,t){return Ne((function(n,o,i,a,u){for(var c=arguments.length,s=new Array(c>5?c-5:0),l=5;l<c;l++)s[l-5]=arguments[l];return Object(r.untracked)((function(){if("function"!=typeof t)return new Error("Property `"+u+"` of component `"+i+"` has invalid PropType notation.");var r=Le(e,"Array")(n,o,i,a,u);if(r instanceof Error)return r;for(var c=n[o],l=0;l<c.length;l++)if((r=t.apply(void 0,[c,l,i,a,u+"["+l+"]"].concat(s)))instanceof Error)return r;return null}))}))}var Me,De,Ie,Be,Ve,Fe,Ge,He=Le(!1,"Array"),Ue=Ae.bind(null,!1),ze=Le(!1,"Map"),We=Le(!1,"Object"),$e=Le(!0,"Array"),Xe=Ae.bind(null,!0),Ye=Le(!0,"Object");if(!o.Component)throw new Error("mobx-react requires React to be available");if(!r.observable)throw new Error("mobx-react requires mobx to be available");Object(r.configure)({enforceActions:"never"})},function(e,t){var n=e.exports={},r,o;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function c(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var s=[],l=!1,f,p=-1;function h(){l&&f&&(l=!1,f.length?s=f.concat(s):p=-1,s.length&&d())}function d(){if(!l){var e=u(h);l=!0;for(var t=s.length;t;){for(f=s,s=[];++p<t;)f&&f[p].run();p=-1,t=s.length}f=null,l=!1,c(e)}}function v(e,t){this.fun=e,this.array=t}function y(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new v(e,t)),1!==s.length||l||u(d)},v.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=y,n.addListener=y,n.once=y,n.off=y,n.removeListener=y,n.removeAllListeners=y,n.emit=y,n.prependListener=y,n.prependOnceListener=y,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.logger=void 0,o(n(74),t),o(n(24),t),o(n(77),t),o(n(41),t),o(n(42),t),o(n(43),t),o(n(78),t);var i=n(43);t.logger=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.symbolString=t.isExtendOf=t.getGlobalType=t.isClass=void 0;var r=n(34),o=n(41),i=0,a={};function u(e){return(null==e?void 0:e.prototype)&&e.prototype.constructor===e}function c(e,t){if(void 0===t&&(t=""),!e)throw new Error("no key.");if(["string","symbol","object"].includes(typeof e))return e;if(e.hasOwnProperty("__type"))return e.__type;var n,o=e[r.nameSymbol]||e.name;if("function"!=typeof e||!o)throw new Error("data MUST be a class or string.");return a[n=t+o]&&(n=n+"_"+i++),a[n]=!0,Object.defineProperty(e,"__type",{configurable:!1,enumerable:!1,writable:!1,value:n}),n}function s(e,t){if(!u(e)||!u(t))throw new Error("classType and superClassType MUST be a class.");var n=c(t);return!!(0,o.getSuperClassInfo)(e).find((function(e){return e.type===n}))}function l(e){return"symbol"==typeof e?e.toString():e}t.isClass=u,t.getGlobalType=c,t.isExtendOf=s,t.symbolString=l},function(e,t,n){"use strict";var r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o,i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r=0,o=t.length,i;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.classLoader=t.ClassLoader=t.DuplicateRegistrationError=void 0;var a=n(13),u=n(23),c=function(e){function t(t){return e.call(this,"Type ".concat(t.name," is already registration."))||this}return r(t,e),t}(Error);t.DuplicateRegistrationError=c;var s=function(){function e(e,t){void 0===e&&(e=new Map),void 0===t&&(t=new Map),this.classInfoMap=e,this.implementCacheMap=t}return e.prototype.hasClass=function(e){return this.classInfoMap.has(e)},e.prototype.registerClass=function(e,t){var n=this,r;if(this.classInfoMap.has(e))throw new c(e);var o=(0,a.getMetadata)(e);o.injectable=!0;var s=t||o.classInfo;if(s.name||(s.name=e.name),!(null===(r=s.extends)||void 0===r?void 0:r.length)){var l=(0,u.getSuperClassInfo)(e);s.extends=l.map((function(e){return e.class}))}return this.classInfoMap.set(e,s),s.implements||(s.implements=[]),i(i([],s.extends,!0),s.implements,!0).forEach((function(t){var r=n.getImplCacheByType(t);r.every((function(t){return t.type!==e}))&&r.push({type:e,info:s})})),this},e.prototype.unregisterClass=function(e){var t=this,n=this.classInfoMap.get(e);return!!n&&(i(i([],n.extends,!0),n.implements,!0).forEach((function(n){var r=t.getImplCacheByType(n),o=r.findIndex((function(t){return t.type===e}));o>=0&&r.splice(o,1)})),this.classInfoMap.delete(e))},e.prototype.getClassInfo=function(e){return this.classInfoMap.get(e)},e.prototype.filterClasses=function(e){var t=[];return this.classInfoMap.forEach((function(n,r){var o={type:r,info:n};e(o)&&t.push(o)})),t},e.prototype.getImplementClasses=function(e){return this.getImplCacheByType(e)},e.prototype.clearAll=function(){return this.classInfoMap.clear(),this.implementCacheMap.clear(),this},e.prototype.clone=function(){var e,t=new(0,this.constructor);return t.initWith(this),t},e.prototype.initWith=function(e){this.classInfoMap=new Map(e.classInfoMap),this.implementCacheMap=this.cloneImplCacheMap(e.implementCacheMap)},e.prototype.cloneImplCacheMap=function(e){return new Map(Array.from(e.entries()).map((function(e){var t=e[0],n=e[1];return[t,i([],n,!0)]})))},e.prototype.getImplCacheByType=function(e){var t=(0,u.getGlobalType)(e);return this.implementCacheMap.has(t)?this.implementCacheMap.get(t):(this.implementCacheMap.set(t,[]),this.getImplCacheByType(e))},e}();t.ClassLoader=s,t.classLoader=new s},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(2),o=n.n(r),i=n(3),a=n(11);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=p(e,"string");return"symbol"===u(t)?t:String(t)}function p(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function v(e){var t=b();return function n(){var r=g(e),o;if(t){var i=g(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return y(this,o)}}function y(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var w=function(e){h(n,e);var t=v(n);function n(){var e;c(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).id=Object(i.cb)("tips$"),e}return l(n,[{key:"componentWillUnmount",value:function e(){Object(a.a)(this.id,null)}},{key:"render",value:function e(){return Object(a.a)(this.id,this.props),React.createElement("meta",{"data-role":"tip","data-tip-id":this.id})}}]),n}(r.Component)},function(e,t,n){(function(t){const n="object"==typeof t&&t.env&&t.env.NODE_DEBUG&&/\bsemver\b/i.test(t.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=n}).call(this,n(22))},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(32),o=n.n(r),i=n(31);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=f(e,"string");return"symbol"===a(t)?t:String(t)}function f(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=Object(i.a)({level:"warn",bizName:"Preference"}),h="ale",d=function(){function e(){u(this,e)}return s(e,[{key:"getStorageKey",value:function e(t,n){var r=n||"__inner__";return"".concat("ale","_").concat(r,".").concat(t)}},{key:"set",value:function e(t,n,r){if(t&&"string"==typeof t&&0!==t.length){var i=this.getStorageKey(t,r);p.debug("storageKey:",i,"set with value:",n),o.a.set(i,n)}else p.error("Invalid key when setting preference",t)}},{key:"get",value:function e(t,n){if(t&&"string"==typeof t&&0!==t.length){var r=this.getStorageKey(t,n),i=o.a.get(r);return p.debug("storageKey:",r,"get with result:",i),i}p.error("Invalid key when getting from preference",t)}},{key:"contains",value:function e(t,n){if(!t||"string"!=typeof t||0===t.length)return p.error("Invalid key when getting from preference",t),!1;var r=this.getStorageKey(t,n),i=o.a.get(r);return!(null==i)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(8),o=n.n(r),i=n(3),a=n(31),u=n(28);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=h(e,"string");return"symbol"===c(t)?t:String(t)}function h(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=Object(a.a)({level:"log",bizName:"config"}),v=!0,y={enableCondition:{type:"boolean",description:"\u662f\u5426\u5f00\u542f condition \u7684\u80fd\u529b\uff0c\u9ed8\u8ba4\u5728\u8bbe\u8ba1\u5668\u4e2d\u4e0d\u7ba1 condition \u662f\u5565\u90fd\u6b63\u5e38\u5c55\u793a"},designMode:{type:"string",enum:["design","live"],default:"design",description:"\u8bbe\u8ba1\u6a21\u5f0f\uff0clive \u6a21\u5f0f\u5c06\u4f1a\u5b9e\u65f6\u5c55\u793a\u53d8\u91cf\u503c"},device:{type:"string",enum:["default","mobile","any string value"],default:"default",description:"\u8bbe\u5907\u7c7b\u578b"},deviceClassName:{type:"string",default:void 0,description:"\u6307\u5b9a\u521d\u59cb\u5316\u7684 deviceClassName\uff0c\u6302\u8f7d\u5230\u753b\u5e03\u7684\u9876\u5c42\u8282\u70b9\u4e0a"},locale:{type:"string",default:"zh-CN",description:"\u8bed\u8a00"},renderEnv:{type:"string",enum:["react","rax","any string value"],default:"react",description:"\u6e32\u67d3\u5668\u7c7b\u578b"},deviceMapper:{type:"object",description:"\u8bbe\u5907\u7c7b\u578b\u6620\u5c04\u5668\uff0c\u5904\u7406\u8bbe\u8ba1\u5668\u4e0e\u6e32\u67d3\u5668\u4e2d device \u7684\u6620\u5c04"},enableStrictPluginMode:{type:"boolean",default:!0,description:"\u5f00\u542f\u4e25\u683c\u63d2\u4ef6\u6a21\u5f0f\uff0c\u9ed8\u8ba4\u503c\uff1aSTRICT_PLUGIN_MODE_DEFAULT , \u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u63d2\u4ef6\u5c06\u65e0\u6cd5\u901a\u8fc7 engineOptions \u4f20\u9012\u81ea\u5b9a\u4e49\u914d\u7f6e\u9879"},enableReactiveContainer:{type:"boolean",default:!1,description:"\u5f00\u542f\u62d6\u62fd\u7ec4\u4ef6\u65f6\uff0c\u5373\u5c06\u88ab\u653e\u5165\u7684\u5bb9\u5668\u662f\u5426\u6709\u89c6\u89c9\u53cd\u9988"},disableAutoRender:{type:"boolean",default:!1,description:"\u5173\u95ed\u753b\u5e03\u81ea\u52a8\u6e32\u67d3\uff0c\u5728\u8d44\u4ea7\u5305\u591a\u91cd\u5f02\u6b65\u52a0\u8f7d\u7684\u573a\u666f\u6709\u6548"},disableDetecting:{type:"boolean",default:!1,description:"\u5173\u95ed\u62d6\u62fd\u7ec4\u4ef6\u65f6\u7684\u865a\u7ebf\u54cd\u5e94\uff0c\u6027\u80fd\u8003\u8651"},customizeIgnoreSelectors:{type:"function",default:void 0,description:"\u5b9a\u5236\u753b\u5e03\u4e2d\u70b9\u51fb\u88ab\u5ffd\u7565\u7684 selectors, eg. (defaultIgnoreSelectors: string[], e: MouseEvent) => string[]"},disableDefaultSettingPanel:{type:"boolean",default:!1,description:"\u7981\u6b62\u9ed8\u8ba4\u7684\u8bbe\u7f6e\u9762\u677f"},disableDefaultSetters:{type:"boolean",default:!1,description:"\u7981\u6b62\u9ed8\u8ba4\u7684\u8bbe\u7f6e\u5668"},enableCanvasLock:{type:"boolean",default:!1,description:"\u6253\u5f00\u753b\u5e03\u7684\u9501\u5b9a\u64cd\u4f5c"},enableLockedNodeSetting:{type:"boolean",default:!1,description:"\u5bb9\u5668\u9501\u5b9a\u540e\uff0c\u5bb9\u5668\u672c\u8eab\u662f\u5426\u53ef\u4ee5\u8bbe\u7f6e\u5c5e\u6027\uff0c\u4ec5\u5f53\u753b\u5e03\u9501\u5b9a\u7279\u6027\u5f00\u542f\u65f6\u751f\u6548"},stayOnTheSameSettingTab:{type:"boolean",default:!1,description:"\u5f53\u9009\u4e2d\u8282\u70b9\u5207\u6362\u65f6\uff0c\u662f\u5426\u505c\u7559\u5728\u76f8\u540c\u7684\u8bbe\u7f6e tab \u4e0a"},hideSettingsTabsWhenOnlyOneItem:{type:"boolean",description:"\u662f\u5426\u5728\u53ea\u6709\u4e00\u4e2a item \u7684\u65f6\u5019\u9690\u85cf\u8bbe\u7f6e tabs"},loadingComponent:{type:"ComponentType",default:void 0,description:"\u81ea\u5b9a\u4e49 loading \u7ec4\u4ef6"},supportVariableGlobally:{type:"boolean",default:!1,description:"\u8bbe\u7f6e\u6240\u6709\u5c5e\u6027\u652f\u6301\u53d8\u91cf\u914d\u7f6e"},visionSettings:{type:"object",description:"Vision-polyfill settings"},simulatorUrl:{type:"array",description:"\u81ea\u5b9a\u4e49 simulatorUrl \u7684\u5730\u5740"},appHelper:{type:"object",description:"\u5b9a\u4e49 utils \u548c constants \u7b49\u5bf9\u8c61"},requestHandlersMap:{type:"object",description:"\u6570\u636e\u6e90\u5f15\u64ce\u7684\u8bf7\u6c42\u5904\u7406\u5668\u6620\u5c04"},thisRequiredInJSE:{type:"boolean",description:"JSExpression \u662f\u5426\u53ea\u652f\u6301\u4f7f\u7528 this \u6765\u8bbf\u95ee\u4e0a\u4e0b\u6587\u53d8\u91cf"},enableStrictNotFoundMode:{type:"boolean",description:"\u5f53\u5f00\u542f\u7ec4\u4ef6\u672a\u627e\u5230\u4e25\u683c\u6a21\u5f0f\u65f6\uff0c\u6e32\u67d3\u6a21\u5757\u4e0d\u4f1a\u9ed8\u8ba4\u7ed9\u4e00\u4e2a\u5bb9\u5668\u7ec4\u4ef6"},focusNodeSelector:{type:"function",description:"\u914d\u7f6e\u6307\u5b9a\u8282\u70b9\u4e3a\u6839\u7ec4\u4ef6"},enableAutoOpenFirstWindow:{type:"boolean",description:"\u5e94\u7528\u7ea7\u8bbe\u8ba1\u6a21\u5f0f\u4e0b\uff0c\u81ea\u52a8\u6253\u5f00\u7b2c\u4e00\u4e2a\u7a97\u53e3",default:!0}},m=function e(t,n){return t&&Object(i.P)(t)?void 0===t.enableStrictPluginMode||null===t.enableStrictPluginMode?n:t.enableStrictPluginMode:n},b,g=new(function(){function e(t){s(this,e),this.config={},this.waits=new Map,this.preference=void 0,this.config=t||{},this.preference=new u.a}return f(e,[{key:"has",value:function e(t){return void 0!==this.config[t]}},{key:"get",value:function e(t,n){return Object(r.get)(this.config,t,n)}},{key:"set",value:function e(t,n){this.config[t]=n,this.notifyGot(t)}},{key:"setConfig",value:function e(t){var n=this;t&&Object.keys(t).forEach((function(e){n.set(e,t[e])}))}},{key:"setEngineOptions",value:function e(t){var n=this,r;if(t&&Object(i.P)(t))if(!0===m(t,!0)){var o=function e(t){var n=y[t];return!(null==n)};Object.keys(t).forEach((function(e){o(e)?n.set(e,t[e]):d.warn("failed to config ".concat(e," to engineConfig, only predefined options can be set under strict mode, predefined options: "),y)}))}else this.setConfig(t)}},{key:"onceGot",value:function e(t){var n=this,r=this.config[t];return void 0!==r?Promise.resolve(r):new Promise((function(e){n.setWait(t,e,!0)}))}},{key:"onGot",value:function e(t,n){var r,o=this,i=null===(r=this.config)||void 0===r?void 0:r[t];return void 0!==i&&n(i),this.setWait(t,n),function(){o.delWait(t,n)}}},{key:"notifyGot",value:function e(t){var n=this.waits.get(t);if(n){for(var r=(n=n.slice().reverse()).length;r--;)n[r].resolve(this.get(t)),n[r].once&&n.splice(r,1);n.length>0?this.waits.set(t,n):this.waits.delete(t)}}},{key:"setWait",value:function e(t,n,r){var o=this.waits.get(t);o?o.push({resolve:n,once:r}):this.waits.set(t,[{resolve:n,once:r}])}},{key:"delWait",value:function e(t,n){var r=this.waits.get(t);if(r){for(var o=r.length;o--;)r[o].resolve===n&&r.splice(o,1);r.length<1&&this.waits.delete(t)}}},{key:"getPreference",value:function e(){return this.preference}}]),e}())},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(73),t),o(n(34),t),o(n(79),t)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3);function o(e){return new r.e(e)}},function(e,t,n){var r=n(63),o=n(64),i=[n(71)];e.exports=r.createStore(o,i)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(76),t),o(n(25),t)},function(e,t){const n=Object.freeze({loose:!0}),r=Object.freeze({}),o=e=>e?"object"!=typeof e?n:e:r;e.exports=o},function(e,t,n){const{MAX_SAFE_COMPONENT_LENGTH:r}=n(37),o=n(27),i=(t=e.exports={}).re=[],a=t.src=[],u=t.t={};let c=0;const s=(e,t,n)=>{const r=c++;o(e,r,t),u[e]=r,a[r]=t,i[r]=new RegExp(t,n?"g":void 0)};s("NUMERICIDENTIFIER","0|[1-9]\\d*"),s("NUMERICIDENTIFIERLOOSE","[0-9]+"),s("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),s("MAINVERSION",`(${a[u.NUMERICIDENTIFIER]})\\.(${a[u.NUMERICIDENTIFIER]})\\.(${a[u.NUMERICIDENTIFIER]})`),s("MAINVERSIONLOOSE",`(${a[u.NUMERICIDENTIFIERLOOSE]})\\.(${a[u.NUMERICIDENTIFIERLOOSE]})\\.(${a[u.NUMERICIDENTIFIERLOOSE]})`),s("PRERELEASEIDENTIFIER",`(?:${a[u.NUMERICIDENTIFIER]}|${a[u.NONNUMERICIDENTIFIER]})`),s("PRERELEASEIDENTIFIERLOOSE",`(?:${a[u.NUMERICIDENTIFIERLOOSE]}|${a[u.NONNUMERICIDENTIFIER]})`),s("PRERELEASE",`(?:-(${a[u.PRERELEASEIDENTIFIER]}(?:\\.${a[u.PRERELEASEIDENTIFIER]})*))`),s("PRERELEASELOOSE",`(?:-?(${a[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[u.PRERELEASEIDENTIFIERLOOSE]})*))`),s("BUILDIDENTIFIER","[0-9A-Za-z-]+"),s("BUILD",`(?:\\+(${a[u.BUILDIDENTIFIER]}(?:\\.${a[u.BUILDIDENTIFIER]})*))`),s("FULLPLAIN",`v?${a[u.MAINVERSION]}${a[u.PRERELEASE]}?${a[u.BUILD]}?`),s("FULL",`^${a[u.FULLPLAIN]}$`),s("LOOSEPLAIN",`[v=\\s]*${a[u.MAINVERSIONLOOSE]}${a[u.PRERELEASELOOSE]}?${a[u.BUILD]}?`),s("LOOSE",`^${a[u.LOOSEPLAIN]}$`),s("GTLT","((?:<|>)?=?)"),s("XRANGEIDENTIFIERLOOSE",a[u.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),s("XRANGEIDENTIFIER",a[u.NUMERICIDENTIFIER]+"|x|X|\\*"),s("XRANGEPLAIN",`[v=\\s]*(${a[u.XRANGEIDENTIFIER]})(?:\\.(${a[u.XRANGEIDENTIFIER]})(?:\\.(${a[u.XRANGEIDENTIFIER]})(?:${a[u.PRERELEASE]})?${a[u.BUILD]}?)?)?`),s("XRANGEPLAINLOOSE",`[v=\\s]*(${a[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[u.XRANGEIDENTIFIERLOOSE]})(?:${a[u.PRERELEASELOOSE]})?${a[u.BUILD]}?)?)?`),s("XRANGE",`^${a[u.GTLT]}\\s*${a[u.XRANGEPLAIN]}$`),s("XRANGELOOSE",`^${a[u.GTLT]}\\s*${a[u.XRANGEPLAINLOOSE]}$`),s("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),s("COERCERTL",a[u.COERCE],!0),s("LONETILDE","(?:~>?)"),s("TILDETRIM",`(\\s*)${a[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",s("TILDE",`^${a[u.LONETILDE]}${a[u.XRANGEPLAIN]}$`),s("TILDELOOSE",`^${a[u.LONETILDE]}${a[u.XRANGEPLAINLOOSE]}$`),s("LONECARET","(?:\\^)"),s("CARETTRIM",`(\\s*)${a[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",s("CARET",`^${a[u.LONECARET]}${a[u.XRANGEPLAIN]}$`),s("CARETLOOSE",`^${a[u.LONECARET]}${a[u.XRANGEPLAINLOOSE]}$`),s("COMPARATORLOOSE",`^${a[u.GTLT]}\\s*(${a[u.LOOSEPLAIN]})$|^$`),s("COMPARATOR",`^${a[u.GTLT]}\\s*(${a[u.FULLPLAIN]})$|^$`),s("COMPARATORTRIM",`(\\s*)${a[u.GTLT]}\\s*(${a[u.LOOSEPLAIN]}|${a[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",s("HYPHENRANGE",`^\\s*(${a[u.XRANGEPLAIN]})\\s+-\\s+(${a[u.XRANGEPLAIN]})\\s*$`),s("HYPHENRANGELOOSE",`^\\s*(${a[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[u.XRANGEPLAINLOOSE]})\\s*$`),s("STAR","(<|>)?=?\\s*\\*"),s("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),s("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},function(e,t){const n="2.0.0",r=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,i=16,a=["major","premajor","minor","preminor","patch","prepatch","prerelease"];e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_INTEGER:o,RELEASE_TYPES:a,SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},function(e,t,n){const r=n(27),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=n(37),{re:a,t:u}=n(36),c=n(35),{compareIdentifiers:s}=n(102);class l{constructor(e,t){if(t=c(t),e instanceof l){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+n(103).inspect(e));if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const s=e.trim().match(t.loose?a[u.LOOSE]:a[u.FULL]);if(!s)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"==typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof l||(e=new l(e,this.options)),s(this.major,e.major)||s(this.minor,e.minor)||s(this.patch,e.patch)}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return s(n,o)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{const n=this.build[t],o=e.build[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return s(n,o)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===s(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this}}e.exports=l},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=f(e,"string");return"symbol"===p(t)?t:String(t)}function f(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=new Map;function d(e,t){if("object"!==p(e)){if(t){if(Object(r.y)(t)&&(t={component:t,title:t.displayName||t.name||"CustomSetter"}),!t.initialValue){var n=v(t.component);n&&(t.initialValue=function(e){return n.call(e,e.getValue())})}h.set(e,c({type:e},t))}}else Object.keys(e).forEach((function(t){d(t,e[t])}))}function v(e){return e&&(e.initial||e.Initial||e.type&&(e.type.initial||e.type.Initial))||null}var y=i((function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";a(this,e),this.viewName=void 0,this.settersMap=new Map,this.getSetter=function(e){return t.settersMap.get(e)||null},this.registerSetter=function(e,n){if("object"!==p(e)){if(n){if(Object(r.y)(n)&&(n={component:n,title:n.displayName||n.name||"CustomSetter"}),!n.initialValue){var o=v(n.component);o&&(n.initialValue=function(e){return o.call(e,e.getValue())})}t.settersMap.set(e,c({type:e},n))}}else Object.keys(e).forEach((function(n){t.registerSetter(n,e[n])}))},this.getSettersMap=function(){return t.settersMap},this.createSetterContent=function(e,n){if("string"==typeof e){if(!(e=t.getSetter(e)))return null;e.defaultProps&&(n=c(c({},e.defaultProps),n)),e=e.component}return"value"in n&&void 0===n.value&&delete n.value,Object(r.m)(e,n)},this.viewName=n}))},function(e,t,n){"use strict";n.d(t,"globalContext",(function(){return i}));var r=n(30),o=n.n(r);n.o(r,"Hotkey")&&n.d(t,"Hotkey",(function(){return r.Hotkey})),n.o(r,"Tip")&&n.d(t,"Tip",(function(){return r.Tip})),n.o(r,"TipContainer")&&n.d(t,"TipContainer",(function(){return r.TipContainer})),n.o(r,"Title")&&n.d(t,"Title",(function(){return r.Title})),n.o(r,"createModuleEventBus")&&n.d(t,"createModuleEventBus",(function(){return r.createModuleEventBus})),n.o(r,"engineConfig")&&n.d(t,"engineConfig",(function(){return r.engineConfig}));var i=r.IocContext.DefaultInstance},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSuperClassInfo=void 0;var r=n(24);function o(e){if(!(0,r.isClass)(e))throw new Error("need a classType.");for(var t=[],n=Object.getPrototypeOf(e);(0,r.isClass)(n);){var o=(0,r.getGlobalType)(n);t.push({type:o,class:n}),n=Object.getPrototypeOf(n)}return t}t.getSuperClassInfo=o},function(e,t,n){"use strict";function r(e,t){var n;void 0===t&&(t={});try{return e()}catch(e){return null===(n=t.onError)||void 0===n||n.call(t,e),t.defaultValue}}Object.defineProperty(t,"__esModule",{value:!0}),t.guard=void 0,t.guard=r},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r=0,o=t.length,i;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.OutLevel=void 0,function(e){e[e.Log=0]="Log",e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.None=4]="None"}(o=t.OutLevel||(t.OutLevel={}));var i=function(){function e(){this.outLevel=o.Warn}return e.prototype.setOutLevel=function(e){this.outLevel=e},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Error&&console.error.apply(console,r([e],t,!1))},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Info&&console.info.apply(console,r([e],t,!1))},e.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Log&&console.log.apply(console,r([e],t,!1))},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Warn&&console.warn.apply(console,r([e],t,!1))},e}();t.Logger=i;var a=new i;t.default=a},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(e){return function(t){return c([e,t])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,o=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(!(i=n.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){n=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(6===a[0]&&n.label<i[1]){n.label=i[1],i=a;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(a);break}i[2]&&n.ops.pop(),n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e],o=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.aspect=t.genAspectWrapper=void 0;var o=n(13),i=function e(){},a=function(){return r(this,(function(e){return[2]}))},u=Object.getPrototypeOf(i),c=Object.getPrototypeOf(a);function s(e){return"function"==typeof e&&u!==c&&Object.getPrototypeOf(e)===c}function l(e,t){e&&e(t)}function f(e,t,n,r){return{ioc:e,functionName:n.__name||n.name,inst:t,data:{},args:r}}function p(e,t,n){var o;return(o=s(n)?function(){var o,i,a,u,c=[];for(o=0;o<arguments.length;o++)c[o]=arguments[o];return r(this,(function(r){switch(r.label){case 0:i=f(e,this,n,c),r.label=1;case 1:return r.trys.push([1,4,,5]),l(t.before,i),i.skipRunning?[3,3]:(a=i,[4,n.apply(this,i.args)]);case 2:a.ret=r.sent(),r.label=3;case 3:return l(t.after,i),[2,i.ret];case 4:if(u=r.sent(),i.err=u,l(t.error,i),i.err)throw i.err;return[3,5];case 5:return[2]}}))}:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=f(e,this,n,r);try{return l(t.before,i),i.skipRunning||(i.ret=n.apply(this,i.args)),i.ret instanceof Promise?(i.ret=i.ret.then((function(e){return i.ret=e,l(t.after,i),i.ret})),t.error&&(i.ret=i.ret.catch((function(e){if(i.err=e,l(t.error,i),i.err)throw i.err}))),i.ret):(l(t.after,i),i.ret)}catch(e){if(i.err=e,l(t.error,i),i.err)throw i.err}}).__name=n.__name||n.name,o}function h(e){return void 0===e&&(e={}),function(t,n){(0,o.getMetadata)(t.constructor).aspects.push({key:n,point:e})}}t.genAspectWrapper=p,t.aspect=h},function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r=n(8),o=n.n(r),i=n(20);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function c(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){var t=d(e,"string");return"symbol"===a(t)?t:String(t)}function d(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}for(var v={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},y={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},m={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},b={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},g,w=1;w<20;++w)v[111+w]="f".concat(w);for(var O=0;O<=9;++O)v[O+96]=String(O);function j(e){var t=e.keyCode||e.which;if("keypress"===e.type){var n=String.fromCharCode(t);return e.shiftKey||(n=n.toLowerCase()),n}return v[t]?v[t]:y[t]?y[t]:String.fromCharCode(t).toLowerCase()}function S(e){return"keypress"===e.type}function E(e,t){return e.sort().join(",")===t.sort().join(",")}function k(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function _(e){return"shift"===e||"ctrl"===e||"alt"===e||"meta"===e}function P(){if(!g)for(var e in g={},v)Number(e)>95&&Number(e)<112||v.hasOwnProperty(e)&&(g[v[e]]=e);return g}function x(e,t,n){return n||(n=P()[e]?"keydown":"keypress"),"keypress"===n&&t.length&&(n="keydown"),n}function N(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}function C(e,t){var n=[],r="",o,i=[];for(n=N(e),o=0;o<n.length;++o)r=n[o],b[r]&&(r=b[r]),t&&"keypress"!==t&&m[r]&&(r=m[r],i.push("shift")),_(r)&&i.push(r);return{key:r,modifiers:i,action:t=x(r,i,t)}}function T(e,t,n,r){try{var o,a,u,c,s=i.globalContext.get("workspace"),l=s.isActive?s.window.editor:i.globalContext.get("editor"),f=l.get("designer"),p=null==f||null===(o=f.currentSelection)||void 0===o||null===(a=o.getNodes())||void 0===a?void 0:a[0],h=null==p||null===(u=p.componentMeta)||void 0===u?void 0:u.npm,d=[null==h?void 0:h.package,null==h?void 0:h.componentName].filter((function(e){return!!e})).join("-")||(null==p||null===(c=p.componentMeta)||void 0===c?void 0:c.componentName)||"";!1===e(t,n)&&(t.preventDefault(),t.stopPropagation()),null==l||l.eventBus.emit("hotkey.callback.call",{callback:e,e:t,combo:n,sequence:r,selected:d})}catch(e){console.error(e.message)}}var R=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";l(this,e),this.viewName=void 0,this.callBacks={},this.directMap={},this.sequenceLevels={},this.resetTimer=0,this.ignoreNextKeyup=!1,this.ignoreNextKeypress=!1,this.nextExpectedAction=!1,this.isActivate=!0,this.viewName=t,this.mount(window)}return p(e,[{key:"activate",value:function e(t){this.isActivate=t}},{key:"mount",value:function e(t){var n=t.document,r=this.handleKeyEvent.bind(this);return n.addEventListener("keypress",r,!1),n.addEventListener("keydown",r,!1),n.addEventListener("keyup",r,!1),function(){n.removeEventListener("keypress",r,!1),n.removeEventListener("keydown",r,!1),n.removeEventListener("keyup",r,!1)}}},{key:"bind",value:function e(t,n,r){return this.bindMultiple(Array.isArray(t)?t:[t],n,r),this}},{key:"unbind",value:function e(t,n,o){var i=this,a;(Array.isArray(t)?t:[t]).forEach((function(e){var t=C(e,o),a=t.key,u=t.modifiers,c=i.callBacks[a].findIndex((function(e){return Object(r.isEqual)(e.modifiers,u)&&e.callback===n}));-1!==c&&i.callBacks[a].splice(c,1)}))}},{key:"resetSequences",value:function e(t){var n=!1,r="";for(r in this.sequenceLevels)t&&t[r]?n=!0:this.sequenceLevels[r]=0;n||(this.nextExpectedAction=!1)}},{key:"getMatches",value:function e(t,n,r,o,i,a){var u,c,s=[],l=r.type;if(!this.callBacks[t])return[];for("keyup"===l&&_(t)&&(n=[t]),u=0;u<this.callBacks[t].length;++u)if(c=this.callBacks[t][u],(o||!c.seq||this.sequenceLevels[c.seq]===c.level)&&l===c.action&&(S(r)&&!r.metaKey&&!r.ctrlKey||E(n,c.modifiers))){var f=!o&&c.combo===i,p=o&&c.seq===o&&c.level===a;(f||p)&&this.callBacks[t].splice(u,1),s.push(c)}return s}},{key:"handleKey",value:function e(t,n,r){var o=this.getMatches(t,n,r),i,a={},u=0,c=!1;for(i=0;i<o.length;++i)o[i].seq&&(u=Math.max(u,o[i].level||0));for(i=0;i<o.length;++i)if(o[i].seq){if(o[i].level!==u)continue;c=!0,a[o[i].seq||""]=1,T(o[i].callback,r,o[i].combo,o[i].seq)}else c||T(o[i].callback,r,o[i].combo);var s="keypress"===r.type&&this.ignoreNextKeypress;r.type!==this.nextExpectedAction||_(t)||s||this.resetSequences(a),this.ignoreNextKeypress=c&&"keydown"===r.type}},{key:"handleKeyEvent",value:function e(t){if(this.isActivate){var n=j(t);n&&("keyup"!==t.type||this.ignoreNextKeyup!==n?this.handleKey(n,k(t),t):this.ignoreNextKeyup=!1)}}},{key:"resetSequenceTimer",value:function e(){this.resetTimer&&clearTimeout(this.resetTimer),this.resetTimer=window.setTimeout(this.resetSequences,1e3)}},{key:"bindSequence",value:function e(t,n,r,o){var i=this;this.sequenceLevels[t]=0;for(var a=function e(n){return function(){i.nextExpectedAction=n,++i.sequenceLevels[t],i.resetSequenceTimer()}},u=function e(n){T(r,n,t),"keyup"!==o&&(i.ignoreNextKeyup=j(n)),setTimeout(i.resetSequences,10)},c=0;c<n.length;++c){var s,l=c+1===n.length?u:a(o||C(n[c+1]).action);this.bindSingle(n[c],l,o,t,c)}}},{key:"bindSingle",value:function e(t,n,r,o,i){this.directMap["".concat(t,":").concat(r)]=n;var a=(t=t.replace(/\s+/g," ")).split(" ");if(a.length>1)this.bindSequence(t,a,n,r);else{var u=C(t,r);this.callBacks[u.key]=this.callBacks[u.key]||[],this.getMatches(u.key,u.modifiers,{type:u.action},o,t,i),this.callBacks[u.key][o?"unshift":"push"]({callback:n,modifiers:u.modifiers,action:u.action,seq:o,level:i,combo:t})}}},{key:"bindMultiple",value:function e(t,n,r){var o=u(t),i;try{for(o.s();!(i=o.n()).done;){var a=i.value;this.bindSingle(a,n,r)}}catch(e){o.e(e)}finally{o.f()}}}]),e}()},function(e,t,n){class r{constructor(e,t){if(t=a(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof u)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter(e=>!m(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&b(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=undefined,n=((this.options.includePrerelease&&v)|(this.options.loose&&y))+":"+e,r=i.get(n);if(r)return r;const o=this.options.loose,a=o?l[f.HYPHENRANGELOOSE]:l[f.HYPHENRANGE];e=e.replace(a,C(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(l[f.COMPARATORTRIM],p),c("comparator trim",e);let s=(e=(e=(e=e.replace(l[f.TILDETRIM],h)).replace(l[f.CARETTRIM],d)).split(/\s+/).join(" ")).split(" ").map(e=>w(e,this.options)).join(" ").split(/\s+/).map(e=>N(e,this.options));o&&(s=s.filter(e=>(c("loose invalid filter",e,this.options),!!e.match(l[f.COMPARATORLOOSE])))),c("range list",s);const b=new Map,g=s.map(e=>new u(e,this.options));for(const e of g){if(m(e))return[e];b.set(e.value,e)}b.size>1&&b.has("")&&b.delete("");const O=[...b.values()];return i.set(n,O),O}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(n=>g(n,t)&&e.set.some(e=>g(e,t)&&n.every(n=>e.every(e=>n.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new s(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(T(this.set[t],e,this.options))return!0;return!1}}e.exports=r;const o=undefined,i=new(n(96))({max:1e3}),a=n(35),u=n(99),c=n(27),s=n(38),{re:l,t:f,comparatorTrimReplace:p,tildeTrimReplace:h,caretTrimReplace:d}=n(36),{FLAG_INCLUDE_PRERELEASE:v,FLAG_LOOSE:y}=n(37),m=e=>"<0.0.0-0"===e.value,b=e=>""===e.value,g=(e,t)=>{let n=!0;const r=e.slice();let o=r.pop();for(;n&&r.length;)n=r.every(e=>o.intersects(e,t)),o=r.pop();return n},w=(e,t)=>(c("comp",e,t),e=E(e,t),c("caret",e),e=j(e,t),c("tildes",e),e=_(e,t),c("xrange",e),e=x(e,t),c("stars",e),e),O=e=>!e||"x"===e.toLowerCase()||"*"===e,j=(e,t)=>e.trim().split(/\s+/).map(e=>S(e,t)).join(" "),S=(e,t)=>{const n=t.loose?l[f.TILDELOOSE]:l[f.TILDE];return e.replace(n,(t,n,r,o,i)=>{let a;return c("tilde",e,t,n,r,o,i),O(n)?a="":O(r)?a=`>=${n}.0.0 <${+n+1}.0.0-0`:O(o)?a=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:i?(c("replaceTilde pr",i),a=`>=${n}.${r}.${o}-${i} <${n}.${+r+1}.0-0`):a=`>=${n}.${r}.${o} <${n}.${+r+1}.0-0`,c("tilde return",a),a})},E=(e,t)=>e.trim().split(/\s+/).map(e=>k(e,t)).join(" "),k=(e,t)=>{c("caret",e,t);const n=t.loose?l[f.CARETLOOSE]:l[f.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(t,n,o,i,a)=>{let u;return c("caret",e,t,n,o,i,a),O(n)?u="":O(o)?u=`>=${n}.0.0${r} <${+n+1}.0.0-0`:O(i)?u="0"===n?`>=${n}.${o}.0${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.0${r} <${+n+1}.0.0-0`:a?(c("replaceCaret pr",a),u="0"===n?"0"===o?`>=${n}.${o}.${i}-${a} <${n}.${o}.${+i+1}-0`:`>=${n}.${o}.${i}-${a} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${i}-${a} <${+n+1}.0.0-0`):(c("no pr"),u="0"===n?"0"===o?`>=${n}.${o}.${i}${r} <${n}.${o}.${+i+1}-0`:`>=${n}.${o}.${i}${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${i} <${+n+1}.0.0-0`),c("caret return",u),u})},_=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map(e=>P(e,t)).join(" ")),P=(e,t)=>{e=e.trim();const n=t.loose?l[f.XRANGELOOSE]:l[f.XRANGE];return e.replace(n,(n,r,o,i,a,u)=>{c("xRange",e,n,r,o,i,a,u);const s=O(o),l=s||O(i),f=l||O(a),p=f;return"="===r&&p&&(r=""),u=t.includePrerelease?"-0":"",s?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&p?(l&&(i=0),a=0,">"===r?(r=">=",l?(o=+o+1,i=0,a=0):(i=+i+1,a=0)):"<="===r&&(r="<",l?o=+o+1:i=+i+1),"<"===r&&(u="-0"),n=`${r+o}.${i}.${a}${u}`):l?n=`>=${o}.0.0${u} <${+o+1}.0.0-0`:f&&(n=`>=${o}.${i}.0${u} <${o}.${+i+1}.0-0`),c("xRange return",n),n})},x=(e,t)=>(c("replaceStars",e,t),e.trim().replace(l[f.STAR],"")),N=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?f.GTE0PRE:f.GTE0],"")),C=e=>(t,n,r,o,i,a,u,c,s,l,f,p,h)=>`${n=O(r)?"":O(o)?`>=${r}.0.0${e?"-0":""}`:O(i)?`>=${r}.${o}.0${e?"-0":""}`:a?">="+n:`>=${n}${e?"-0":""}`} ${c=O(s)?"":O(l)?`<${+s+1}.0.0-0`:O(f)?`<${s}.${+l+1}.0-0`:p?`<=${s}.${l}.${f}-${p}`:e?`<${s}.${l}.${+f+1}-0`:"<="+c}`.trim(),T=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(c(e[n].semver),e[n].semver!==u.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},function(e,t,n){},function(e,t,n){},function(e){e.exports=JSON.parse('{"Initializing":"Initializing","Hide":"Hide","Show":"Show","Lock":"Lock","Unlock":"Unlock","Expand":"Expand","Collapse":"Collapse","Conditional":"Condition","Loop":"Loop","Slots":"Slots","Slot for {prop}":"Slot for {prop}","Outline Tree":"Outline Tree","Filter Node":"Filter Node","Check All":"Check All","Conditional rendering":"Conditional rendering","Loop rendering":"Loop rendering","Locked":"Locked","Hidden":"Hidden","Modal View":"Modal View","Rename":"Rename"}')},function(e){e.exports=JSON.parse('{"Initializing":"\u6b63\u5728\u521d\u59cb\u5316","Hide":"\u9690\u85cf","Show":"\u663e\u793a","Lock":"\u9501\u5b9a","Unlock":"\u89e3\u9501","Expand":"\u5c55\u5f00","Collapse":"\u6536\u8d77","Conditional":"\u6761\u4ef6\u5f0f","Loop":"\u5faa\u73af","Slots":"\u63d2\u69fd","Slot for {prop}":"\u5c5e\u6027 {prop} \u7684\u63d2\u69fd","Outline Tree":"\u5927\u7eb2\u6811","Filter Node":"\u8fc7\u6ee4\u8282\u70b9","Check All":"\u5168\u9009","Conditional rendering":"\u6761\u4ef6\u6e32\u67d3","Loop rendering":"\u5faa\u73af\u6e32\u67d3","Locked":"\u5df2\u9501\u5b9a","Hidden":"\u5df2\u9690\u85cf","Modal View":"\u6a21\u6001\u89c6\u56fe\u5c42","Rename":"\u91cd\u547d\u540d"}')},function(e,t,n){"use strict";n.d(t,"a",(function(){return o.a})),n.d(t,"b",(function(){return Q})),n.d(t,"c",(function(){return ye}));var r=n(86),o=n(26),i=n(2),a=n(10),u=n.n(a),c=n(5),s=n.n(c),l=n(15);function f(e,t){return y(e)||v(e,t)||h(e,t)||p()}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function y(e){if(Array.isArray(e))return e}function m(e,t,n,r){var o=n.width>t.width?(n.width-t.width)/2:0,i=n.width>t.height?(n.width-t.height)/2:0,a,u,c,s;return{top:Math.max(t.top-e.height+n.width-i,r.top),right:Math.min(t.right+e.width-n.width+o,r.right),bottom:Math.min(t.bottom+e.height-n.width+i,r.bottom),left:Math.max(t.left-e.width+n.width-o,r.left)}}function b(e,t,n,r,o){if(o.forceDirection)return o.dir;var i=e.width+e.extraOffset,a=e.height+e.extraOffset,u=e.width*a,c=e.height*i,s=Math.min(n.right-n.left,e.width),l=Math.min(n.bottom-n.top,e.height),f={top:function e(){var n=s*Math.min(t.top-r.top,a);return{s:n,enough:n>=u}},bottom:function e(){var n=s*Math.min(r.bottom-t.bottom,a);return{s:n,enough:n>=u}},left:function e(){var n=l*Math.min(t.left-r.left,i);return{s:n,enough:n>=c}},right:function e(){var n=l*Math.min(r.right-t.right,i);return{s:n,enough:n>=c}}},p=["top","right","bottom","left"];if(o.dir){var h=p.indexOf(o.dir);h>-1&&(p.splice(h,1),p.unshift(o.dir))}for(var d=0,v=p[0],y=0,m=p.length;y<m;y++){var b=p[y],g=f[b](),w=g.s,O;if(g.enough)return b;w>d&&(d=w,v=b)}return v}function g(e,t,n){if(!e)return t.left-n.left<10?{dir:"right"}:t.top-n.top<10?{dir:"bottom"}:n.bottom-t.bottom<10?{dir:"top"}:n.right-t.right<10?{dir:"left"}:{};var r="!"===e[0];r&&(e=e.slice(1));var o,i=f(e.split(/\s+/),2),a=i[0],u=i[1],c=!1,s=!1;return"center"===a&&(a="auto",u||(u="center")),r&&(a&&"auto"!==a&&(c=!0),u&&"auto"!==u&&(s=!0)),{dir:a,offset:u,forceDirection:c,forceOffset:s}}function w(e,t,n,r,o){e={extraOffset:n.height,top:e.top,right:e.right,left:e.left,bottom:e.bottom,height:e.height,width:e.width};var i=g(o,t,r),a=m(e,t,n,r),u=b(e,t,a,r,i),c,s,l,f;if("top"===u||"bottom"===u){c="top"===u?t.top-e.extraOffset-e.height:t.bottom+e.extraOffset;var p=n.width>t.width?(n.width-t.width)/2:0,h=t.left+n.width-p-e.width,d=t.right-n.width+p,v=t.left-(e.width-t.width)/2;s="left"===i.offset?h:"right"===i.offset?d:v,i.forceOffset||(s=Math.max(Math.min(a.right-e.width,s),h),s=Math.min(Math.max(a.left,s),d)),f=Math.min(e.width-n.width,Math.max(t.left-(n.width-t.width)/2-s,0))}else{s="left"===u?t.left-e.extraOffset-e.width:t.right+e.extraOffset;var y=n.width>t.height?(n.width-t.height)/2:0,w=t.top+n.width-y-e.height,O=t.bottom-n.width+y,j=t.top-(e.height-t.height)/2;c="top"===i.offset?w:"bottom"===i.offset?O:j,i.forceOffset||(c=Math.max(Math.min(a.bottom-e.height,c),w),c=Math.min(Math.max(a.top,c),O)),l=Math.min(e.height-n.height,Math.max(t.top-(n.width-t.height)/2-c,0))}return{dir:u,left:s,top:c,arrowLeft:f,arrowTop:l}}var O={right:1,left:0,top:0,bottom:1,center:.5};function j(e){return/^[\d.]+%$/.test(e)}function S(e,t,n){return e?j(e)?e=parseFloat(e)/100*n:O.hasOwnProperty(e)?e=O[e]*n:(e=parseFloat(e),isNaN(e)&&(e=0)):e=0,"".concat(e+t,"px")}function E(e,t,n){if(!e)return{top:"38.2%",left:"calc(50% - 110px)"};var r,o=f(e.trim().split(/\s+/),2),i=o[0],a=o[1];if("top"===i||"bottom"===i||"left"===a||"right"===a){var u=i;i=a,a=u}return"center"!==i||a||(a="center"),{left:S(i,0,n.right-n.left-t.width),top:S(a,0,n.bottom-n.top-t.height)}}var k=n(11);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function N(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e){var t=T(e,"string");return"symbol"===_(t)?t:String(t)}function T(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}function L(e,t){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function A(e){var t=I();return function n(){var r=B(e),o;if(t){var i=B(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return M(this,o)}}function M(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return D(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var V=function(e){R(n,e);var t=A(n);function n(e){var r;return P(this,n),(r=t.call(this,e)).dispose=void 0,r.timer=null,r.shell=null,r.originClassName="",r.dispose=k.b.onChange((function(){return r.forceUpdate()})),r}return N(n,[{key:"shouldComponentUpdate",value:function e(){return!1}},{key:"componentDidMount",value:function e(){this.updateTip()}},{key:"componentDidUpdate",value:function e(){this.updateTip()}},{key:"componentWillUnmount",value:function e(){this.dispose&&this.dispose(),this.clearTimer()}},{key:"clearTimer",value:function e(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"updateTip",value:function e(){if(this.shell){var t=this.shell,n=t.querySelector(".lc-arrow");t.className=this.originClassName,t.style.cssText="",n.style.cssText="",this.clearTimer();var r=k.b.tip;if(r){var o=r.target,i=r.direction,a=o.getBoundingClientRect();if(0!==a.width&&0!==a.height){var u=t.getBoundingClientRect(),c={left:1,top:1,right:document.documentElement.clientWidth-1,bottom:document.documentElement.clientHeight-1},s,l=w(u,a,n.getBoundingClientRect(),c,i),f=l.dir,p=l.left,h=l.top,d=l.arrowLeft,v=l.arrowTop;t.classList.add("lc-align-".concat(f)),t.style.top="".concat(h,"px"),t.style.left="".concat(p,"px"),t.style.width="".concat(u.width,"px"),t.style.height="".concat(u.height,"px"),"top"===f||"bottom"===f?n.style.left="".concat(d,"px"):n.style.top="".concat(v,"px"),this.timer=window.setTimeout((function(){t.classList.add("lc-visible-animate"),t.style.transform="none"}),10)}}}}},{key:"render",value:function e(){var t=this,n=k.b.tip||{},r=s()("lc-tip",n.className,n&&n.theme?"lc-theme-".concat(n.theme):null);return this.originClassName=r,React.createElement("div",{className:r,ref:function e(n){t.shell=n}},React.createElement("i",{className:"lc-arrow"}),React.createElement("div",{className:"lc-tip-content"},Object(l.c)(n.children)))}}]),n}(i.Component);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,z(r.key),r)}}function U(e,t,n){return t&&H(e.prototype,t),n&&H(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function z(e){var t=W(e,"string");return"symbol"===F(t)?t:String(t)}function W(e,t){if("object"!==F(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}function X(e,t){return(X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Y(e){var t=J();return function n(){var r=Z(e),o;if(t){var i=Z(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return K(this,o)}}function K(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return q(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Q=function(e){$(n,e);var t=Y(n);function n(){var e;G(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).dispose=void 0,e}return U(n,[{key:"shouldComponentUpdate",value:function e(){return!1}},{key:"componentDidMount",value:function e(){var t=function e(t){return k.b.setTarget(t.target)},n=function e(){return k.b.hideImmediately()};document.addEventListener("mouseover",t,!1),document.addEventListener("mousedown",n,!0),this.dispose=function(){document.removeEventListener("mouseover",t,!1),document.removeEventListener("mousedown",n,!0)}}},{key:"UNSAFE_componentWillMount",value:function e(){this.dispose&&this.dispose()}},{key:"render",value:function e(){return u.a.createPortal(React.createElement("div",{className:"lc-tips-container"},React.createElement(V,null)),document.querySelector("body"))}}]),n}(i.Component),ee=n(3),te=n(87);function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ae(r.key),r)}}function ie(e,t,n){return t&&oe(e.prototype,t),n&&oe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ae(e){var t=ue(e,"string");return"symbol"===ne(t)?t:String(t)}function ue(e,t){if("object"!==ne(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ce(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}function se(e,t){return(se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function le(e){var t=he();return function n(){var r=de(e),o;if(t){var i=de(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return fe(this,o)}}function fe(e,t){if(t&&("object"===ne(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pe(e)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ve(e,t){for(var n=t.length,r=[],o=e;o.length>0;){var i=o.indexOf(t);0===i?(r.push(t),o=o.slice(n)):i<0?(r.push(o),o=""):(r.push(o.slice(0,i)),o=o.slice(i))}return r}var ye=function(e){ce(n,e);var t=le(n);function n(e){var r;return re(this,n),(r=t.call(this,e)).renderLabel=function(e){var t=r.props,n=t.match,o=t.keywords;if(!e)return null;var i=Object(l.c)(e);if("string"!=typeof i)return React.createElement("span",{className:"lc-title-txt"},i);var a=i,u;n&&o&&(a=ve(i,o).map((function(e){return React.createElement("span",{style:{color:e===o?"red":"inherit"}},e)})));return React.createElement("span",{className:"lc-title-txt"},a)},r.handleClick=r.handleClick.bind(pe(r)),r}return ie(n,[{key:"handleClick",value:function e(t){var n=this.props,r=n.title,o=n.onClick,i=r&&(r.docUrl||r.url);i&&(window.open(i),t.stopPropagation()),o&&o(t)}},{key:"render",value:function e(){var t=this.props,n=t.title,r=t.className,a;if(null==n)return null;if(Object(i.isValidElement)(n))return n;var u=(a="string"==typeof n||Object(ee.G)(n)?{label:n}:Object(ee.X)(n)?n:{label:n}).icon?Object(ee.n)(a.icon,{size:20}):null,c=null;if(a.tip)if(Object(i.isValidElement)(a.tip)&&a.tip.type===o.a)c=a.tip;else{var l="object"!==ne(a.tip)||Object(i.isValidElement)(a.tip)||Object(ee.G)(a.tip)?{children:a.tip}:a.tip;c=React.createElement(o.a,l)}return React.createElement("span",{className:s()("lc-title",r,a.className,{"has-tip":!!c,"only-icon":!a.label}),onClick:this.handleClick},u?React.createElement("b",{className:"lc-title-icon"},u):null,this.renderLabel(a.label),c)}}]),n}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return R}));var r=n(0),o=n(9),i=n(14),a=n(29),u=n(15),c=n(17),s=n(3);function l(e){var t=e.components,n,r=(e.packages||[]).reduce((function(e,t){var n;return e[t.id||t.package||""]=t,e}),{});return t.forEach((function(e){var t=e.devMode,n=e.schema,o=e.reference;if("lowcode"===t?t="lowCode":"proCode"===t&&(t="proCode"),t&&(e.devMode=t),"lowCode"===t&&!n&&o){var i=o.id||"";e.schema=r[i].schema}})),e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */p=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),u=new P(o||[]);return r(a,"_invoke",{value:S(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var h={};function d(){}function v(){}function y(){}var m={};c(m,i,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(x([])));g&&g!==t&&n.call(g,i)&&(m=g);var w=y.prototype=d.prototype=Object.create(m);function O(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,p=s.value;return p&&"object"==f(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(p).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return N()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=E(a,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return v.prototype=y,r(w,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},O(j.prototype),c(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new j(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(w),c(w,u,"Generator"),c(w,i,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=x,P.prototype={constructor:P,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),h},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),h}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;_(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function h(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){h(i,r,o,a,u,"next",e)}function u(e){h(i,r,o,a,u,"throw",e)}a(void 0)}))}}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function w(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function O(e){var t=j(e,"string");return"symbol"===f(t)?t:String(t)}function j(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function k(e){var t=x();return function n(){var r=N(e),o;if(t){var i=N(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return _(this,o)}}function _(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}o.EventEmitter.defaultMaxListeners=100;var C=["designer","skeleton","currentDocument","simulator","plugins","setters","material","innerHotkey","innerPlugins"],T=function(e){S(n,e);var t=k(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global",o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return b(this,n),(e=t.call(this)).viewName=void 0,e.workspaceMode=void 0,e.context=new Map,e.config=void 0,e.eventBus=void 0,e.components=void 0,e.hooks=[],e.waits=new Map,e.initHooks=function(t){return e.hooks=t.map((function(t){return y(y({},t),{},{handler:t.handler.bind(P(e),P(e))})})),e.hooks},e.registerHooks=function(t){e.initHooks(t).forEach((function(t){var n=t.message,r=t.type,o=t.handler;-1!==["on","once"].indexOf(r)&&e[r](n,o)}))},e.unregisterHooks=function(){e.hooks.forEach((function(t){var n=t.message,r=t.handler;e.removeListener(n,r)}))},e.viewName=r,e.workspaceMode=o,e.setMaxListeners(200),e.eventBus=new i.a(P(e)),e}return w(n,[{key:"locale",get:function e(){return u.b.getLocale()}},{key:"get",value:function e(t){return this.context.get(t)}},{key:"has",value:function e(t){return this.context.has(t)}},{key:"set",value:function e(t,n){if("assets"===t)return this.setAssets(n);C.includes(t)||a.a.set(t,n),this.context.set(t,n),this.notifyGot(t)}},{key:"setAssets",value:function(){var e=d(p().mark((function e(t){var n,r,o,i;return p().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:if(!(n=t.components)||!n.length){a.next=10;break}if(r=[],o=[],n.forEach((function(e){e&&(e.exportName&&e.url?o.push(e):r.push(e))})),t.components=r,t.componentList=t.componentList||[],!o||!o.length){a.next=10;break}return a.next=10,Promise.all(o.map(function(){var e=d(p().mark((function e(n){var r,o,i,a,u;return p().wrap((function e(c){for(;;)switch(c.prev=c.next){case 0:return u=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.forEach((function(e,t){var o=[n,t.toString()].filter((function(e){return!!e})).join("."),i=[r,t.toString()].filter((function(e){return!!e})).join(".");Array.isArray(e)?u(e,o,i):a(e,{exportName:o,subName:i})}))},a=function e(n){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.components;t.componentList=null===(r=t.componentList)||void 0===r?void 0:r.concat(n.componentList||[]),Array.isArray(a)?a.forEach((function(e){t.components=t.components.concat(y({npm:y(y({},i),o)},e)||[])})):n.components&&(t.components=t.components.concat(y({npm:y(y({},i),o)},n.components)||[]))},r=n.exportName,o=n.url,i=n.npm,c.next=5,(new s.c).load(o);case 5:return window[r]&&(Array.isArray(window[r])?u(window[r]):a(window[r])),c.abrupt("return",window[r]);case 7:case"end":return c.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:i=l(t),this.context.set("assets",i),this.notifyGot("assets");case 13:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onceGot",value:function e(t){var n=this,r=this.context.get(t);return void 0!==r?Promise.resolve(r):new Promise((function(e){n.setWait(t,e,!0)}))}},{key:"onGot",value:function e(t,n){var r=this,o=this.context.get(t);return void 0!==o&&n(o),this.setWait(t,n),function(){r.delWait(t,n)}}},{key:"register",value:function e(t,n){this.context.set(n||t,t),this.notifyGot(n||t)}},{key:"init",value:function(){var e=d(p().mark((function e(t,n){var r,o,i,a,u;return p().wrap((function e(c){for(;;)switch(c.prev=c.next){case 0:return this.config=t||{},this.components=n||{},r=this.config,o=r.hooks,i=void 0===o?[]:o,a=r.lifeCycles,this.emit("editor.beforeInit"),u=a&&a.init||function(){},c.prev=5,c.next=8,u(this);case 8:return this.registerHooks(i),this.emit("editor.afterInit"),c.abrupt("return",!0);case 13:c.prev=13,c.t0=c.catch(5),console.error(c.t0);case 16:case"end":return c.stop()}}),e,this,[[5,13]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function e(){if(this.config)try{var t=this.config.lifeCycles,n=void 0===t?{}:t;this.unregisterHooks(),n.destroy&&n.destroy(this)}catch(e){console.warn(e)}}},{key:"notifyGot",value:function e(t){var n=this.waits.get(t);if(n){for(var r=(n=n.slice().reverse()).length;r--;)n[r].resolve(this.get(t)),n[r].once&&n.splice(r,1);n.length>0?this.waits.set(t,n):this.waits.delete(t)}}},{key:"setWait",value:function e(t,n,r){var o=this.waits.get(t);o?o.push({resolve:n,once:r}):this.waits.set(t,[{resolve:n,once:r}])}},{key:"delWait",value:function e(t,n){var r=this.waits.get(t);if(r){for(var o=r.length;o--;)r[o].resolve===n&&r.splice(o,1);r.length<1&&this.waits.delete(t)}}}]),n}(o.EventEmitter);Object(r.b)([c.j.shallow,Object(r.d)("design:type",Object)],T.prototype,"context",void 0);var R=new i.a(new o.EventEmitter)},function(e,t,n){(function(r){function o(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)}function a(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}}function u(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}function c(){try{return localStorage}catch(e){}}t.formatArgs=i,t.save=a,t.load=u,t.useColors=o,t.storage=c(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(61)(t);const{formatters:s}=e.exports;s.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(22))},function(e){e.exports=JSON.parse('{"copy":"Copy","remove":"Remove","hide":"Hide","lock":"Lock","unlock":"Unlock","Condition Group":"Condition Group","No opened document":"No opened document, open some document to editing","locked":"locked","Item":"Item"}')},function(e){e.exports=JSON.parse('{"copy":"\u590d\u5236","remove":"\u5220\u9664","hide":"\u9690\u85cf","lock":"\u9501\u5b9a","unlock":"\u89e3\u9501","Condition Group":"\u6761\u4ef6\u7ec4","No opened document":"\u6ca1\u6709\u6253\u5f00\u7684\u9875\u9762\uff0c\u8bf7\u9009\u62e9\u9875\u9762\u6253\u5f00\u7f16\u8f91","locked":"\u5df2\u9501\u5b9a","Item":"\u9879\u76ee"}')},function(e,t,n){const r=n(46),o=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)};e.exports=o},function(e){e.exports=JSON.parse('{"Binded: {expr}":"Binded: {expr}","Variable Binding":"Variable Binding","Switch Setter":"Switch Setter","Multiple Value, Click to Clear":"Multiple Value, Click to Clear","Required":"Required","Setted Value, Click to Clear":"Setted Value, Click to Clear","Multiple Value":"Multiple Value","Attribute: ":"Attribute: ","Description: ":"Description: ","Please select a node in canvas":"Please select a node in canvas","Current node is locked":"Current node is locked","No config found for this type of component":"No config found for this type of component","Please select same kind of components":"Please select same kind of components"}')},function(e){e.exports=JSON.parse('{"Binded: {expr}":"\u5df2\u7ed1\u5b9a\uff1a{expr}","Variable Binding":"\u53d8\u91cf\u7ed1\u5b9a","Switch Setter":"\u5207\u6362\u8bbe\u7f6e\u5668","Multiple Value, Click to Clear":"\u591a\u79cd\u503c\uff0c\u70b9\u51fb\u6e05\u9664","Required":"\u5fc5\u586b\u9879","Setted Value, Click to Clear":"\u5df2\u8bbe\u7f6e\u503c\uff0c\u70b9\u51fb\u6e05\u9664","Multiple Value":"\u591a\u79cd\u503c","Attribute: ":"\u5c5e\u6027\uff1a","Description: ":"\u8bf4\u660e\uff1a","Please select a node in canvas":"\u8bf7\u5728\u5de6\u4fa7\u753b\u5e03\u9009\u4e2d\u8282\u70b9","Current node is locked":"\u8be5\u8282\u70b9\u5df2\u88ab\u9501\u5b9a\uff0c\u65e0\u6cd5\u914d\u7f6e","No config found for this type of component":"\u8be5\u7ec4\u4ef6\u6682\u65e0\u914d\u7f6e","Please select same kind of components":"\u8bf7\u9009\u4e2d\u540c\u4e00\u7c7b\u578b\u8282\u70b9\u7f16\u8f91"}')},function(e,t,n){e.exports=n(121)},function(e,t,n){},function(e,t,n){function r(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let t,n=null,i,a;function u(...e){if(!u.enabled)return;const n=u,o=Number(new Date),i=o-(t||o);n.diff=i,n.prev=t,n.curr=o,t=o,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,o)=>{if("%%"===t)return"%";a++;const i=r.formatters[o];if("function"==typeof i){const r=e[a];t=i.call(n,r),e.splice(a,1),a--}return t}),r.formatArgs.call(n,e);const c=undefined;(n.log||r.log).apply(n,e)}return u.namespace=e,u.useColors=r.useColors(),u.color=r.selectColor(e),u.extend=o,u.destroy=r.destroy,Object.defineProperty(u,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==n?n:(i!==r.namespaces&&(i=r.namespaces,a=r.enabled(e)),a),set:e=>{n=e}}),"function"==typeof r.init&&r.init(u),u}function o(e,t){const n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function i(e){let t;r.save(e),r.namespaces=e,r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.slice(1)+"$")):r.names.push(new RegExp("^"+e+"$")))}function a(){const e=[...r.names.map(c),...r.skips.map(c).map(e=>"-"+e)].join(",");return r.enable(""),e}function u(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1}function c(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function s(e){return e instanceof Error?e.stack||e.message:e}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.debug=r,r.default=r,r.coerce=s,r.disable=a,r.enable=i,r.enabled=u,r.humanize=n(62),r.destroy=l,Object.keys(e).forEach(t=>{r[t]=e[t]}),r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}e.exports=r},function(e,t){var n=1e3,r=6e4,o=60*r,i=24*o,a=7*i,u=365.25*i;function c(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var c=parseFloat(t[1]),s;switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*u;case"weeks":case"week":case"w":return c*a;case"days":case"day":case"d":return c*i;case"hours":case"hour":case"hrs":case"hr":case"h":return c*o;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function s(e){var t=Math.abs(e);return t>=i?Math.round(e/i)+"d":t>=o?Math.round(e/o)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}function l(e){var t=Math.abs(e);return t>=i?f(e,t,i,"day"):t>=o?f(e,t,o,"hour"):t>=r?f(e,t,r,"minute"):t>=n?f(e,t,n,"second"):e+" ms"}function f(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return c(e);if("number"===n&&isFinite(e))return t.long?l(e):s(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(18),o=r.slice,i=r.pluck,a=r.each,u=r.bind,c=r.create,s=r.isList,l=r.isFunction,f=r.isObject;e.exports={createStore:d};var p={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each((function(n,r){e.call(t,t._deserialize(n),(r||"").replace(t._namespaceRegexp,""))}))},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return d.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return d(this.storage,this.plugins,e)}};function h(){var e="undefined"==typeof console?null:console;if(e){var t=e.warn?e.warn:e.log;t.apply(e,arguments)}}function d(e,t,n){n||(n=""),e&&!s(e)&&(e=[e]),t&&!s(t)&&(t=[t]);var r=n?"__storejs_"+n+"_":"",d=n?new RegExp("^"+r):null,v;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var y,m=c({_namespacePrefix:r,_namespaceRegexp:d,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(e){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function t(){var r=o(arguments,0),i=this;function u(){if(n)return a(arguments,(function(e,t){r[t]=e})),n.apply(i,r)}var c=[u].concat(r);return e.apply(i,c)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(t){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this,n;if(s(e))a(e,(function(e){t._addPlugin(e)}));else if(!i(this.plugins,(function(t){return e===t}))){if(this.plugins.push(e),!l(e))throw new Error("Plugins must be function values that return objects");var r=e.call(this);if(!f(r))throw new Error("Plugins must return an object of function properties");a(r,(function(n,r){if(!l(n))throw new Error("Bad plugin property: "+r+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,r)}))}},addStorage:function(e){h("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},p,{plugins:[]});return m.raw={},a(m,(function(e,t){l(e)&&(m.raw[t]=u(m,e))})),a(e,(function(e){m._addStorage(e)})),a(t,(function(e){m._addPlugin(e)})),m}},function(e,t,n){e.exports=[n(65),n(66),n(67),n(68),n(69),n(70)]},function(e,t,n){var r,o=n(18).Global;function i(){return o.localStorage}function a(e){return i().getItem(e)}function u(e,t){return i().setItem(e,t)}function c(e){for(var t=i().length-1;t>=0;t--){var n=i().key(t);e(a(n),n)}}function s(e){return i().removeItem(e)}function l(){return i().clear()}e.exports={name:"localStorage",read:a,write:u,each:c,remove:s,clearAll:l}},function(e,t,n){var r,o=n(18).Global;e.exports={name:"oldFF-globalStorage",read:a,write:u,each:c,remove:s,clearAll:l};var i=o.globalStorage;function a(e){return i[e]}function u(e,t){i[e]=t}function c(e){for(var t=i.length-1;t>=0;t--){var n=i.key(t);e(i[n],n)}}function s(e){return i.removeItem(e)}function l(){c((function(e,t){delete i[e]}))}},function(e,t,n){var r,o=n(18).Global;e.exports={name:"oldIE-userDataStorage",write:s,read:l,each:f,remove:p,clearAll:h};var i="storejs",a=o.document,u=y(),c=(o.navigator?o.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./);function s(e,t){if(!c){var n=v(e);u((function(e){e.setAttribute(n,t),e.save("storejs")}))}}function l(e){if(!c){var t=v(e),n=null;return u((function(e){n=e.getAttribute(t)})),n}}function f(e){u((function(t){for(var n=t.XMLDocument.documentElement.attributes,r=n.length-1;r>=0;r--){var o=n[r];e(t.getAttribute(o.name),o.name)}}))}function p(e){var t=v(e);u((function(e){e.removeAttribute(t),e.save("storejs")}))}function h(){u((function(e){var t=e.XMLDocument.documentElement.attributes;e.load("storejs");for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save("storejs")}))}var d=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function v(e){return e.replace(/^\d/,"___$&").replace(d,"___")}function y(){if(!a||!a.documentElement||!a.documentElement.addBehavior)return null;var e="script",t,n,r;try{(n=new ActiveXObject("htmlfile")).open(),n.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),n.close(),t=n.w.frames[0].document,r=t.createElement("div")}catch(e){r=a.createElement("div"),t=a.body}return function(e){var n=[].slice.call(arguments,0);n.unshift(r),t.appendChild(r),r.addBehavior("#default#userData"),r.load("storejs"),e.apply(this,n),t.removeChild(r)}}},function(e,t,n){var r=n(18),o=r.Global,i=r.trim;e.exports={name:"cookieStorage",read:u,write:s,each:c,remove:l,clearAll:f};var a=o.document;function u(e){if(!e||!p(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(a.cookie.replace(new RegExp(t),"$1"))}function c(e){for(var t=a.cookie.split(/; ?/g),n=t.length-1;n>=0;n--)if(i(t[n])){var r=t[n].split("="),o=unescape(r[0]),u;e(unescape(r[1]),o)}}function s(e,t){e&&(a.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function l(e){e&&p(e)&&(a.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function f(){c((function(e,t){l(t)}))}function p(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(a.cookie)}},function(e,t,n){var r,o=n(18).Global;function i(){return o.sessionStorage}function a(e){return i().getItem(e)}function u(e,t){return i().setItem(e,t)}function c(e){for(var t=i().length-1;t>=0;t--){var n=i().key(t);e(a(n),n)}}function s(e){return i().removeItem(e)}function l(){return i().clear()}e.exports={name:"sessionStorage",read:a,write:u,each:c,remove:s,clearAll:l}},function(e,t){e.exports={name:"memoryStorage",read:r,write:o,each:i,remove:a,clearAll:u};var n={};function r(e){return n[e]}function o(e,t){n[e]=t}function i(e){for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)}function a(e){delete n[e]}function u(e){n={}}},function(e,t,n){function r(){return n(72),{}}e.exports=r},function(module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,r,o,i,a=gap,u,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,u=[],"[object Array]"===Object.prototype.toString.apply(c)){for(i=c.length,n=0;n<i;n+=1)u[n]=str(n,c)||"null";return o=0===u.length?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+a+"]":"["+u.join(",")+"]",gap=a,o}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;n<i;n+=1)"string"==typeof rep[n]&&(o=str(r=rep[n],c))&&u.push(quote(r)+(gap?": ":":")+o);else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(o=str(r,c))&&u.push(quote(r)+(gap?": ":":")+o);return o=0===u.length?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+a+"}":"{"+u.join(",")+"}",gap=a,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var n,r,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(void 0!==(r=walk(o,n))?o[n]=r:delete o[n]);return reviver.call(e,t,o)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},function(e,t,n){"use strict";var r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o,i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r=0,o=t.length,i;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.AlreadyRegistryError=t.NoRegistryError=t.NotfoundTypeError=t.MultiImplementError=t.IocContext=t.DefaultRegisterOption=t.Config=void 0;var u=n(23),c=n(13),s=n(25),l=n(42),f=n(44),p=function(){function e(){this.autoRegisterSelf=!1,this.constructorInject=!0,this.useClassLoader=!0}return e}();t.Config=p,t.DefaultRegisterOption={singleton:!0,autoNew:!0};var h=function(){function e(e){void 0===e&&(e={}),this.config=e,this.components=new Map,this.setConfig(Object.assign(new p,e))}return Object.defineProperty(e.prototype,"classLoader",{get:function(){return this._classLoader},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DefaultInstance",{get:function(){return this.defaultInstance||(this.defaultInstance=new e,this.defaultInstance)},enumerable:!1,configurable:!0}),e.prototype.setConfig=function(e){Object.assign(this.config,e),this._classLoader=!0===this.config.useClassLoader?s.classLoader:!1===this.config.useClassLoader?void 0:this.config.useClassLoader},e.prototype.remove=function(e){var t=(0,u.getGlobalType)(e),n=this.components.get(t);return!!n&&(this.preDestroyInstance(n),this.components.delete(t))},e.prototype.clear=function(){var e=this;Array.from(this.components.values()).forEach((function(t){e.preDestroyInstance(t)})),this.components.clear()},e.prototype.get=function(e,t){var n=this;void 0===t&&(t={});var r=(0,u.getGlobalType)(e),o=this.components.get(r),a;if(o)return this.returnValue(o,t.forceNew);if(this.config.notFoundHandler){var s=this.config.notFoundHandler(e);if(void 0!==s)return s}if(!1!==t.useClassLoader&&this.classLoader){var l=e,f=this.classLoader.getImplementClasses(l);switch(f.length){case 1:return this.get(f[0].type,i(i({},t),{sourceType:t.sourceType||l}));case 0:break;default:var p=f.filter((function(e){return n.has(e.type,!0)}));if(1===p.length)return this.get(p[0].type,t);if(this.config.conflictHandler){var h=this.config.conflictHandler(l,f,t.sourceCls?{type:t.sourceCls,info:this.classLoader.getClassInfo(t.sourceCls)}:void 0);if(void 0!==h)return this.get(h,t)}if((0,u.isClass)(e)&&(0,c.getMetadata)(l).injectable)return this.register(l),this.get(l,t);throw new d(l,r)}}if(this.config.parentContext)return this.config.parentContext.get(t.sourceType||e);if((0,u.isClass)(e)&&(this.config.autoRegisterSelf||(0,c.getMetadata)(e).injectable))return this.register(e),this.get(e,t);throw new v(e,r)},e.prototype.getImports=function(e,t){var n=this,r,o=(void 0===t?{}:t).cache,i=e;if(o&&this.has(i))return this.get(i);if(!this.classLoader)return[];var a=this.classLoader.getImplementClasses(i).map((function(e){return n.get(e.type)}));return o&&this.register(a,i),a},e.prototype.has=function(e,t){void 0===t&&(t=!1);var n=(0,u.getGlobalType)(e);return!!(this.components.has(n)||t&&this.config.parentContext&&this.config.parentContext.has(n,t))},e.prototype.replace=function(e,t,n,r){void 0===r&&(r=!1);var o=(0,u.getGlobalType)(e),i=this.components.get(o);if(i)this.components.set(o,this.newStore(t,n||i.options));else{if(!r)throw new y(o);this.register(t,e,n)}},e.prototype.register=function(e,n,r){if(void 0===r&&(r=t.DefaultRegisterOption),n){if(!this.canBeKey(n))throw new Error("key require string, symbol or class.")}else if(!this.canBeKey(e))throw new Error("when data is not string, symbol or class, require a key.");var o=n&&(0,u.getGlobalType)(n)||e&&(0,u.getGlobalType)(e);if(this.components.has(o))throw new m(o);r=i(i({},t.DefaultRegisterOption),r);var a=this.newStore(e,r);this.components.set(o,a)},e.prototype.inject=function(e,t){var n=this;void 0===t&&(t={autoRunPostConstruct:!0});var r=this,o=e.constructor;(0,c.getMetadataField)(o,"injects").forEach((function(t){var a=t.key,u=t.typeCls,c=t.optional,s=t.singleton,f=Object.getOwnPropertyDescriptor(e,a),p=f&&f.value,h=c||void 0!==p;if("inject"===t.type&&Object.defineProperty(e,a,{configurable:!0,writable:!0,value:(0,l.guard)((function(){return n.get(u,i({sourceCls:o},s?{}:{forceNew:!0}))}),{defaultValue:p,onError:function(e){if(!h)throw e.message+="\n\tSource: ".concat(o.name,".").concat(a.toString()),e}})}),["lazyInject","imports"].includes(t.type)){var d=t.always;Object.defineProperty(e,a,{configurable:!0,get:function(){var e=!1,n=(0,l.guard)((function(){switch(t.type){case"lazyInject":return r.get(u,i({sourceCls:o},s?{}:{forceNew:!0}));case"imports":return r.getImports(u,{cache:!d})}}),{defaultValue:p,onError:function(t){if(e=!0,!h)throw t.message+="\n\tSource: ".concat(o.name,".").concat(a.toString()),t}});return e||d||Object.defineProperty(this,a,{configurable:!0,writable:!0,value:n}),n},set:function(e){Object.defineProperty(this,a,{configurable:!0,writable:!0,value:e})}})}})),(0,c.getMetadataField)(o,"aspects").forEach((function(t){var r=e[t.key],o=(0,f.genAspectWrapper)(n,t.point,r);Object.defineProperty(e,t.key,{configurable:!0,value:o})})),t.autoRunPostConstruct&&this.runPostConstruct(e)},e.prototype.runPostConstruct=function(e){Array.from(new Set((0,c.getMetadataField)(e.constructor,"postConstruct").map((function(e){return e.key})))).forEach((function(t){e[t]()}))},e.prototype.runPreDestroy=function(e){Array.from(new Set((0,c.getMetadataField)(e.constructor,"preDestroy").map((function(e){return e.key})))).forEach((function(t){e[t]()}))},e.prototype.createChildContext=function(t){return new e(i(i(i({},this.config),t||{}),{parentContext:this}))},e.prototype.preDestroyInstance=function(e){e.inited&&this.runPreDestroy(e.value)},e.prototype.newStore=function(e,t){var n=this,r="function"==typeof e,o=r&&(0,u.isClass)(e),i=r&&t.autoNew;return{inited:!i,factory:i?function(){if(o){var t=e,r=[];if(n.config.constructorInject&&Reflect&&Reflect.getMetadata){var i=Reflect.getMetadata("design:paramtypes",t);i&&(r=i.map((function(e){return e===t||null==e||e===Number||e===Error||e===Object||e===String||e===Boolean||e===Array||e===Function?null:n.get(e)})))}var u=new(t.bind.apply(t,a([void 0],r,!1)));return n.inject(u),n.config.createInstanceHook?n.config.createInstanceHook(u,n):u}var c;return e(n)}:void 0,value:i?void 0:e,options:t}},e.prototype.canBeKey=function(e){var t=typeof e;return"object"===t?"[object Object]"!==e.toString():["function","string","symbol"].includes(t)},e.prototype.returnValue=function(e,t){return void 0===t&&(t=!1),e.options.singleton&&!t?(e.inited||(e.inited=!0,e.value=e.factory()),e.value):e.factory()},e.prototype.toJSON=function(){return{type:"power-di.IocContext",message:"NoSerializable"}},e}();t.IocContext=h;var d=function(e){function t(t,n){return e.call(this,"Has multi Classes of implement type: ".concat(t.name,"(").concat((0,u.symbolString)(n),")"))||this}return r(t,e),t}(Error);t.MultiImplementError=d;var v=function(e){function t(t,n){return e.call(this,"Notfound type: ".concat(t.name||(0,u.symbolString)(t),"(").concat((0,u.symbolString)(n),")"))||this}return r(t,e),t}(Error);t.NotfoundTypeError=v;var y=function(e){function t(t){return e.call(this,"the key:[".concat((0,u.symbolString)(t),"] is no registry."))||this}return r(t,e),t}(Error);t.NoRegistryError=y;var m=function(e){function t(t){return e.call(this,"the key:[".concat((0,u.symbolString)(t),"] is already registry."))||this}return r(t,e),t}(Error);t.AlreadyRegistryError=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobalTypeByDecorator=t.getClsTypeByDecorator=void 0,n(75);var r=n(24);function o(e,t,n){return!e&&Reflect&&Reflect.getMetadata&&(e=Reflect.getMetadata("design:type",t,n)),e}function i(e,t,n){return(0,r.getGlobalType)(o(e,t,n))}t.getClsTypeByDecorator=o,t.getGlobalTypeByDecorator=i},function(e,t,n){(function(e,t){
  /*! *****************************************************************************
  Copyright (C) Microsoft. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */
  var n;!function(n){!function(e){var r="object"==typeof t?t:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=i(n);function i(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===r.Reflect?r.Reflect=n:o=i(r.Reflect,o),e(o)}((function(t){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,o=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,u={__proto__:[]}instanceof Array,c=!a&&!u,s={create:a?function(){return ie(Object.create(null))}:u?function(){return ie({__proto__:null})}:function(){return ie({})},has:c?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:c?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),f="object"==typeof e&&e.env&&"true"===e.env.REFLECT_METADATA_USE_MAP_POLYFILL,p=f||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?ne():Map,h=f||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?re():Set,d,v=new(f||"function"!=typeof WeakMap?oe():WeakMap);function y(e,t,n,r){if(I(n)){if(!$(e))throw new TypeError;if(!Y(t))throw new TypeError;return _(e,t)}if(!$(e))throw new TypeError;if(!F(t))throw new TypeError;if(!F(r)&&!I(r)&&!B(r))throw new TypeError;return B(r)&&(r=void 0),P(e,t,n=W(n),r)}function m(e,t){function n(n,r){if(!F(n))throw new TypeError;if(!I(r)&&!K(r))throw new TypeError;L(e,t,n,r)}return n}function b(e,t,n,r){if(!F(n))throw new TypeError;return I(r)||(r=W(r)),L(e,t,n,r)}function g(e,t,n){if(!F(t))throw new TypeError;return I(n)||(n=W(n)),N(e,t,n)}function w(e,t,n){if(!F(t))throw new TypeError;return I(n)||(n=W(n)),C(e,t,n)}function O(e,t,n){if(!F(t))throw new TypeError;return I(n)||(n=W(n)),T(e,t,n)}function j(e,t,n){if(!F(t))throw new TypeError;return I(n)||(n=W(n)),R(e,t,n)}function S(e,t){if(!F(e))throw new TypeError;return I(t)||(t=W(t)),A(e,t)}function E(e,t){if(!F(e))throw new TypeError;return I(t)||(t=W(t)),M(e,t)}function k(e,t,n){if(!F(t))throw new TypeError;I(n)||(n=W(n));var r=x(t,n,!1);if(I(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var o=v.get(t);return o.delete(n),o.size>0||v.delete(t),!0}function _(e,t){for(var n=e.length-1;n>=0;--n){var r,o=(0,e[n])(t);if(!I(o)&&!B(o)){if(!Y(o))throw new TypeError;t=o}}return t}function P(e,t,n,r){for(var o=e.length-1;o>=0;--o){var i,a=(0,e[o])(t,n,r);if(!I(a)&&!B(a)){if(!F(a))throw new TypeError;r=a}}return r}function x(e,t,n){var r=v.get(e);if(I(r)){if(!n)return;r=new p,v.set(e,r)}var o=r.get(t);if(I(o)){if(!n)return;o=new p,r.set(t,o)}return o}function N(e,t,n){var r;if(C(e,t,n))return!0;var o=te(t);return!B(o)&&N(e,o,n)}function C(e,t,n){var r=x(t,n,!1);return!I(r)&&U(r.has(e))}function T(e,t,n){var r;if(C(e,t,n))return R(e,t,n);var o=te(t);return B(o)?void 0:T(e,o,n)}function R(e,t,n){var r=x(t,n,!1);if(!I(r))return r.get(e)}function L(e,t,n,r){var o;x(n,r,!0).set(e,t)}function A(e,t){var n=M(e,t),r=te(e);if(null===r)return n;var o=A(r,t);if(o.length<=0)return n;if(n.length<=0)return o;for(var i=new h,a=[],u=0,c=n;u<c.length;u++){var s=c[u],l;(l=i.has(s))||(i.add(s),a.push(s))}for(var f=0,p=o;f<p.length;f++){var s=p[f],l;(l=i.has(s))||(i.add(s),a.push(s))}return a}function M(e,t){var n=[],r=x(e,t,!1);if(I(r))return n;for(var o,i=J(r.keys()),a=0;;){var u=Q(i);if(!u)return n.length=a,n;var c=Z(u);try{n[a]=c}catch(e){try{ee(i)}finally{throw e}}a++}}function D(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function I(e){return void 0===e}function B(e){return null===e}function V(e){return"symbol"==typeof e}function F(e){return"object"==typeof e?null!==e:"function"==typeof e}function G(e,t){switch(D(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",r=q(e,o);if(void 0!==r){var i=r.call(e,n);if(F(i))throw new TypeError;return i}return H(e,"default"===n?"number":n)}function H(e,t){if("string"===t){var n=e.toString,r,o,r;if(X(n))if(!F(r=n.call(e)))return r;if(X(o=e.valueOf))if(!F(r=o.call(e)))return r}else{var o,r;if(X(o=e.valueOf))if(!F(r=o.call(e)))return r;var i=e.toString,r;if(X(i))if(!F(r=i.call(e)))return r}throw new TypeError}function U(e){return!!e}function z(e){return""+e}function W(e){var t=G(e,3);return V(t)?t:z(t)}function $(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function X(e){return"function"==typeof e}function Y(e){return"function"==typeof e}function K(e){switch(D(e)){case 3:case 4:return!0;default:return!1}}function q(e,t){var n=e[t];if(null!=n){if(!X(n))throw new TypeError;return n}}function J(e){var t=q(e,i);if(!X(t))throw new TypeError;var n=t.call(e);if(!F(n))throw new TypeError;return n}function Z(e){return e.value}function Q(e){var t=e.next();return!t.done&&t}function ee(e){var t=e.return;t&&t.call(e)}function te(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var o=r.constructor;return"function"!=typeof o||o===e?t:o}function ne(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}function re(){return function(){function e(){this._map=new p}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}function oe(){var e=16,t=s.create(),r=o();return function(){function e(){this._key=o()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&s.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?s.get(t,this._key):void 0},e.prototype.set=function(e,t){var n;return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=o()},e}();function o(){var e;do{e="@@WeakMap@@"+c()}while(s.has(t,e));return t[e]=!0,e}function i(e,t){if(!n.call(e,r)){if(!t)return;Object.defineProperty(e,r,{value:s.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function u(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function c(){var e=u(16);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var t="",n=0;n<16;++n){var r=e[n];4!==n&&6!==n&&8!==n||(t+="-"),r<16&&(t+="0"),t+=r.toString(16).toLowerCase()}return t}}function ie(e){return e.__=void 0,delete e.__,e}t("decorate",y),t("metadata",m),t("defineMetadata",b),t("hasMetadata",g),t("hasOwnMetadata",w),t("getMetadata",O),t("getOwnMetadata",j),t("getMetadataKeys",S),t("getOwnMetadataKeys",E),t("deleteMetadata",k)}))}(n||(n={}))}).call(this,n(22),n(33))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nameSymbol=void 0,t.nameSymbol=Symbol("className")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRefMap=void 0;var r=n(24),o=n(13);function i(e,t){void 0===t&&(t={});var n=t;function i(e){var t=(0,r.symbolString)((0,r.getGlobalType)(e));if(!n[t]){var a=n[t]={count:0,deps:[]};(0,o.getMetadataField)(e,"injects").forEach((function(e){var t=(0,r.symbolString)(e.globalType);i(e.typeCls),n[t].count++,a.deps.push({prop:e.key,type:t})}))}}return i(e),n}t.getRefMap=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(80),t),o(n(81),t),o(n(82),t),o(n(83),t),o(n(84),t),o(n(44),t),o(n(85),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.classInfo=void 0;var r=n(34),o=n(13),i=n(25);function a(e){return void 0===e&&(e={}),function(t){e.name&&Object.defineProperty(t,r.nameSymbol,{enumerable:!1,writable:!1,configurable:!1,value:e.name}),i.classLoader.hasClass(t)&&i.classLoader.unregisterClass(t),Object.assign((0,o.getMetadata)(t).classInfo,{},e),i.classLoader.registerClass(t)}}t.classInfo=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=void 0;var r=n(23),o=n(13);function i(e){var t=void 0===e?{}:e,n=t.type,i=t.lazy,a=void 0===i||i,u=t.always,c=void 0!==u&&u,s=t.optional,l=void 0!==s&&s,f=t.singleton,p=void 0===f||f;return function(e,t){var i=(0,r.getClsTypeByDecorator)(n,e,t);if(void 0===i||i===Object)throw new Error("CANNOT inject undefined! source: ".concat(e.constructor.name,".").concat(t.toString()));(0,o.getMetadata)(e.constructor).injects.push({key:t,globalType:(0,r.getGlobalTypeByDecorator)(n,e,t),type:a?"lazyInject":"inject",always:c,typeCls:i,optional:l,singleton:p})}}t.inject=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var r=n(25);function o(){return function(e){r.classLoader.hasClass(e)||r.classLoader.registerClass(e)}}t.injectable=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imports=void 0;var r=n(23),o=n(13);function i(e){var t=e.type,n=e.always,i=void 0!==n&&n;return function(e,n){(0,o.getMetadata)(e.constructor).injects.push({key:n,globalType:(0,r.getGlobalType)(t),type:"imports",always:i,typeCls:t})}}t.imports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var r=n(13);function o(){return function(e,t){(0,r.getMetadata)(e.constructor).postConstruct.push({key:t})}}t.postConstruct=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preDestroy=void 0;var r=n(13);function o(){return function(e,t){(0,r.getMetadata)(e.constructor).preDestroy.push({key:t})}}t.preDestroy=o},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";const r=n(97),o=Symbol("max"),i=Symbol("length"),a=Symbol("lengthCalculator"),u=Symbol("allowStale"),c=Symbol("maxAge"),s=Symbol("dispose"),l=Symbol("noDisposeOnSet"),f=Symbol("lruList"),p=Symbol("cache"),h=Symbol("updateAgeOnGet"),d=()=>1;class v{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");const t=this[o]=e.max||1/0,n=e.length||d;if(this[a]="function"!=typeof n?d:n,this[u]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[s]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,b(this)}get max(){return this[o]}set allowStale(e){this[u]=!!e}get allowStale(){return this[u]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,b(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=d),e!==this[a]&&(this[a]=e,this[i]=0,this[f].forEach(e=>{e.length=this[a](e.value,e.key),this[i]+=e.length})),b(this)}get lengthCalculator(){return this[a]}get length(){return this[i]}get itemCount(){return this[f].length}rforEach(e,t){t=t||this;for(let n=this[f].tail;null!==n;){const r=n.prev;O(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[f].head;null!==n;){const r=n.next;O(this,e,n,t),n=r}}keys(){return this[f].toArray().map(e=>e.key)}values(){return this[f].toArray().map(e=>e.value)}reset(){this[s]&&this[f]&&this[f].length&&this[f].forEach(e=>this[s](e.key,e.value)),this[p]=new Map,this[f]=new r,this[i]=0}dump(){return this[f].map(e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[f]}set(e,t,n){if((n=n||this[c])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,u=this[a](t,e);if(this[p].has(e)){if(u>this[o])return g(this,this[p].get(e)),!1;const a=undefined,c=this[p].get(e).value;return this[s]&&(this[l]||this[s](e,c.value)),c.now=r,c.maxAge=n,c.value=t,this[i]+=u-c.length,c.length=u,this.get(e),b(this),!0}const h=new w(e,t,u,r,n);return h.length>this[o]?(this[s]&&this[s](e,t),!1):(this[i]+=h.length,this[f].unshift(h),this[p].set(e,this[f].head),b(this),!0)}has(e){if(!this[p].has(e))return!1;const t=this[p].get(e).value;return!m(this,t)}get(e){return y(this,e,!0)}peek(e){return y(this,e,!1)}pop(){const e=this[f].tail;return e?(g(this,e),e.value):null}del(e){g(this,this[p].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],o=r.e||0;if(0===o)this.set(r.k,r.v);else{const e=o-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[p].forEach((e,t)=>y(this,t,!1))}}const y=(e,t,n)=>{const r=e[p].get(t);if(r){const t=r.value;if(m(e,t)){if(g(e,r),!e[u])return}else n&&(e[h]&&(r.value.now=Date.now()),e[f].unshiftNode(r));return t.value}},m=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[c]&&n>e[c]},b=e=>{if(e[i]>e[o])for(let t=e[f].tail;e[i]>e[o]&&null!==t;){const n=t.prev;g(e,t),t=n}},g=(e,t)=>{if(t){const n=t.value;e[s]&&e[s](n.key,n.value),e[i]-=n.length,e[p].delete(n.key),e[f].removeNode(t)}};class w{constructor(e,t,n,r,o){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=o||0}}const O=(e,t,n,r)=>{let o=n.value;m(e,o)&&(g(e,n),e[u]||(o=void 0)),o&&t.call(r,o.value,o.key,e)};e.exports=v},function(e,t,n){"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,o=arguments.length;n<o;n++)t.push(arguments[n]);return t}function o(e,t,n){var r=t===e.head?new u(n,null,t,e):new u(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function i(e,t){e.tail=new u(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new u(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function u(e,t,n,r){if(!(this instanceof u))return new u(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=u,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,o=this.head;null!==o;)n.push(e.call(t,o.value,this)),o=o.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,o=this.tail;null!==o;)n.push(e.call(t,o.value,this)),o=o.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var o=0;null!==r;o++)n=e(n,r.value,o),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var o=this.length-1;null!==r;o--)n=e(n,r.value,o),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;for(;null!==i&&o<t;o++,i=i.next)n.push(i.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,i=this.tail;null!==i&&o>t;o--)i=i.prev;for(;null!==i&&o>e;o--,i=i.prev)n.push(i.value);return n},r.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;null!==i&&r<e;r++)i=i.next;for(var a=[],r=0;i&&r<t;r++)a.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=o(this,i,n[r]);return a},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(98)(r)}catch(e){}},function(e,t,n){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},function(e,t,n){const r=Symbol("SemVer ANY");class o{static get ANY(){return r}constructor(e,t){if(t=i(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}s("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(e){const t=this.options.loose?a[u.COMPARATORLOOSE]:a[u.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new l(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(s("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new f(e.value,t).test(this.value):""===e.operator?""===e.value||new f(this.value,t).test(e.semver):(!(t=i(t)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}e.exports=o;const i=n(35),{re:a,t:u}=n(36),c=n(100),s=n(27),l=n(38),f=n(46)},function(e,t,n){const r=n(101),o=n(106),i=n(107),a=n(108),u=n(109),c=n(110),s=(e,t,n,s)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,s);case"!=":return o(e,n,s);case">":return i(e,n,s);case">=":return a(e,n,s);case"<":return u(e,n,s);case"<=":return c(e,n,s);default:throw new TypeError("Invalid operator: "+t)}};e.exports=s},function(e,t,n){const r=n(19),o=(e,t,n)=>0===r(e,t,n);e.exports=o},function(e,t){const n=/^[0-9]+$/,r=(e,t)=>{const r=n.test(e),o=n.test(t);return r&&o&&(e=+e,t=+t),e===t?0:r&&!o?-1:o&&!r?1:e<t?-1:1},o=(e,t)=>r(t,e);e.exports={compareIdentifiers:r,rcompareIdentifiers:o}},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function e(t){for(var n=Object.keys(t),r={},o=0;o<n.length;o++)r[n[o]]=Object.getOwnPropertyDescriptor(t,n[o]);return r},o=/%[sdj%]/g;t.format=function(e){if(!j(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(u(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),c=r[n];n<i;c=r[++n])g(c)||!_(c)?a+=" "+c:a+=" "+u(c);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var o=!1;function i(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}return i};var i={},a;function u(e,n){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),b(n)?r.showHidden=n:n&&t._extend(r,n),E(r.showHidden)&&(r.showHidden=!1),E(r.depth)&&(r.depth=2),E(r.colors)&&(r.colors=!1),E(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),f(r,e,r.depth)}function c(e,t){var n=u.styles[t];return n?"\x1b["+u.colors[n][0]+"m"+e+"\x1b["+u.colors[n][1]+"m":e}function s(e,t){return e}function l(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}function f(e,n,r){if(e.customInspect&&n&&N(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return j(o)||(o=f(e,o,r)),o}var i=p(e,n);if(i)return i;var a=Object.keys(n),u=l(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),x(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return h(n);if(0===a.length){if(N(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(k(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(P(n))return e.stylize(Date.prototype.toString.call(n),"date");if(x(n))return h(n)}var s="",b=!1,g=["{","}"],w,O;(m(n)&&(b=!0,g=["[","]"]),N(n))&&(s=" [Function"+(n.name?": "+n.name:"")+"]");return k(n)&&(s=" "+RegExp.prototype.toString.call(n)),P(n)&&(s=" "+Date.prototype.toUTCString.call(n)),x(n)&&(s=" "+h(n)),0!==a.length||b&&0!=n.length?r<0?k(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),O=b?d(e,n,r,u,a):a.map((function(t){return v(e,n,r,u,t,b)})),e.seen.pop(),y(O,s,g)):g[0]+s+g[1]}function p(e,t){if(E(t))return e.stylize("undefined","undefined");if(j(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return O(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,o){for(var i=[],a=0,u=t.length;a<u;++a)M(t,String(a))?i.push(v(e,t,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(v(e,t,n,r,o,!0))})),i}function v(e,t,n,r,o,i){var a,u,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),M(r,o)||(a="["+o+"]"),u||(e.seen.indexOf(c.value)<0?(u=g(n)?f(e,c.value,null):f(e,c.value,n-1)).indexOf("\n")>-1&&(u=i?u.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+u.split("\n").map((function(e){return"   "+e})).join("\n")):u=e.stylize("[Circular]","special")),E(a)){if(i&&o.match(/^\d+$/))return u;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+u}function y(e,t,n){var r=0,o;return e.reduce((function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function m(e){return Array.isArray(e)}function b(e){return"boolean"==typeof e}function g(e){return null===e}function w(e){return null==e}function O(e){return"number"==typeof e}function j(e){return"string"==typeof e}function S(e){return"symbol"==typeof e}function E(e){return void 0===e}function k(e){return _(e)&&"[object RegExp]"===T(e)}function _(e){return"object"==typeof e&&null!==e}function P(e){return _(e)&&"[object Date]"===T(e)}function x(e){return _(e)&&("[object Error]"===T(e)||e instanceof Error)}function N(e){return"function"==typeof e}function C(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function T(e){return Object.prototype.toString.call(e)}function R(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(E(a)&&(a=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!i[n])if(new RegExp("\\b"+n+"\\b","i").test(a)){var r=e.pid;i[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else i[n]=function(){};return i[n]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=m,t.isBoolean=b,t.isNull=g,t.isNullOrUndefined=w,t.isNumber=O,t.isString=j,t.isSymbol=S,t.isUndefined=E,t.isRegExp=k,t.isObject=_,t.isDate=P,t.isError=x,t.isFunction=N,t.isPrimitive=C,t.isBuffer=n(104);var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=new Date,t=[R(e.getHours()),R(e.getMinutes()),R(e.getSeconds())].join(":");return[e.getDate(),L[e.getMonth()],t].join(" ")}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",A(),t.format.apply(t,arguments))},t.inherits=n(105),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var D="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function I(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}function B(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(I,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}t.promisify=function e(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(D&&t[D]){var n;if("function"!=typeof(n=t[D]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(n,D,{value:n,enumerable:!1,writable:!1,configurable:!0}),n}function n(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,o)}catch(e){n(e)}return r}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),D&&Object.defineProperty(n,D,{value:n,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(n,r(t))},t.promisify.custom=D,t.callbackify=B}).call(this,n(22))},function(e,t){e.exports=function e(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function e(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function e(t,n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}},function(e,t,n){const r=n(19),o=(e,t,n)=>0!==r(e,t,n);e.exports=o},function(e,t,n){const r=n(19),o=(e,t,n)=>r(e,t,n)>0;e.exports=o},function(e,t,n){const r=n(19),o=(e,t,n)=>r(e,t,n)>=0;e.exports=o},function(e,t,n){const r=n(19),o=(e,t,n)=>r(e,t,n)<0;e.exports=o},function(e,t,n){const r=n(19),o=(e,t,n)=>r(e,t,n)<=0;e.exports=o},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){e.exports=window.AliLowCodeEngineExt},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"skeleton",(function(){return wB})),n.d(t,"plugins",(function(){return NB})),n.d(t,"project",(function(){return gB})),n.d(t,"setters",(function(){return jB})),n.d(t,"material",(function(){return SB})),n.d(t,"config",(function(){return EB})),n.d(t,"event",(function(){return kB})),n.d(t,"logger",(function(){return _B})),n.d(t,"hotkey",(function(){return bB})),n.d(t,"common",(function(){return PB})),n.d(t,"workspace",(function(){return pB})),n.d(t,"canvas",(function(){return xB})),n.d(t,"isOpenSource",(function(){return RB})),n.d(t,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return LB})),n.d(t,"version",(function(){return MB})),n.d(t,"init",(function(){return IB})),n.d(t,"destroy",(function(){return VB}));var r=n(2),o=n.n(r),i=n(10),a=n(1),u=n(4),c=n(0),s=n(3),l,f,p;function h(e){return m(e)||y(e)||v(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function y(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function m(e){if(Array.isArray(e))return b(e)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e){try{var t={worksWithoutQuotes:!1};return new Function("ctx","ctx.worksWithoutQuotes = {".concat(e,": true}['").concat(e,"']"))(),!t.worksWithoutQuotes}catch(e){return!0}}function O(e,t){var n;return t.doubleQuote?'"'.concat(e.replace(/"/g,'\\"'),'"'):"'".concat(e.replace(/'/g,"\\'"),"'")}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.circularReferenceToken,r=void 0===n?"CIRCULAR_REFERENCE":n,o=t.doubleQuote,i=void 0===o||o,a=t.includeFunctions,u=void 0===a||a,c=t.includeUndefinedProperties,s=void 0!==c&&c,l=t.indentLevel,f=void 0===l?0:l,p=t.indentString,d=void 0===p?"  ":p,v=t.lineEnding,y=void 0===v?"\n":v,m=t.visitedObjects,b=void 0===m?new Set:m;switch(g(e)){case"boolean":return"".concat(d.repeat(f),e?"true":"false");case"function":return u?"".concat(d.repeat(f)).concat(e):null;case"number":return"".concat(d.repeat(f)).concat(e);case"object":if(!e)return"".concat(d.repeat(f),"null");if(b.has(e))return"".concat(d.repeat(f)).concat(r);if(e instanceof Date)return"".concat(d.repeat(f),"new Date(").concat(O(e.toISOString(),{doubleQuote:i}),")");if(e instanceof Map)return e.size?"".concat(d.repeat(f),"new Map(").concat(j(h(e),{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:s,indentLevel:f,indentString:d,lineEnding:y,visitedObjects:new Set([e].concat(h(b)))}).slice(f*d.length),")"):"".concat(d.repeat(f),"new Map()");if(e instanceof RegExp)return"".concat(d.repeat(f),"/").concat(e.source,"/").concat(e.flags);if(e instanceof Set)return e.size?"".concat(d.repeat(f),"new Set(").concat(j(h(e),{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:s,indentLevel:f,indentString:d,lineEnding:y,visitedObjects:new Set([e].concat(h(b)))}).slice(f*d.length),")"):"".concat(d.repeat(f),"new Set()");if(Array.isArray(e)){if(!e.length)return"".concat(d.repeat(f),"[]");var S=e.every((function(t){return"object"===g(t)&&t&&!(t instanceof Date)&&!(t instanceof Map)&&!(t instanceof RegExp)&&!(t instanceof Set)&&(Object.keys(t).length||1===e.length)})),E=null;return e=e.reduce((function(t,n,o){if(null!==E)for(var a=o-E-1;a>0;a-=1)t.push(d.repeat(f+1));return E=o,null===(n=j(n,{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:s,indentLevel:S?f:f+1,indentString:d,lineEnding:y,visitedObjects:new Set([e].concat(h(b)))}))?t.push(d.repeat(f+1)):S?t.push(n.slice(f*d.length)):t.push(n),t}),[]),S?"".concat(d.repeat(f),"[").concat(e.join(", "),"]"):"".concat(d.repeat(f),"[").concat(y).concat(e.join(",".concat(y))).concat(y).concat(d.repeat(f),"]")}return(e=Object.keys(e).reduce((function(t,n){var o=e[n],a=void 0!==o||s?j(e[n],{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:s,indentLevel:f+1,indentString:d,lineEnding:y,visitedObjects:new Set([e].concat(h(b)))}):null;if(a){var c=w(n)?O(n,{doubleQuote:i}):n,l=a.slice((f+1)*d.length);"function"==typeof o&&l.startsWith("".concat(n,"()"))?t.push("".concat(d.repeat(f+1)).concat(c," ").concat(l.slice(n.length))):t.push("".concat(d.repeat(f+1)).concat(c,": ").concat(l))}return t}),[])).length?"".concat(d.repeat(f),"{").concat(y).concat(e.join(",".concat(y))).concat(y).concat(d.repeat(f),"}"):"".concat(d.repeat(f),"{}");case"string":return"".concat(d.repeat(f)).concat(O(e,{doubleQuote:i}));case"symbol":var k=Symbol.keyFor(e);return"string"==typeof k?"".concat(d.repeat(f),"Symbol.for(").concat(O(k,{doubleQuote:i}),")"):(k=e.toString().slice(7,-1))?"".concat(d.repeat(f),"Symbol(").concat(O(k,{doubleQuote:i}),")"):"".concat(d.repeat(f),"Symbol()");case"undefined":default:return"".concat(d.repeat(f),"undefined")}}function S(e){if(e&&e.__source)return e.__source;var t=j(e);if("undefined"===t&&(t=""),e)try{e.__source=t}catch(e){console.error(e)}return t}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return(t=R(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,R(r.key),r)}}function C(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function R(e){var t=L(e,"string");return"symbol"===E(t)?t:String(t)}function L(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var A=a.mobx.set,M=a.mobx.isObservableArray,D=Symbol.for("unset");l=Symbol.iterator;var I=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};x(this,e),this.parent=void 0,this.isProp=!0,this.owner=void 0,this.key=void 0,this.spread=void 0,this.props=void 0,this.options=void 0,this.id=Object(s.cb)("prop$"),this._type="unset",this._value=D,this._code=null,this._slotNode=void 0,this._items=null,this._maps=null,this._prevMaps=null,this.purged=!1,this.parent=t,Object(a.makeObservable)(this),this.owner=t.owner,this.props=t.props,this.key=r,this.spread=o,this.options=i,n!==D&&this.setValue(n),this.setupItems()}return C(e,[{key:"type",get:function e(){return this._type}},{key:"value",get:function e(){return this.export(u.h.Serilize)}},{key:"code",get:function e(){return Object(s.H)(this.value)?this.value.value:"slot"===this.type?JSON.stringify(this._slotNode.export(u.h.Save)):null!=this._code?this._code:JSON.stringify(this.value)},set:function e(t){if(Object(s.H)(this._value))return this.setValue(_(_({},this._value),{},{value:t})),void(this._code=t);try{var n=JSON.parse(t);return this.setValue(n),void(this._code=t)}catch(e){}this.setValue({type:"JSExpression",value:t,mock:this._value}),this._code=t}},{key:"slotNode",get:function e(){return this._slotNode||null}},{key:"items",get:function t(){var n=this;return this._items?this._items:Object(a.runInAction)((function(){var t=null;if("list"===n._type){var r=new Map,o;n._value.forEach((function(o,i){var a,u;t=t||[],null!==(a=n._prevMaps)&&void 0!==a&&a.has(i.toString())?(u=n._prevMaps.get(i.toString())).setValue(o):u=new e(n,o,i),r.set(i.toString(),u),t.push(u)})),n._maps=r}else if("map"===n._type){for(var i=n._value,a=new Map,u,c=0,s=Object.keys(i);c<s.length;c++){var l,f=s[c],p=void 0;null!==(l=n._prevMaps)&&void 0!==l&&l.has(f)?(p=n._prevMaps.get(f)).setValue(i[f]):p=new e(n,i[f],f),(t=t||[]).push(p),a.set(f,p)}n._maps=a}else t=null,n._maps=null;return n._items=t,n._items}))}},{key:"maps",get:function e(){return this.items?this._maps:null}},{key:"path",get:function e(){return(this.parent.path||[]).concat(this.key)}},{key:"size",get:function e(){var t;return(null===(t=this.items)||void 0===t?void 0:t.length)||0}},{key:"setupItems",value:function e(){return this.items}},{key:"getPropValue",value:function e(t){return this.get(t).getValue()}},{key:"setPropValue",value:function e(t,n){this.set(t,n)}},{key:"clearPropValue",value:function e(t){var n;null===(n=this.get(t,!1))||void 0===n||n.unset()}},{key:"export",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.h.Save;t=Object(s.k)(t);var n=this._type;if(t===u.h.Render&&"___condition___"===this.key)return!0!==(null===a.engineConfig||void 0===a.engineConfig?void 0:a.engineConfig.get("enableCondition"))||this._value;if("unset"!==n){if("literal"===n||"expression"===n)return null===this._value&&t===u.h.Save?"":this._value;if("slot"===n){var r,o=(null===(r=this._slotNode)||void 0===r?void 0:r.export(t))||{};return t===u.h.Render?{type:"JSSlot",params:o.params,value:o,id:o.id}:{type:"JSSlot",params:o.params,value:o.children,title:o.title,name:o.name,id:o.id}}var i;return"map"===n?this._items?(this.items.forEach((function(e,n){if(!e.isUnset()){var r=e.export(t);null!=r&&((i=i||{})[e.key||n]=r)}})),i):this._value:"list"===n?this._items?this.items.map((function(e){return null==e?void 0:e.export(t)})):this._value:void 0}}},{key:"getAsString",value:function e(){return"literal"===this.type&&this._value?String(this._value):""}},{key:"setValue",value:function e(t){var n;if(t!==this._value){var r=null===(n=this.owner.document)||void 0===n?void 0:n.designer.editor,o=this._value;this._value=t,this._code=null;var i=E(t);if(null==t||"string"===i||"number"===i||"boolean"===i?this._type="literal":Array.isArray(t)?this._type="list":Object(s.P)(t)?Object(s.J)(t)?this.setAsSlot(t):Object(s.H)(t)?this._type="expression":this._type="map":(this._type="expression",this._value={type:"JSExpression",value:j(t)}),this.dispose(),this.setupItems(),o!==this._value){var a,c,l={key:this.key,prop:this,oldValue:o,newValue:this._value};null==r||r.eventBus.emit(u.e.Node.Prop.InnerChange,_({node:this.owner},l)),null===(a=this.owner)||void 0===a||null===(c=a.emitPropChange)||void 0===c||c.call(a,l)}}}},{key:"getValue",value:function e(){return this.export(u.h.Serilize)}},{key:"dispose",value:function e(){var t=this,n=Object(a.untracked)((function(){return t._items}));n&&n.forEach((function(e){return e.purge()})),this._items=null,this._prevMaps=this._maps,this._maps=null,"slot"!==this._type&&this._slotNode&&(this._slotNode.remove(),this._slotNode=void 0)}},{key:"setAsSlot",value:function e(t){var n,r;if(this._type="slot",Object(s.P)(t.value)&&Object(s.O)(t.value)&&"Slot"===(null===(n=t.value)||void 0===n?void 0:n.componentName)){var o,i,a,u=t.value;r={componentName:"Slot",title:u.title||(null===(o=u.props)||void 0===o?void 0:o.slotTitle),id:u.id,name:u.name||(null===(i=u.props)||void 0===i?void 0:i.slotName),params:u.params||(null===(a=u.props)||void 0===a?void 0:a.slotParams),children:u.children}}else r={componentName:"Slot",title:t.title,id:t.id,name:t.name,params:t.params,children:t.value};if(this._slotNode)this._slotNode.import(r);else{var c,l=this.props.owner;this._slotNode=null===(c=l.document)||void 0===c?void 0:c.createNode(r),this._slotNode&&(l.addSlot(this._slotNode),this._slotNode.internalSetSlotFor(this))}}},{key:"unset",value:function e(){this._type="unset"}},{key:"isUnset",value:function e(){return"unset"===this._type}},{key:"isVirtual",value:function e(){return"string"==typeof this.key&&"!"===this.key.charAt(0)}},{key:"compare",value:function e(t){return!t||t.isUnset()?this.isUnset()?0:2:t.type!==this.type?2:"list"===this.type?this.size===t.size?1:2:"map"===this.type?1:this.code===t.code?0:2}},{key:"get",value:function t(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this._type;if("map"!==o&&"list"!==o&&"unset"!==o&&!r)return null;var i="map"===o?this.maps:null,a="list"===o?this.items:null,u=n,c="",s;if("number"!=typeof n){var l=n.indexOf(".");l>0&&(c=n.slice(l+1))&&(u=n.slice(0,l))}return"list"===o?H(u,this.size)&&(s=a[u]):"map"===o&&(s=null==i?void 0:i.get(u)),s?c?s.get(c,r):s:r?(s=new e(this,D,u),this.set(u,s,!0),c?s.get(c,!0):s):null}},{key:"remove",value:function e(){this.parent.delete(this)}},{key:"delete",value:function e(t){if(this._items){var n=this._items.indexOf(t);n>-1&&(this._items.splice(n,1),t.purge()),this._maps&&t.key&&this._maps.delete(String(t.key))}}},{key:"deleteKey",value:function e(t){if(this.maps){var n=this.maps.get(t);n&&this.delete(n)}}},{key:"add",value:function t(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this._type;if("list"!==o&&"unset"!==o&&!r)return null;("unset"===o||r&&"list"!==o)&&this.setValue([]);var i=new e(this,n);return this._items=this._items||[],this._items.push(i),i}},{key:"set",value:function t(n,r){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this._type;if("map"!==i&&"list"!==i&&"unset"!==i&&!o)return null;("unset"===i||o&&"map"!==i)&&(H(n)?"list"!==i&&this.setValue([]):this.setValue({}));var a=G(r)?r:new e(this,r,n),u=this._items||[];if("list"===this.type){if(!H(n))return null;M(u)?A(u,n,a):u[n]=a,this._items=u}else{if("map"!==this.type)return null;var c=this._maps||new Map,s=null==c?void 0:c.get(n);if(s){var l=u.indexOf(s);l>-1&&u.splice(l,1,a)[0].purge(),null==c||c.set(n,a)}else u.push(a),this._items=u,null==c||c.set(n,a);this._maps=c}return a}},{key:"has",value:function e(t){return"map"===this._type&&(this._maps?this._maps.has(t):Object(s.t)(this._value,t))}},{key:"purge",value:function e(){this.purged||(this.purged=!0,this._items&&this._items.forEach((function(e){return e.purge()})),this._items=null,this._maps=null,this._slotNode&&this._slotNode.slotFor===this&&(this._slotNode.remove(),this._slotNode=void 0))}},{key:l,value:function e(){var t=0,n=this.items,r=(null==n?void 0:n.length)||0;return{next:function e(){return t<r?{value:n[t++],done:!1}:{value:void 0,done:!0}}}}},{key:"forEach",value:function e(t){var n=this.items;if(n){var r="map"===this._type;n.forEach((function(e,n){return t(e,r?e.key:n)}))}}},{key:"map",value:function e(t){var n=this.items;if(!n)return null;var r="map"===this._type;return n.map((function(e,n){return t(e,r?e.key:n)}))}},{key:"getProps",value:function e(){return this.props}},{key:"getNode",value:function e(){return this.owner}}]),e}(),B,V,F;function G(e){return e&&e.isProp}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=parseFloat(String(e));return n>=0&&Math.floor(n)===n&&isFinite(n)&&(t<0||n<t)}function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,X(r.key),r)}}function $(e,t,n){return t&&W(e.prototype,t),n&&W(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function X(e){var t=Y(e,"string");return"symbol"===U(t)?t:String(t)}function Y(e,t){if("object"!==U(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx,Object(c.d)("design:type",Object)],I.prototype,"key",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Boolean)],I.prototype,"spread",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",String)],I.prototype,"_type",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],I.prototype,"_value",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],I.prototype,"value",null),Object(c.b)([a.computed,Object(c.d)("design:type",String),Object(c.d)("design:paramtypes",[String])],I.prototype,"code",null),Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Object)],I.prototype,"_items",void 0),Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Object)],I.prototype,"_maps",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],I.prototype,"maps",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[]),Object(c.d)("design:returntype",void 0)],I.prototype,"setupItems",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object]),Object(c.d)("design:returntype",Object)],I.prototype,"getPropValue",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Object]),Object(c.d)("design:returntype",void 0)],I.prototype,"setPropValue",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object]),Object(c.d)("design:returntype",void 0)],I.prototype,"clearPropValue",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object]),Object(c.d)("design:returntype",void 0)],I.prototype,"setValue",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[]),Object(c.d)("design:returntype",void 0)],I.prototype,"dispose",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object]),Object(c.d)("design:returntype",void 0)],I.prototype,"setAsSlot",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[]),Object(c.d)("design:returntype",void 0)],I.prototype,"unset",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[]),Object(c.d)("design:returntype",void 0)],I.prototype,"isUnset",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Object]),Object(c.d)("design:returntype",Object)],I.prototype,"get",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[]),Object(c.d)("design:returntype",void 0)],I.prototype,"remove",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object]),Object(c.d)("design:returntype",void 0)],I.prototype,"delete",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[String]),Object(c.d)("design:returntype",void 0)],I.prototype,"deleteKey",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Object]),Object(c.d)("design:returntype",Object)],I.prototype,"add",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Object,Object]),Object(c.d)("design:returntype",void 0)],I.prototype,"set",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[]),Object(c.d)("design:returntype",void 0)],I.prototype,"purge",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Function]),Object(c.d)("design:returntype",void 0)],I.prototype,"forEach",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Function]),Object(c.d)("design:returntype",Object)],I.prototype,"map",null);var K="___";function q(e){if(!e)return"";var t=e;return e.indexOf(".")>0&&(t=e.split(".")[0]),"___"+t+"___"+e.slice(t.length)}function J(e){return e.replace(new RegExp("".concat("___"),"g"),"")}B=Symbol.iterator;var Z=function(){function e(t,n,r){var o=this;z(this,e),this.id=Object(s.cb)("props"),this.items=[],this.path=[],this.owner=void 0,this.type="map",this.purged=!1,Object(a.makeObservable)(this),this.owner=t,Array.isArray(n)?(this.type="list",this.items=n.map((function(e,t){return new I(o,e.value,e.name||t,e.spread)}))):null!=n&&(this.items=Object.keys(n).map((function(e){return new I(o,n[e],e,!1)}))),r&&Object.keys(r).forEach((function(e){o.items.push(new I(o,r[e],q(e)))}))}return $(e,[{key:"maps",get:function e(){var t=new Map;return this.items.length>0&&this.items.forEach((function(e){e.key&&t.set(e.key,e)})),t}},{key:"props",get:function e(){return this}},{key:"size",get:function e(){return this.items.length}},{key:"import",value:function e(t,n){var r=this,o=this.items;Array.isArray(t)?(this.type="list",this.items=t.map((function(e,t){return new I(r,e.value,e.name||t,e.spread)}))):null!=t?(this.type="map",this.items=Object.keys(t).map((function(e){return new I(r,t[e],e)}))):(this.type="map",this.items=[]),n&&Object.keys(n).forEach((function(e){r.items.push(new I(r,n[e],q(e)))})),o.forEach((function(e){return e.purge()}))}},{key:"merge",value:function e(t,n){var r=this;Object.keys(t).forEach((function(e){r.query(e,!0).setValue(t[e]),r.query(e,!0).setupItems()})),n&&Object.keys(n).forEach((function(e){r.query(q(e),!0).setValue(n[e]),r.query(q(e),!0).setupItems()}))}},{key:"export",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.h.Save;if(t=Object(s.k)(t),this.items.length<1)return{};var n={},r={},o={};if("list"===this.type)r=[],this.items.forEach((function(e){var n=e.export(t),i=e.key;i&&"string"==typeof i&&i.startsWith("___")?(i=J(i),o[i]=n):r.push({spread:e.spread,name:i,value:n})}));else{this.items.forEach((function(e){var r=e.key;if(null!=r&&!e.isUnset()&&!e.isVirtual()){var o=e.export(t);null!=o&&(n[r]=o)}}));var i=this.transformToStatic(n);Object.keys(i).forEach((function(e){var t=i[e];"string"==typeof e&&e.startsWith("___")?(e=J(e),o[e]=t):r[e]=t}))}return{props:r,extras:o}}},{key:"transformToStatic",value:function e(t){var n,r,o,i=null===(n=this.owner.componentMeta)||void 0===n||null===(r=n.prototype)||void 0===r||null===(o=r.options)||void 0===o?void 0:o.transducers;return i?(Array.isArray(i)||(i=[i]),t=i.reduce((function(e,t){return t&&"function"==typeof t.toStatic?t.toStatic(e):e}),t)):t}},{key:"query",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.get(t,n)}},{key:"get",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t,o="",i=t.indexOf(".");i>0&&(o=t.slice(i+1))&&(r=t.slice(0,i));var a=this.maps.get(r);return!a&&n&&(a=new I(this,D,r),this.items.push(a)),a?o?a.get(o,n):a:null}},{key:"delete",value:function e(t){var n=this.items.indexOf(t);n>-1&&(this.items.splice(n,1),t.purge())}},{key:"deleteKey",value:function e(t){var n=this;this.items=this.items.filter((function(e,r){return e.key!==t||(e.purge(),n.items.splice(r,1),!1)}))}},{key:"add",value:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=new I(this,t,n,r,o);return this.items.push(i),i}},{key:"has",value:function e(t){return this.maps.has(t)}},{key:B,value:function e(){var t=0,n=this.items,r=n.length||0;return{next:function e(){return t<r?{value:n[t++],done:!1}:{value:void 0,done:!0}}}}},{key:"forEach",value:function e(t){this.items.forEach((function(e){return t(e,e.key)}))}},{key:"map",value:function e(t){return this.items.map((function(e){return t(e,e.key)}))}},{key:"filter",value:function e(t){return this.items.filter((function(e){return t(e,e.key)}))}},{key:"purge",value:function e(){this.purged||(this.purged=!0,this.items.forEach((function(e){return e.purge()})))}},{key:"getProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.query(t,n)||null}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t,!1))||void 0===n?void 0:n.value}},{key:"setPropValue",value:function e(t,n){this.getProp(t,!0).setValue(n)}},{key:"getNode",value:function e(){return this.owner}},{key:"toData",value:function e(){var t;return null===(t=this.export())||void 0===t?void 0:t.props}}]),e}(),Q,ee;function te(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.length-1;o>=0;o--)t.call(r,n(e,o))}function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return(t=se(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,se(r.key),r)}}function ce(e,t,n){return t&&ue(e.prototype,t),n&&ue(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function se(e){var t=le(e,"string");return"symbol"===ne(t)?t:String(t)}function le(e,t){if("object"!==ne(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Array)],Z.prototype,"items",void 0),Object(c.b)([a.computed,Object(c.d)("design:type","function"==typeof(V="undefined"!=typeof Map&&Map)?V:Object),Object(c.d)("design:paramtypes",[])],Z.prototype,"maps",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Z.prototype,"size",null),Object(c.b)([a.obx,Object(c.d)("design:type",String)],Z.prototype,"type",void 0),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Object]),Object(c.d)("design:returntype",void 0)],Z.prototype,"import",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Object]),Object(c.d)("design:returntype",void 0)],Z.prototype,"merge",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[String,Object]),Object(c.d)("design:returntype",Object)],Z.prototype,"query",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[String,Object]),Object(c.d)("design:returntype",Object)],Z.prototype,"get",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object]),Object(c.d)("design:returntype",void 0)],Z.prototype,"delete",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[String]),Object(c.d)("design:returntype",void 0)],Z.prototype,"deleteKey",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Object,Object,Object]),Object(c.d)("design:returntype",Object)],Z.prototype,"add",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Function]),Object(c.d)("design:returntype",void 0)],Z.prototype,"forEach",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Function]),Object(c.d)("design:returntype",Object)],Z.prototype,"map",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Function]),Object(c.d)("design:returntype",void 0)],Z.prototype,"filter",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[]),Object(c.d)("design:returntype",void 0)],Z.prototype,"purge",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[String,Object]),Object(c.d)("design:returntype",Object)],Z.prototype,"getProp",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[String]),Object(c.d)("design:returntype",Object)],Z.prototype,"getPropValue",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[String,Object]),Object(c.d)("design:returntype",void 0)],Z.prototype,"setPropValue",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[]),Object(c.d)("design:returntype",void 0)],Z.prototype,"toData",null),Q=Symbol.toStringTag,ee=Symbol.iterator;var fe=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ae(this,e),this.owner=void 0,this.children=void 0,this.emitter=Object(a.createModuleEventBus)("NodeChildren"),this.purged=!1,this.owner=t,Object(a.makeObservable)(this),this.children=(Array.isArray(n)?n:[n]).map((function(e){var t;return null===(t=r.owner.document)||void 0===t?void 0:t.createNode(e,o.checkId)}))}return ce(e,[{key:"size",get:function e(){return this.children.length}},{key:"isEmptyNode",get:function e(){return this.size<1}},{key:"notEmptyNode",get:function e(){return this.size>0}},{key:"length",get:function e(){return this.children.length}},{key:Q,get:function e(){return"Array"}},{key:"internalInitParent",value:function e(){var t=this;this.children.forEach((function(e){return e.internalSetParent(t.owner)}))}},{key:"export",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.h.Save;return t=Object(s.k)(t),this.children.map((function(e){var n=e.export(t);return e.isLeafNode&&u.h.Save===t?n.children:n}))}},{key:"import",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=t?Array.isArray(t)?t:[t]:[];var r=this.children.slice();this.children.forEach((function(e){return e.internalSetParent(null)}));for(var o=new Array(t.length),i=0,a=t.length;i<a;i++){var u=r[i],c=t[i],l=void 0,f;if(Object(s.O)(c)&&!n&&u&&u.componentName===c.componentName)(l=u).import(c);else l=null===(f=this.owner.document)||void 0===f?void 0:f.createNode(c,n);o[i]=l}this.children=o,this.internalInitParent(),Object(s.ab)(o,r)||this.emitter.emit("change")}},{key:"concat",value:function e(t){return this.children.concat(t)}},{key:"isEmpty",value:function e(){return this.isEmptyNode}},{key:"notEmpty",value:function e(){return this.notEmptyNode}},{key:"purge",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.purged||(this.purged=!0,this.children.forEach((function(e){e.purge(t)})))}},{key:"unlinkChild",value:function e(t){var n=this.children.map((function(e){return e.id})).indexOf(t.id);if(n<0)return!1;this.children.splice(n,1),this.emitter.emit("change",{type:"unlink",node:t})}},{key:"delete",value:function e(t){return this.internalDelete(t)}},{key:"internalDelete",value:function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.internalPurgeStart(),t.isParentalNode&&(te(t.children,(function(e){e.remove(o,r,i)}),(function(e,t){return e.get(t)})),te(t.slots,(function(e){e.remove(o,r)}),(function(e,t){return e[t]})));var a=this.children.map((function(e){return e.id})).indexOf(t.id);if(r){t.internalSetParent(null,o);try{t.purge()}catch(e){console.error(e)}}var u=t.document,c=null===(n=t.document)||void 0===n?void 0:n.designer.editor;return null==c||c.eventBus.emit("node.remove",{node:t,index:a}),null==u||u.unlinkNode(t),null==u||u.selection.remove(t.id),null==u||u.destroyNode(t),this.emitter.emit("change",{type:"delete",node:t}),o&&this.reportModified(t,this.owner,{type:"remove",propagated:!1,isSubDeleting:this.owner.isPurging,removeIndex:a,removeNode:t}),a>-1&&!r&&this.children.splice(a,1),!1}},{key:"insert",value:function e(t,n){this.internalInsert(t,n,!0)}},{key:"internalInsert",value:function e(t,n){var r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.children,a=null==n||-1===n?i.length:n,u=i.map((function(e){return e.id})).indexOf(t.id);if(t.parent){var c,s=null===(c=t.document)||void 0===c?void 0:c.designer.editor;null==s||s.eventBus.emit("node.remove.topLevel",{node:t,index:t.index})}if(u<0)a<i.length?i.splice(a,0,t):i.push(t),t.internalSetParent(this.owner,o);else{if(a>u&&(a-=1),a===u)return;i.splice(u,1),i.splice(a,0,t)}this.emitter.emit("change",{type:"insert",node:t}),this.emitter.emit("insert",t);var l=null===(r=t.document)||void 0===r?void 0:r.designer.editor;if(null==l||l.eventBus.emit("node.add",{node:t}),o&&this.reportModified(t,this.owner,{type:"insert"}),t.conditionGroup&&(t.prevSibling&&t.prevSibling.conditionGroup===t.conditionGroup||t.nextSibling&&t.nextSibling.conditionGroup===t.conditionGroup||t.setConditionGroup(null)),t.prevSibling&&t.nextSibling){var f=t.prevSibling.conditionGroup;f&&f===t.nextSibling.conditionGroup&&t.setConditionGroup(f)}}},{key:"indexOf",value:function e(t){return this.children.map((function(e){return e.id})).indexOf(t.id)}},{key:"splice",value:function e(t,n,r){return r?this.children.splice(t,n,r):this.children.splice(t,n)}},{key:"get",value:function e(t){return this.children.length>t?this.children[t]:null}},{key:"has",value:function e(t){return this.indexOf(t)>-1}},{key:ee,value:function e(){var t=0,n=this.children,r=n.length||0;return{next:function e(){return t<r?{value:n[t++],done:!1}:{value:void 0,done:!0}}}}},{key:"forEach",value:function e(t){this.children.forEach((function(e,n){return t(e,n)}))}},{key:"map",value:function e(t){return this.children.map((function(e,n){return t(e,n)}))}},{key:"every",value:function e(t){return this.children.every((function(e,n){return t(e,n)}))}},{key:"some",value:function e(t){return this.children.some((function(e,n){return t(e,n)}))}},{key:"filter",value:function e(t){return this.children.filter(t)}},{key:"find",value:function e(t){return this.children.find(t)}},{key:"reduce",value:function e(t,n){return this.children.reduce(t,n)}},{key:"reverse",value:function e(){return this.children.reverse()}},{key:"mergeChildren",value:function e(t,n,r){var o=this,i=!1;if(t){var a=this.children.filter(t);a.length>0&&(a.forEach((function(e){var t=o.children.map((function(e){return e.id})).indexOf(e.id);t>-1&&(o.children.splice(t,1),e.remove(!1))})),i=!0)}if(n){var u=n(this.children);u&&u.length>0&&(u.forEach((function(e){var t,n=null===(t=o.owner.document)||void 0===t?void 0:t.createNode(e);o.children.push(n),n.internalSetParent(o.owner)})),i=!0)}r&&(this.children=this.children.sort(r),i=!0),i&&this.emitter.emit("change")}},{key:"onChange",value:function e(t){var n=this;return this.emitter.on("change",t),function(){n.emitter.removeListener("change",t)}}},{key:"onInsert",value:function e(t){var n=this;return this.emitter.on("insert",t),function(){n.emitter.removeListener("insert",t)}}},{key:"reportModified",value:function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&!t.isRootNode){var i=null===(r=n.componentMeta)||void 0===r?void 0:r.advanced.callbacks;if(null!=i&&i.onSubtreeModified)try{null==i||i.onSubtreeModified.call(t.internalToShellNode(),n.internalToShellNode(),o)}catch(e){console.error("error when execute advanced.callbacks.onSubtreeModified",e)}n.parent&&!n.parent.isRootNode&&this.reportModified(t,n.parent,oe(oe({},o),{},{propagated:!0}))}}}]),e}();Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Array)],fe.prototype,"children",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Number),Object(c.d)("design:paramtypes",[])],fe.prototype,"size",null),Object(c.b)([a.computed,Object(c.d)("design:type",Number),Object(c.d)("design:paramtypes",[])],fe.prototype,"length",null);var pe=n(54),he=n(55),de=Object(a.createIntl)({"en-US":pe,"zh-CN":he}),ve=de.intl,ye=de.intlNode,me=de.getLocale,be=de.setLocale;function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Se(r.key),r)}}function je(e,t,n){return t&&Oe(e.prototype,t),n&&Oe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Se(e){var t=Ee(e,"string");return"symbol"===ge(t)?t:String(t)}function Ee(e,t){if("object"!==ge(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var ke=function(){function e(t,n){we(this,e),this.name=void 0,this.isExclusiveGroup=!0,this.id=Object(s.cb)("exclusive"),this.title=void 0,this.children=[],this.visibleIndex=0,this.name=t,Object(a.makeObservable)(this),this.title=n||{type:"i18n",intl:ve("Condition Group")}}return je(e,[{key:"document",get:function e(){return this.visibleNode.document}},{key:"zLevel",get:function e(){return this.visibleNode.zLevel}},{key:"length",get:function e(){return this.children.length}},{key:"visibleNode",get:function e(){return this.children[this.visibleIndex]}},{key:"firstNode",get:function e(){return this.children[0]}},{key:"index",get:function e(){return this.firstNode.index}},{key:"add",value:function e(t){var n;if(t.nextSibling&&(null===(n=t.nextSibling.conditionGroup)||void 0===n?void 0:n.id)===this.id){var r=this.children.indexOf(t.nextSibling);this.children.splice(r,0,t)}else this.children.push(t)}},{key:"remove",value:function e(t){var n=this.children.indexOf(t);n>-1&&(this.children.splice(n,1),this.visibleIndex>n?this.visibleIndex-=1:this.visibleIndex>=this.children.length&&(this.visibleIndex=this.children.length-1))}},{key:"setVisible",value:function e(t){var n=this.children.indexOf(t);n>-1&&(this.visibleIndex=n)}},{key:"isVisible",value:function e(t){var n;return this.children.indexOf(t)===this.visibleIndex}}]),e}();function _e(e){return e&&e.isExclusiveGroup}function Pe(e,t){var n=e.slots,r;return(void 0===n?[]:n).some((function(e){var n;return t&&t===(null==e||null===(n=e.getExtraProp("name"))||void 0===n?void 0:n.getAsString())}))}function xe(e,t){var n=e.slots,r=void 0===n?[]:n;return r.some((function(e,n){var o;return!(!t||t!==(null==e||null===(o=e.getExtraProp("name"))||void 0===o?void 0:o.getAsString()))&&(e.remove(),r.splice(n,1),!0)}))}Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Array)],ke.prototype,"children",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],ke.prototype,"visibleIndex",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],ke.prototype,"document",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],ke.prototype,"zLevel",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],ke.prototype,"length",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],ke.prototype,"visibleNode",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],ke.prototype,"firstNode",null);var Ne=s.O,Ce=s.F,Te=s.l,Re=s.s,Le;!function(e){e.NODE_CHILDREN_CHANGE="node.children.change",e.NODE_VISIBLE_CHANGE="node.visible.change"}(Le||(Le={}));var Ae=["componentName","id","children","props"],Me=["componentName","id","children","props"],De,Ie,Be;function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e,t,n){return(t=Ye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e,t){if(null==e)return{};var n=ze(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ze(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function We(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ye(r.key),r)}}function Xe(e,t,n){return t&&$e(e.prototype,t),n&&$e(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ye(e){var t=Ke(e,"string");return"symbol"===Ve(t)?t:String(t)}function Ke(e,t){if("object"!==Ve(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var qe=function(){function e(t,n){var r=this;We(this,e),this.document=void 0,this.emitter=void 0,this.isNode=!0,this.id=void 0,this.componentName=void 0,this.props=void 0,this._children=void 0,this._addons={},this._parent=null,this.isInited=!1,this._settingEntry=void 0,this.autoruns=void 0,this._isRGLContainer=!1,this._slotFor=null,this._slots=[],this._conditionGroup=null,this.purged=!1,this.purging=!1,this.status={inPlaceEditing:!1,locking:!1,pseudo:!1},this.document=t,Object(a.makeObservable)(this);var o=n.componentName,i=n.id,u=n.children,c=n.props,l=Ue(n,Ae);this.id=t.nextId(i),this.componentName=o,"Leaf"===this.componentName?this.props=new Z(this,{children:Object(s.z)(u)||Object(s.H)(u)?u:""}):(this.props=new Z(this,c,l),this._children=new fe(this,this.initialChildren(u)),this._children.internalInitParent(),this.props.merge(this.upgradeProps(this.initProps(c||{})),this.upgradeProps(l)),this.setupAutoruns()),this.initBuiltinProps(),this.isInited=!0,this.emitter=Object(a.createModuleEventBus)("Node");var f=this.document.designer.editor;this.onVisibleChange((function(e){null==f||f.eventBus.emit(Le.NODE_VISIBLE_CHANGE,r,e)})),this.onChildrenChange((function(e){null==f||f.eventBus.emit(Le.NODE_CHILDREN_CHANGE,{type:null==e?void 0:e.type,node:r})}))}return Xe(e,[{key:"parent",get:function e(){return this._parent}},{key:"children",get:function e(){return this._children||null}},{key:"zLevel",get:function e(){return this._parent?this._parent.zLevel+1:0}},{key:"title",get:function e(){var t=this.getExtraProp("title");if(t){var n=t.getAsString();if(n)return n}return this.componentMeta.title}},{key:"icon",get:function e(){return this.componentMeta.icon}},{key:"settingEntry",get:function e(){return this._settingEntry||(this._settingEntry=this.document.designer.createSettingEntry([this])),this._settingEntry}},{key:"isRGLContainer",get:function e(){return!!this._isRGLContainer},set:function e(t){this._isRGLContainer=t}},{key:"isRGLContainerNode",get:function e(){return!!this._isRGLContainer},set:function e(t){this._isRGLContainer=t}},{key:"isEmptyNode",get:function e(){return this.isEmpty()}},{key:"slots",get:function e(){return this._slots}},{key:"conditionGroup",get:function e(){return this._conditionGroup}},{key:"isPurged",get:function e(){return this.purged}},{key:"isPurging",get:function e(){return this.purging}},{key:"initBuiltinProps",value:function e(){this.props.has(q("hidden"))||this.props.add(!1,q("hidden")),this.props.has(q("title"))||this.props.add("",q("title")),this.props.has(q("isLocked"))||this.props.add(!1,q("isLocked")),this.props.has(q("condition"))||this.props.add(!0,q("condition")),this.props.has(q("conditionGroup"))||this.props.add("",q("conditionGroup")),this.props.has(q("loop"))||this.props.add(void 0,q("loop"))}},{key:"initProps",value:function e(t){return this.document.designer.transformProps(t,this,u.h.Init)}},{key:"upgradeProps",value:function e(t){return this.document.designer.transformProps(t,this,u.h.Upgrade)}},{key:"setupAutoruns",value:function e(){var t=this,n=this.componentMeta.advanced.autoruns;!n||n.length<1||(this.autoruns=n.map((function(e){return Object(a.autorun)((function(){var n;e.autorun(null===(n=t.props.getNode().settingEntry.get(e.name))||void 0===n?void 0:n.internalToShellField())}))})))}},{key:"initialChildren",value:function e(t){if(null==t){var e=this.componentMeta.advanced.initialChildren;if(e)return"function"==typeof e?e(this.internalToShellNode())||[]:e}return Array.isArray(t)?t:t?[t]:[]}},{key:"isContainer",value:function e(){return this.isContainerNode}},{key:"isContainerNode",get:function e(){return this.isParentalNode&&this.componentMeta.isContainer}},{key:"isModal",value:function e(){return this.isModalNode}},{key:"isModalNode",get:function e(){return this.componentMeta.isModal}},{key:"isRoot",value:function e(){return this.isRootNode}},{key:"isRootNode",get:function e(){return this.document.rootNode===this}},{key:"isPage",value:function e(){return this.isPageNode}},{key:"isPageNode",get:function e(){return this.isRootNode&&"Page"===this.componentName}},{key:"isComponent",value:function e(){return this.isComponentNode}},{key:"isComponentNode",get:function e(){return this.isRootNode&&"Component"===this.componentName}},{key:"isSlot",value:function e(){return this.isSlotNode}},{key:"isSlotNode",get:function e(){return null!=this._slotFor&&"Slot"===this.componentName}},{key:"isParental",value:function e(){return this.isParentalNode}},{key:"isParentalNode",get:function e(){return!this.isLeafNode}},{key:"isLeaf",value:function e(){return this.isLeafNode}},{key:"isLeafNode",get:function e(){return"Leaf"===this.componentName}},{key:"internalSetWillPurge",value:function e(){this.internalSetParent(null),this.document.addWillPurge(this)}},{key:"didDropIn",value:function e(t){var n=this.componentMeta.advanced.callbacks;if(null!=n&&n.onNodeAdd){var r=this.internalToShellNode();null==n||n.onNodeAdd.call(r,t.internalToShellNode(),r)}this._parent&&this._parent.didDropIn(t)}},{key:"didDropOut",value:function e(t){var n=this.componentMeta.advanced.callbacks;if(null!=n&&n.onNodeRemove){var r=this.internalToShellNode();null==n||n.onNodeRemove.call(r,t.internalToShellNode(),r)}this._parent&&this._parent.didDropOut(t)}},{key:"internalSetParent",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._parent!==t){var r,o;if(this._parent)if(this.isSlot())this._parent.unlinkSlot(this);else null===(r=this._parent.children)||void 0===r||r.unlinkChild(this);if(n)null===(o=this._parent)||void 0===o||o.didDropOut(this);if(t){if(this._parent=t,this.document.removeWillPurge(this),!this.conditionGroup){var i,a=null===(i=this.getExtraProp("conditionGroup",!1))||void 0===i?void 0:i.getAsString();a&&this.setConditionGroup(a)}n&&t.didDropIn(this)}}}},{key:"internalSetSlotFor",value:function e(t){this._slotFor=t}},{key:"internalToShellNode",value:function e(){return this.document.designer.shellModelFactory.createNode(this)}},{key:"slotFor",get:function e(){return this._slotFor}},{key:"remove",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{suppressRemoveEvent:!1};if(this.parent){var o,i,a,u,c;if(!r.suppressRemoveEvent)null===(o=this.document.designer.editor)||void 0===o||o.eventBus.emit("node.remove.topLevel",{node:this,index:null===(i=this.parent)||void 0===i||null===(a=i.children)||void 0===a?void 0:a.indexOf(this)});if(this.isSlot())this.parent.removeSlot(this),null===(u=this.parent.children)||void 0===u||u.internalDelete(this,n,t,{suppressRemoveEvent:!0});else null===(c=this.parent.children)||void 0===c||c.internalDelete(this,n,t,{suppressRemoveEvent:!0})}}},{key:"lock",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setExtraProp("isLocked",t)}},{key:"isLocked",get:function e(){var t;return!(null===(t=this.getExtraProp("isLocked"))||void 0===t||!t.getValue())}},{key:"select",value:function e(){this.document.selection.select(this.id)}},{key:"hover",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?this.document.designer.detecting.capture(this):this.document.designer.detecting.release(this)}},{key:"componentMeta",get:function e(){return this.document.getComponentMeta(this.componentName)}},{key:"propsData",get:function e(){return this.isParental()&&"Fragment"!==this.componentName&&this.props.export(u.h.Serilize).props||null}},{key:"hasSlots",value:function e(){return this._slots.length>0}},{key:"setConditionGroup",value:function e(t){var n=null,r,o,i,a,u,c,s;if(!t)return null===(r=this.getExtraProp("conditionGroup",!1))||void 0===r||r.remove(),void(this._conditionGroup&&(this._conditionGroup.remove(this),this._conditionGroup=null));_e(t)||((null===(o=this.prevSibling)||void 0===o||null===(i=o.conditionGroup)||void 0===i?void 0:i.name)===t?n=this.prevSibling.conditionGroup:(null===(a=this.nextSibling)||void 0===a||null===(u=a.conditionGroup)||void 0===u?void 0:u.name)===t?n=this.nextSibling.conditionGroup:"string"==typeof t&&(n=new ke(t)));n&&this._conditionGroup!==n&&(null===(c=this.getExtraProp("conditionGroup",!0))||void 0===c||c.setValue(n.name),this._conditionGroup&&this._conditionGroup.remove(this),this._conditionGroup=n,null===(s=n)||void 0===s||s.add(this))}},{key:"isConditionalVisible",value:function e(){var t;return null===(t=this._conditionGroup)||void 0===t?void 0:t.isVisible(this)}},{key:"setConditionalVisible",value:function e(){var t;null===(t=this._conditionGroup)||void 0===t||t.setVisible(this)}},{key:"hasCondition",value:function e(){var t,n=null===(t=this.getExtraProp("condition",!1))||void 0===t?void 0:t.getValue();return null!=n&&""!==n&&!0!==n}},{key:"hasLoop",value:function e(){var t,n=null===(t=this.getExtraProp("loop",!1))||void 0===t?void 0:t.getValue();return null!=n&&(!!Array.isArray(n)||!!Object(s.H)(n))}},{key:"wrapWith",value:function e(t){var n;return this.replaceWith(Ge(Ge({},t),{},{children:[this.export()]})).children.get(0)}},{key:"replaceWith",value:function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=Object.assign({},r?this.export():{},t),null===(n=this.parent)||void 0===n?void 0:n.replaceChild(this,t)}},{key:"replaceChild",value:function e(t,n){var r;if(null!==(r=this.children)&&void 0!==r&&r.has(t)){var o=this.document.selection.has(t.id);delete n.id;var i=this.document.createNode(n);return Object(s.N)(i)?(this.insertBefore(i,t,!1),t.remove(!1),o&&this.document.selection.select(i.id),i):null}return t}},{key:"setVisible",value:function e(t){var n;null===(n=this.getExtraProp("hidden"))||void 0===n||n.setValue(!t),this.emitter.emit("visibleChange",t)}},{key:"getVisible",value:function e(){var t;return!(null!==(t=this.getExtraProp("hidden"))&&void 0!==t&&t.getValue())}},{key:"onVisibleChange",value:function e(t){var n=this,r=Object(a.wrapWithEventSwitch)(t);return this.emitter.on("visibleChange",r),function(){n.emitter.removeListener("visibleChange",r)}}},{key:"getProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.props.query(t,n)||null}},{key:"getExtraProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.props.get(q(t),n)||null}},{key:"setExtraProp",value:function e(t,n){var r;null===(r=this.getProp(q(t),!0))||void 0===r||r.setValue(n)}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t,!1))||void 0===n?void 0:n.value}},{key:"setPropValue",value:function e(t,n){this.getProp(t,!0).setValue(n)}},{key:"clearPropValue",value:function e(t){var n;null===(n=this.getProp(t,!1))||void 0===n||n.unset()}},{key:"mergeProps",value:function e(t){this.props.merge(t)}},{key:"setProps",value:function e(t){t instanceof Z?this.props=t:this.props.import(t)}},{key:"index",get:function e(){var t;return this.parent?null===(t=this.parent.children)||void 0===t?void 0:t.indexOf(this):-1}},{key:"nextSibling",get:function e(){var t;if(!this.parent)return null;var n=this.index;return"number"!=typeof n||n<0?null:null===(t=this.parent.children)||void 0===t?void 0:t.get(n+1)}},{key:"prevSibling",get:function e(){var t;if(!this.parent)return null;var n=this.index;return"number"!=typeof n||n<1?null:null===(t=this.parent.children)||void 0===t?void 0:t.get(n-1)}},{key:"schema",get:function e(){return this.export(u.h.Save)},set:function e(t){var n=this;Object(a.runInAction)((function(){return n.import(t)}))}},{key:"import",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.componentName,o=t.id,i=t.children,a=t.props,u=Ue(t,Me),c;(this.isSlot()&&te(this.children,(function(e){e.remove(!0,!0)}),(function(e,t){return e.get(t)})),this.isParental())?(this.props.import(a,u),null===(c=this._children)||void 0===c||c.import(i,n)):this.props.get("children",!0).setValue(Object(s.z)(i)||Object(s.H)(i)?i:"")}},{key:"toData",value:function e(){return this.export()}},{key:"export",value:function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.h.Save,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n=Object(s.k)(n);var o={componentName:this.componentName};if(n!==u.h.Clone&&(o.id=this.id),n===u.h.Render&&(o.docId=this.document.id),this.isLeaf()){var i;if(!r.bypassChildren)o.children=null===(i=this.props.get("children"))||void 0===i?void 0:i.export(n);return o}var a=this.props.export(n)||{},c=a.props,l=void 0===c?{}:c,f=a.extras,p=Ge({},f);Object.keys(this._addons).forEach((function(e){var n=t._addons[e];n&&(n.isProp?l[q(e)]=n.exportData():p[e]=n.exportData())}));var h=Ge(Ge({},o),{},{props:this.document.designer.transformProps(l,this,n)},this.document.designer.transformProps(p,this,n));return this.isParental()&&this.children&&this.children.size>0&&!r.bypassChildren&&(h.children=this.children.export(n)),h}},{key:"contains",value:function e(t){return nt(this,t)}},{key:"getZLevelTop",value:function e(t){return tt(this,t)}},{key:"comparePosition",value:function e(t){return rt(this,t)}},{key:"unlinkSlot",value:function e(t){var n=this._slots.indexOf(t);if(n<0)return!1;this._slots.splice(n,1)}},{key:"removeSlot",value:function e(t){var n=this._slots.indexOf(t);return n<0||this._slots.splice(n,1),!1}},{key:"addSlot",value:function e(t){var n,r=null==t||null===(n=t.getExtraProp("name"))||void 0===n?void 0:n.getAsString();Pe(this,r)&&xe(this,r),t.internalSetParent(this,!0),this._slots.push(t)}},{key:"isValidComponent",value:function e(){var t,n,r=null===(t=this.document)||void 0===t||null===(n=t.designer)||void 0===n?void 0:n.componentsMap;return!(!r||!r[this.componentName])}},{key:"removeChild",value:function e(t){var n;null===(n=this.children)||void 0===n||n.delete(t)}},{key:"purge",value:function e(){var t,n;this.purged||(this.purged=!0,null===(t=this.autoruns)||void 0===t||t.forEach((function(e){return e()})),this.props.purge(),null===(n=this.settingEntry)||void 0===n||n.purge())}},{key:"internalPurgeStart",value:function e(){this.purging=!0}},{key:"canPerformAction",value:function e(t){var n,r,o=this,i;return((null===(n=this.componentMeta)||void 0===n||null===(r=n.availableActions)||void 0===r?void 0:r.filter((function(e){var t=e.condition;return"function"==typeof t?!1!==t(o):!1!==t})).map((function(e){return e.name})))||[]).indexOf(t)>=0}},{key:"isEmpty",value:function e(){return!this.children||this.children.isEmpty()}},{key:"getChildren",value:function e(){return this.children}},{key:"getComponentName",value:function e(){return this.componentName}},{key:"insert",value:function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.insertAfter(t,n,r)}},{key:"insertBefore",value:function e(t,n){var r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Ze(t,this.document);null===(r=this.children)||void 0===r||r.internalInsert(i,n?n.index:null,o)}},{key:"insertAfter",value:function e(t,n){var r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Ze(t,this.document);null===(r=this.children)||void 0===r||r.internalInsert(i,n?(n.index||0)+1:null,o)}},{key:"getParent",value:function e(){return this.parent}},{key:"getId",value:function e(){return this.id}},{key:"getIndex",value:function e(){return this.index}},{key:"getNode",value:function e(){return this}},{key:"getRoot",value:function e(){return this.document.rootNode}},{key:"getProps",value:function e(){return this.props}},{key:"onChildrenChange",value:function e(t){var n,r=Object(a.wrapWithEventSwitch)(t);return null===(n=this.children)||void 0===n?void 0:n.onChange(r)}},{key:"mergeChildren",value:function e(t,n,r){var o;null===(o=this.children)||void 0===o||o.mergeChildren(t,n,r)}},{key:"getStatus",value:function e(t){return t&&null!=this.status[t]?this.status[t]:this.status}},{key:"setStatus",value:function e(t,n){this.status.hasOwnProperty(t)&&n!==this.status[t]&&(this.status[t]=n)}},{key:"getDOMNode",value:function e(){var t,n,r,o,i=null===(t=this.document.simulator)||void 0===t||null===(n=t.getComponentInstances(this))||void 0===n?void 0:n[0];if(i)return null===(r=this.document.simulator)||void 0===r||null===(o=r.findDOMNodes(i))||void 0===o?void 0:o[0]}},{key:"getPage",value:function e(){return console.warn("getPage is deprecated, use document instead"),this.document}},{key:"getRGL",value:function e(){var t,n=this.isContainer(),r=this.isEmpty(),o=this.isRGLContainer,i=null===(t=this.getParent())||void 0===t?void 0:t.isRGLContainer,a=o||i&&(!n||!r),u;return{isContainerNode:n,isEmptyNode:r,isRGLContainerNode:o,isRGLNode:i,isRGL:a,rglNode:o?this:a?null==this?void 0:this.getParent():{}}}},{key:"getSuitablePlace",value:function e(t,n){var r,o,i,a,u,c=null===(r=this.document)||void 0===r?void 0:r.focusNode;if(null!=t&&null!==(o=t.componentMeta)&&void 0!==o&&o.isModal)return{container:c,ref:n};if(!n&&c&&this.contains(c)){var s,l,f,p=null===(s=c.componentMeta)||void 0===s||null===(l=s.prototype)||void 0===l||null===(f=l.options)||void 0===f?void 0:f.canDropIn;return void 0===p||!0===p||"function"==typeof p&&p(t)?{container:c}:null}if(this.isRoot()&&this.children){var h,d,v,y=this.children.filter((function(e){var n,r,o;if(!e.isContainerNode)return!1;var i=null===(n=e.componentMeta)||void 0===n||null===(r=n.prototype)||void 0===r||null===(o=r.options)||void 0===o?void 0:o.canDropIn;return!!(void 0===i||!0===i||"function"==typeof i&&i(t))}))[0];if(y)return{container:y,ref:n};var m=null===(h=this.componentMeta)||void 0===h||null===(d=h.prototype)||void 0===d||null===(v=d.options)||void 0===v?void 0:v.canDropIn;return void 0===m||!0===m||"function"==typeof m&&m(t)?{container:this,ref:n}:null}var b=null===(i=this.componentMeta)||void 0===i||null===(a=i.prototype)||void 0===a||null===(u=a.options)||void 0===u?void 0:u.canDropIn;return this.isContainer()&&(void 0===b||"boolean"==typeof b&&b||"function"==typeof b&&b(t))?{container:this,ref:n}:this.parent?this.parent.getSuitablePlace(t,{index:this.index}):null}},{key:"getAddonData",value:function e(t){var n,r=this._addons[t];return r?r.exportData():null===(n=this.getExtraProp(t))||void 0===n?void 0:n.getValue()}},{key:"registerAddon",value:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._addons[t]={exportData:n,isProp:r}}},{key:"getRect",value:function e(){var t,n;return this.isRoot()?(null===(n=this.document.simulator)||void 0===n?void 0:n.viewport.contentBounds)||null:(null===(t=this.document.simulator)||void 0===t?void 0:t.computeRect(this))||null}},{key:"getPrototype",value:function e(){return this.componentMeta.prototype}},{key:"setPrototype",value:function e(t){this.componentMeta.prototype=t}},{key:"getIcon",value:function e(){return this.icon}},{key:"toString",value:function e(){return this.id}},{key:"emitPropChange",value:function e(t){var n;null===(n=this.emitter)||void 0===n||n.emit("propChange",t)}},{key:"onPropChange",value:function e(t){var n=this,r=Object(a.wrapWithEventSwitch)(t);return this.emitter.on("propChange",r),function(){n.emitter.removeListener("propChange",r)}}}]),e}(),Je;function Ze(e,t){var n=e;return Object(s.N)(e)||(n=e.getComponentName?t.createNode({componentName:e.getComponentName()}):t.createNode(e)),n}function Qe(e){return e&&e.isRootNode}function et(e){var t;return"lowCode"===(null===(t=e.componentMeta)||void 0===t?void 0:t.getMetadata().devMode)}function tt(e,t){var n=e.zLevel;if(n<t||t<0)return null;if(n===t)return e;for(var r=e;r&&n-- >t;)r=r.parent;return r}function nt(e,t){if(e===t)return!0;if(!e.isParentalNode||!t.parent)return!1;var n=tt(t,e.zLevel);return!!n&&e===n}function rt(e,t){if(e===t)return Je.TheSame;var n=e.zLevel,r=t.zLevel,o;return n===r?Je.BeforeOrAfter:n<r?(o=tt(t,n))&&o===e?Je.Contains:Je.BeforeOrAfter:(o=tt(e,r))&&o===t?Je.ContainedBy:Je.BeforeOrAfter}function ot(e,t,n,r){var o,i,a,c;if(Object(s.N)(t)&&(r||t.isSlot()))i=t.export(u.h.Clone),o=null===(a=e.document)||void 0===a?void 0:a.createNode(i);else if(Object(s.N)(t))o=t;else if(Object(s.O)(t)){var l;o=null===(l=e.document)||void 0===l?void 0:l.createNode(t)}return Object(s.N)(o)?(null===(c=e.children)||void 0===c||c.insert(o,n),o):null}function it(e,t,n,r){for(var o=n,i,a=[];i=t.pop();)i=ot(e,i,o,r),a.push(i),o=i.index;return a}function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ct(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function ct(e,t){if(e){if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(e,t):void 0}}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ht(r.key),r)}}function pt(e,t,n){return t&&ft(e.prototype,t),n&&ft(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ht(e){var t=dt(e,"string");return"symbol"===at(t)?t:String(t)}function dt(e,t){if("object"!==at(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==at(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],qe.prototype,"_parent",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Number),Object(c.d)("design:paramtypes",[])],qe.prototype,"zLevel",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],qe.prototype,"title",null),Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Array)],qe.prototype,"_slots",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],qe.prototype,"_conditionGroup",void 0),Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Object)],qe.prototype,"status",void 0),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[]),Object(c.d)("design:returntype",void 0)],qe.prototype,"initBuiltinProps",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object]),Object(c.d)("design:returntype",Object)],qe.prototype,"initProps",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object]),Object(c.d)("design:returntype",Object)],qe.prototype,"upgradeProps",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],qe.prototype,"componentMeta",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],qe.prototype,"propsData",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],qe.prototype,"index",null),function(e){e[e.Contains=16]="Contains",e[e.ContainedBy=8]="ContainedBy",e[e.BeforeOrAfter=2]="BeforeOrAfter",e[e.TheSame=0]="TheSame"}(Je||(Je={}));var vt=function(){function e(t){lt(this,e),this.doc=void 0,this.emitter=Object(a.createModuleEventBus)("Selection"),this._selected=[],this.doc=t,Object(a.makeObservable)(this)}return pt(e,[{key:"selected",get:function e(){return this._selected}},{key:"select",value:function e(t){1===this._selected.length&&this._selected.indexOf(t)>-1||(this._selected=[t],this.emitter.emit("selectionchange",this._selected))}},{key:"selectAll",value:function e(t){this._selected=t,this.emitter.emit("selectionchange",this._selected)}},{key:"clear",value:function e(){this._selected.length<1||(this._selected=[],this.emitter.emit("selectionchange",this._selected))}},{key:"dispose",value:function e(){for(var t=this._selected.length,n=t;n-- >0;){var r=this._selected[n];this.doc.hasNode(r)||this._selected.splice(n,1)}this._selected.length!==t&&this.emitter.emit("selectionchange",this._selected)}},{key:"add",value:function e(t){this._selected.indexOf(t)>-1||(this._selected.push(t),this.emitter.emit("selectionchange",this._selected))}},{key:"has",value:function e(t){return this._selected.indexOf(t)>-1}},{key:"remove",value:function e(t){var n=this._selected.indexOf(t);n>-1&&(this._selected.splice(n,1),this.emitter.emit("selectionchange",this._selected))}},{key:"containsNode",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=ut(this._selected),o;try{for(r.s();!(o=r.n()).done;){var i=o.value,a=this.doc.getNode(i);if((!n||null==a||!a.contains(this.doc.focusNode))&&(null!=a&&a.contains(t)))return!0}}catch(e){r.e(e)}finally{r.f()}return!1}},{key:"getNodes",value:function e(){var t=[],n=ut(this._selected),r;try{for(n.s();!(r=n.n()).done;){var o=r.value,i=this.doc.getNode(o);i&&t.push(i)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"getTopNodes",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=[],r=ut(this._selected),o;try{for(r.s();!(o=r.n()).done;){var i=o.value,a=this.doc.getNode(i);if(a&&(t||!a.contains(this.doc.focusNode))){for(var u=n.length,c=!0;u-- >0;){var s=rt(n[u],a);if(s===Je.Contains||s===Je.TheSame){c=!1;break}s===Je.ContainedBy&&n.splice(u,1)}c&&n.push(a)}}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"onSelectionChange",value:function e(t){var n=this;return this.emitter.on("selectionchange",t),function(){n.emitter.removeListener("selectionchange",t)}}}]),e}();function yt(e){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wt(r.key),r)}}function gt(e,t,n){return t&&bt(e.prototype,t),n&&bt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wt(e){var t=Ot(e,"string");return"symbol"===yt(t)?t:String(t)}function Ot(e,t){if("object"!==yt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==yt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Array)],vt.prototype,"_selected",void 0);var jt=new s.e({level:"warn",bizName:"history"}),St=function(){function e(t,n,r){var o=this;mt(this,e),this.redoer=void 0,this.document=void 0,this.session=void 0,this.records=void 0,this.point=0,this.emitter=Object(a.createModuleEventBus)("History"),this.asleep=!1,this.currentSerialization={serialize:function e(t){return JSON.stringify(t)},unserialize:function e(t){return JSON.parse(t)}},this.timeGap=1e3,this.redoer=n,this.document=r,this.session=new Et(0,null,this.timeGap),this.records=[this.session],Object(a.reaction)((function(){return t()}),(function(e){o.asleep||Object(a.untracked)((function(){var t=o.currentSerialization.serialize(e);if(o.session.data!==t)if(o.session.isActive())o.session.log(t);else{o.session.end();var n=o.getState(),r=o.session.cursor+1,i=new Et(r,t,o.timeGap);o.session=i,o.records.splice(r,o.records.length-r,i);var a=o.getState();a!==n&&o.emitter.emit("statechange",a)}}))}),{fireImmediately:!0})}return gt(e,[{key:"hotData",get:function e(){return this.session.data}},{key:"setSerialization",value:function e(t){this.currentSerialization=t}},{key:"isSavePoint",value:function e(){return this.point!==this.session.cursor}},{key:"sleep",value:function e(){this.asleep=!0}},{key:"wakeup",value:function e(){this.asleep=!1}},{key:"go",value:function e(t){this.session.end();var n=t,r;if((n=+n)<0?n=0:n>=this.records.length&&(n=this.records.length-1),n!==this.session.cursor){var o=this.records[n],i=o.data;this.sleep();try{this.redoer(this.currentSerialization.unserialize(i)),this.emitter.emit("cursor",i)}catch(e){jt.error(e)}this.wakeup(),this.session=o,this.emitter.emit("statechange",this.getState())}}},{key:"back",value:function e(){var t;if(this.session){var n=this.session.cursor-1;this.go(n);var r=null===(t=this.document)||void 0===t?void 0:t.designer.editor;r&&r.eventBus.emit("history.back",n)}}},{key:"forward",value:function e(){var t;if(this.session){var n=this.session.cursor+1;this.go(n);var r=null===(t=this.document)||void 0===t?void 0:t.designer.editor;r&&r.eventBus.emit("history.forward",n)}}},{key:"savePoint",value:function e(){this.session&&(this.session.end(),this.point=this.session.cursor,this.emitter.emit("statechange",this.getState()))}},{key:"getState",value:function e(){var t=this.session.cursor,n=7;return t<=0&&(n-=1),t>=this.records.length-1&&(n-=2),this.point===t&&(n-=4),n}},{key:"onChangeState",value:function e(t){return this.onStateChange(t)}},{key:"onStateChange",value:function e(t){var n=this;return this.emitter.on("statechange",t),function(){n.emitter.removeListener("statechange",t)}}},{key:"onChangeCursor",value:function e(t){return this.onCursor(t)}},{key:"onCursor",value:function e(t){var n=this;return this.emitter.on("cursor",t),function(){n.emitter.removeListener("cursor",t)}}},{key:"destroy",value:function e(){this.emitter.removeAllListeners(),this.records=[]}},{key:"isModified",value:function e(){return this.isSavePoint()}}]),e}(),Et=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;mt(this,e),this.cursor=void 0,this.timeGap=void 0,this._data=void 0,this.activeTimer=void 0,this.cursor=t,this.timeGap=r,this.setTimer(),this.log(n)}return gt(e,[{key:"data",get:function e(){return this._data}},{key:"log",value:function e(t){this.isActive()&&(this._data=t,this.setTimer())}},{key:"isActive",value:function e(){return null!=this.activeTimer}},{key:"end",value:function e(){this.isActive()&&this.clearTimer()}},{key:"setTimer",value:function e(){var t=this;this.clearTimer(),this.activeTimer=setTimeout((function(){return t.end()}),this.timeGap)}},{key:"clearTimer",value:function e(){this.activeTimer&&clearTimeout(this.activeTimer),this.activeTimer=null}}]),e}();function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nt(r.key),r)}}function xt(e,t,n){return t&&Pt(e.prototype,t),n&&Pt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nt(e){var t=Ct(e,"string");return"symbol"===kt(t)?t:String(t)}function Ct(e,t){if("object"!==kt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==kt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Tt(e){if(!e)return[];var t=[];e.componentMeta.isModal&&t.push(e);var n=e.children;return n&&n.forEach((function(e){t=t.concat(Tt(e))})),t}var Rt=function(){function e(t){var n=this;_t(this,e),this.willDestroy=void 0,this.page=void 0,this.modalNodes=void 0,this.nodeRemoveEvents=void 0,this.emitter=void 0,this.page=t,this.emitter=Object(a.createModuleEventBus)("ModalNodesManager"),this.nodeRemoveEvents={},this.setNodes(),this.hideModalNodes(),this.willDestroy=[t.onNodeCreate((function(e){return n.addNode(e)})),t.onNodeDestroy((function(e){return n.removeNode(e)}))]}return xt(e,[{key:"getModalNodes",value:function e(){return this.modalNodes}},{key:"getVisibleModalNode",value:function e(){var t;return this.getModalNodes().find((function(e){return e.getVisible()}))||null}},{key:"hideModalNodes",value:function e(){this.modalNodes.forEach((function(e){e.setVisible(!1)}))}},{key:"setVisible",value:function e(t){this.hideModalNodes(),t.setVisible(!0)}},{key:"setInvisible",value:function e(t){t.setVisible(!1)}},{key:"onVisibleChange",value:function e(t){var n=this;return this.emitter.on("visibleChange",t),function(){n.emitter.removeListener("visibleChange",t)}}},{key:"onModalNodesChange",value:function e(t){var n=this;return this.emitter.on("modalNodesChange",t),function(){n.emitter.removeListener("modalNodesChange",t)}}},{key:"addNode",value:function e(t){null!=t&&t.componentMeta.isModal&&(this.hideModalNodes(),this.modalNodes.push(t),this.addNodeEvent(t),this.emitter.emit("modalNodesChange"),this.emitter.emit("visibleChange"))}},{key:"removeNode",value:function e(t){if(t.componentMeta.isModal){var n=this.modalNodes.indexOf(t);n>=0&&this.modalNodes.splice(n,1),this.removeNodeEvent(t),this.emitter.emit("modalNodesChange"),t.getVisible()&&this.emitter.emit("visibleChange")}}},{key:"addNodeEvent",value:function e(t){var n=this;this.nodeRemoveEvents[t.id]=t.onVisibleChange((function(){n.emitter.emit("visibleChange")}))}},{key:"removeNodeEvent",value:function e(t){this.nodeRemoveEvents[t.id]&&(this.nodeRemoveEvents[t.id](),delete this.nodeRemoveEvents[t.id])}},{key:"setNodes",value:function e(){var t=this,n=Tt(this.page.rootNode);this.modalNodes=n,this.modalNodes.forEach((function(e){t.addNodeEvent(e)})),this.emitter.emit("modalNodesChange")}}]),e}(),Lt;function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){It(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function It(e,t,n){return(t=zt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Vt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function Vt(e,t){if(e){if("string"==typeof e)return Ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ft(e,t):void 0}}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zt(r.key),r)}}function Ut(e,t,n){return t&&Ht(e.prototype,t),n&&Ht(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zt(e){var t=Wt(e,"string");return"symbol"===At(t)?t:String(t)}function Wt(e,t){if("object"!==At(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==At(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var $t=function(){function e(t,n){var r,o,i=this;Gt(this,e),this.rootNode=void 0,this.id=Object(s.cb)("doc"),this.selection=new vt(this),this.history=void 0,this.modalNodesManager=void 0,this._nodesMap=new Map,this.project=void 0,this.designer=void 0,this.nodes=new Set,this.seqId=0,this.emitter=void 0,this.rootNodeVisitorMap={},this._addons=[],this._drillDownNode=null,this._modalNode=void 0,this._blank=void 0,this.inited=!1,this.willPurgeSpace=[],this.activeNodes=void 0,this._dropLocation=null,this._opened=!1,this._suspensed=!1,Object(a.makeObservable)(this),this.project=t,this.designer=null===(r=this.project)||void 0===r?void 0:r.designer,this.emitter=Object(a.createModuleEventBus)("DocumentModel"),n||(this._blank=!0),this.id=(null===(o=t.getSchema())||void 0===o?void 0:o.id)||this.id,this.rootNode=this.createNode(n||{componentName:"Page",id:"root",fileName:""}),this.history=new St((function(){return i.export(u.h.Serilize)}),(function(e){var t;i.import(e,!0),null===(t=i.simulator)||void 0===t||t.rerender()}),this),this.setupListenActiveNodes(),this.modalNodesManager=new Rt(this),this.inited=!0}return Ut(e,[{key:"simulator",get:function e(){return this.project.simulator}},{key:"nodesMap",get:function e(){return this._nodesMap}},{key:"fileName",get:function e(){var t,n;return(null===(t=this.rootNode)||void 0===t||null===(n=t.getExtraProp("fileName",!1))||void 0===n?void 0:n.getAsString())||this.id},set:function e(t){var n,r;null===(n=this.rootNode)||void 0===n||null===(r=n.getExtraProp("fileName",!0))||void 0===r||r.setValue(t)}},{key:"focusNode",get:function e(){if(this._drillDownNode)return this._drillDownNode;var t=a.engineConfig.get("focusNodeSelector");return t&&"function"==typeof t?t(this.rootNode):this.rootNode}},{key:"modalNode",get:function e(){return this._modalNode}},{key:"currentRoot",get:function e(){return this.modalNode||this.focusNode}},{key:"dropLocation",get:function e(){return this._dropLocation},set:function e(t){this._dropLocation=t,this.designer.editor.eventBus.emit("document.dropLocation.changed",{document:this,location:t})}},{key:"schema",get:function e(){var t;return null===(t=this.rootNode)||void 0===t?void 0:t.schema}},{key:"suspensed",get:function e(){return this._suspensed||!this._opened}},{key:"active",get:function e(){return!this._suspensed}},{key:"actived",get:function e(){return this.active}},{key:"opened",get:function e(){return this._opened}},{key:"root",get:function e(){return this.rootNode}},{key:"drillDown",value:function e(t){this._drillDownNode=t}},{key:"onChangeNodeVisible",value:function e(t){var n,r=this;return null===(n=this.designer.editor)||void 0===n||n.eventBus.on(Le.NODE_VISIBLE_CHANGE,t),function(){var e;null===(e=r.designer.editor)||void 0===e||e.eventBus.off(Le.NODE_VISIBLE_CHANGE,t)}}},{key:"onChangeNodeChildren",value:function e(t){var n,r=this;return null===(n=this.designer.editor)||void 0===n||n.eventBus.on(Le.NODE_CHILDREN_CHANGE,t),function(){var e;null===(e=r.designer.editor)||void 0===e||e.eventBus.off(Le.NODE_CHILDREN_CHANGE,t)}}},{key:"addWillPurge",value:function e(t){this.willPurgeSpace.push(t)}},{key:"removeWillPurge",value:function e(t){var n=this.willPurgeSpace.indexOf(t);n>-1&&this.willPurgeSpace.splice(n,1)}},{key:"isBlank",value:function e(){return!(!this._blank||this.isModified())}},{key:"nextId",value:function e(t){for(var n=t;!n||this.nodesMap.get(n);)n="node_".concat((String(this.id).slice(-10)+(++this.seqId).toString(36)).toLocaleLowerCase());return n}},{key:"getNode",value:function e(t){return this._nodesMap.get(t)||null}},{key:"getNodeCount",value:function e(){var t;return null===(t=this._nodesMap)||void 0===t?void 0:t.size}},{key:"hasNode",value:function e(t){var n=this.getNode(t);return!!n&&!n.isPurged}},{key:"createNode",value:function e(t){var n,r;r=Object(s.z)(t)||Object(s.H)(t)?{componentName:"Leaf",children:t}:t;var o=null;return this.hasNode(null===(n=r)||void 0===n?void 0:n.id)&&(r.id=null),r.id&&((o=this.getNode(r.id))&&o.componentName===r.componentName?(o.parent&&o.internalSetParent(null,!1),o.import(r,!0)):o&&(o=null)),o||(o=new qe(this,r)),this._nodesMap.set(o.id,o),this.nodes.add(o),this.emitter.emit("nodecreate",o),o}},{key:"destroyNode",value:function e(t){this.emitter.emit("nodedestroy",t)}},{key:"insertNode",value:function e(t,n,r,o){return ot(t,n,r,o)}},{key:"insertNodes",value:function e(t,n,r,o){return it(t,n,r,o)}},{key:"removeNode",value:function e(t){var n,r=null;"string"==typeof t?(n=t,r=this.getNode(n)):t.id&&(n=t.id,r=this.getNode(n)),r&&this.internalRemoveAndPurgeNode(r,!0)}},{key:"internalRemoveAndPurgeNode",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.nodes.has(t)&&t.remove(n)}},{key:"unlinkNode",value:function e(t){this.nodes.delete(t),this._nodesMap.delete(t.id)}},{key:"wrapWith",value:function e(t){var n=this.selection.getTopNodes();if(n.length<1)return null;var r=this.createNode(t);if(r.isParental()){var o=n[0];return ot(o.parent,r,o.index),it(r,n),this.selection.select(r.id),r}return this.removeNode(r),null}},{key:"import",value:function e(t){var n,r=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=null===(n=this._drillDownNode)||void 0===n?void 0:n.id;Object(a.runWithGlobalEventOff)((function(){var e;r.nodes.forEach((function(e){e.isRoot()||r.internalRemoveAndPurgeNode(e,!0)})),null===(e=r.rootNode)||void 0===e||e.import(t,o),r.modalNodesManager=new Rt(r),i&&r.drillDown(r.getNode(i))}))}},{key:"export",value:function e(){var t,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.h.Serilize;o=Object(s.k)(o);var i=null===(t=this.rootNode)||void 0===t?void 0:t.export(o);if(Array.isArray(null==i?void 0:i.children)&&null!=i&&null!==(n=i.children)&&void 0!==n&&n.length&&(null==i||null===(r=i.children)||void 0===r?void 0:r.length)>0){var a=null==i?void 0:i.children.filter((function(e){return Object(s.P)(e)})).findIndex((function(e){var t;return null===(t=e.props)||void 0===t?void 0:t.__isTopFixed__}));if(a>0){var c=null==i?void 0:i.children.splice(a,1);null==i||i.children.unshift(c[0])}}return i}},{key:"getNodeSchema",value:function e(t){var n=this.getNode(t);return n?n.schema:null}},{key:"isModified",value:function e(){return this.history.isSavePoint()}},{key:"getComponent",value:function e(t){return this.simulator.getComponent(t)}},{key:"getComponentMeta",value:function e(t){var n=this;return this.designer.getComponentMeta(t,(function(){var e;return(null===(e=n.simulator)||void 0===e?void 0:e.generateComponentMetadata(t))||null}))}},{key:"setSuspense",value:function e(t){var n;(this._opened||t)&&(this._suspensed=t,null===(n=this.simulator)||void 0===n||n.setSuspense(t),t||this.project.checkExclusive(this))}},{key:"suspense",value:function e(){this.setSuspense(!0)}},{key:"activate",value:function e(){this.setSuspense(!1)}},{key:"open",value:function e(){var t=this._opened;return this._opened=!0,!1===t&&this.designer.postEvent("document-open",this),this._suspensed?this.setSuspense(!1):this.project.checkExclusive(this),this}},{key:"close",value:function e(){this.setSuspense(!0),this._opened=!1}},{key:"remove",value:function e(){this.designer.postEvent("document.remove",{id:this.id}),this.purge(),this.project.removeDocument(this)}},{key:"purge",value:function e(){var t;null===(t=this.rootNode)||void 0===t||t.purge(),this.nodes.clear(),this._nodesMap.clear(),this.rootNode=null}},{key:"checkNesting",value:function e(t,n){var r=this,o;if(Object(s.B)(n))o=Array.isArray(n.data)?n.data:[n.data];else if(Object(s.C)(n))o=n.nodes;else{if(!Object(s.N)(n)&&!Object(s.O)(n))return console.warn("the dragObject is not in the correct type, dragObject:",n),!0;o=[n]}return o.every((function(e){return r.checkNestingDown(t,e)&&r.checkNestingUp(t,e)}))}},{key:"checkDropTarget",value:function e(t,n){var r=this,o;if(Object(s.B)(n))o=Array.isArray(n.data)?n.data:[n.data];else{if(!Object(s.C)(n))return!1;o=n.nodes}return o.every((function(e){return r.checkNestingUp(t,e)}))}},{key:"checkNestingUp",value:function e(t,n){if(Object(s.N)(n)||Object(s.O)(n)){var r=Object(s.N)(n)?n.componentMeta:this.getComponentMeta(n.componentName);if(r)return r.checkNestingUp(n,t)}return!0}},{key:"checkNestingDown",value:function e(t,n){var r;return t.componentMeta.checkNestingDown(t,n)}},{key:"getRoot",value:function e(){return this.rootNode}},{key:"toData",value:function e(t){var n=this.export(u.h.Save),r;return{componentsMap:this.getComponentsMap(t),utils:this.getUtilsMap(),componentsTree:[n]}}},{key:"getHistory",value:function e(){return this.history}},{key:"getAddonData",value:function e(t){var n=this._addons.find((function(e){return e.name===t}));if(n)return n.exportData()}},{key:"exportAddonData",value:function e(){var t={};return this._addons.forEach((function(e){var n=e.exportData();null===n?delete t[e.name]:t[e.name]=n})),t}},{key:"registerAddon",value:function e(t,n){if(["id","params","layout"].indexOf(t)>-1)throw new Error("addon name cannot be id, params, layout");var r=this._addons.findIndex((function(e){return e.name===t}));r>-1&&this._addons.splice(r,1),this._addons.push({exportData:n,name:t})}},{key:"acceptRootNodeVisitor",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",n=arguments.length>1?arguments[1]:void 0,r={};t||console.warn("Invalid or empty RootNodeVisitor name.");try{this.rootNode&&(r=n.call(this,this.rootNode),this.rootNodeVisitorMap[t]=r)}catch(e){console.error("RootNodeVisitor is not valid."),console.error(e)}return r}},{key:"getRootNodeVisitor",value:function e(t){return this.rootNodeVisitorMap[t]}},{key:"getComponentsMap",value:function e(t){var n=this,r=[],o={},i=Bt(this._nodesMap.values()),a;try{for(i.s();!(a=i.n()).done;){var u=a.value,c,s=(u||{}).componentName,l,f;if("Slot"!==s)if(!o[s])o[s]=!0,null!==(l=u.componentMeta)&&void 0!==l&&null!==(f=l.npm)&&void 0!==f&&f.package?r.push(Dt(Dt({},u.componentMeta.npm),{},{componentName:s})):r.push({devMode:"lowCode",componentName:s})}}catch(e){i.e(e)}finally{i.f()}return Array.isArray(t)&&t.forEach((function(e){if(e&&!o[e]){var t,i=n.getComponentMeta(e);i&&null!==(t=i.npm)&&void 0!==t&&t.package&&r.push(Dt(Dt({},null==i?void 0:i.npm),{},{componentName:e}))}})),r}},{key:"getUtilsMap",value:function e(){var t,n,r,o;return null===(t=this.designer)||void 0===t||null===(n=t.editor)||void 0===n||null===(r=n.get("assets"))||void 0===r||null===(o=r.utils)||void 0===o?void 0:o.map((function(e){return{name:e.name,type:e.type||"npm",content:e.npm}}))}},{key:"onNodeCreate",value:function e(t){var n=this,r=Object(a.wrapWithEventSwitch)(t);return this.emitter.on("nodecreate",r),function(){n.emitter.removeListener("nodecreate",r)}}},{key:"onNodeDestroy",value:function e(t){var n=this,r=Object(a.wrapWithEventSwitch)(t);return this.emitter.on("nodedestroy",r),function(){n.emitter.removeListener("nodedestroy",r)}}},{key:"refresh",value:function e(){console.warn("refresh method is deprecated")}},{key:"onRefresh",value:function e(){console.warn("onRefresh method is deprecated")}},{key:"onReady",value:function e(t){var n=this;return this.designer.editor.eventBus.on("document-open",t),function(){n.designer.editor.eventBus.off("document-open",t)}}},{key:"setupListenActiveNodes",value:function e(){}}]),e}();function Xt(e){return e&&e.rootNode}function Yt(e){return"Page"===(null==e?void 0:e.componentName)}function Kt(){return(Kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qt(e){return React.createElement(s.f,Kt({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M704 480v-160c0-105.6-86.4-192-192-192s-192 86.4-192 192v160H160v416h704V480h-160z m-320-160c0-70.4 57.6-128 128-128s128 57.6 128 128v160h-256v-160z m416 512H224v-288h576v288z",fill:"#ffffff","p-id":"2680"}),React.createElement("path",{d:"M480 768h64v-160h-64z",fill:"#ffffff","p-id":"2681"}))}function Jt(){return(Jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zt(e){return React.createElement(s.f,Jt({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M183.423543 657.078213l163.499771-98.484012c-4.233418-14.908548-6.646374-30.585599-6.646374-46.852074 0-94.665033 76.739778-171.404812 171.404812-171.404812 45.983287 0 87.641059 18.20871 118.42518 47.679929l129.791042-78.17957c-73.254398-41.73145-157.866471-65.812915-248.216221-65.812915-192.742792 0-360.068705 108.505249-444.453604 267.715321C96.636944 567.228859 136.301316 616.355743 183.423543 657.078213zM841.253886 367.552144l-164.382884 99.015108c3.934612 14.415314 6.215562 29.513174 6.215562 45.174875 0 94.665033-76.739778 171.404812-171.404812 171.404812-45.361117 0-86.484723-17.747199-117.142977-46.515407l-129.419582 77.955466c72.874751 41.149189 156.893306 64.871473 246.563582 64.871473 192.742792 0 360.068705-108.505249 444.453604-267.717368C927.000805 456.773188 887.794875 408.054603 841.253886 367.552144zM420.280042 511.741104c0 0.550539 0.152473 1.060145 0.161682 1.608637l135.080511-81.366146c-13.065574-7.198959-27.854395-11.658528-43.826158-11.658528C461.20922 420.325068 420.280042 461.254246 420.280042 511.741104zM447.739441 576.947198l69.02098-41.574884L948.364369 275.395234c10.812253-6.512321 14.297634-20.558222 7.785314-31.369452-6.512321-10.812253-20.556175-14.296611-31.368428-7.785314L575.654762 446.537056l0 0-151.20577 91.078345 0 0L75.027787 748.090043c-10.812253 6.512321-14.297634 20.556175-7.785314 31.368428 6.512321 10.812253 20.556175 14.297634 31.369452 7.785314L447.739441 576.947198 447.739441 576.947198zM511.696078 603.157139c50.487881 0 91.416036-40.928155 91.416036-91.416036 0-0.549515-0.152473-1.057075-0.161682-1.605567l-135.079488 81.364099C480.935494 598.699618 495.724315 603.157139 511.696078 603.157139z"}))}function Qt(){return(Qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function en(e){return React.createElement(s.f,Qt({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M224 256v639.84A64 64 0 0 0 287.84 960h448.32A64 64 0 0 0 800 895.84V256h64a32 32 0 1 0 0-64H160a32 32 0 1 0 0 64h64zM384 96c0-17.664 14.496-32 31.904-32h192.192C625.696 64 640 78.208 640 96c0 17.664-14.496 32-31.904 32H415.904A31.872 31.872 0 0 1 384 96z m-96 191.744C288 270.208 302.4 256 320.224 256h383.552C721.6 256 736 270.56 736 287.744v576.512C736 881.792 721.6 896 703.776 896H320.224A32.224 32.224 0 0 1 288 864.256V287.744zM352 352c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z m128 0c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z m128 0c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z"}))}function tn(){return(tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nn(e){return React.createElement(s.f,tn({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M965.824 405.952a180.48 180.48 0 0 1-117.12-85.376 174.464 174.464 0 0 1-16-142.08 22.208 22.208 0 0 0-7.04-23.552 480.576 480.576 0 0 0-153.6-89.216 23.104 23.104 0 0 0-24.32 5.76 182.208 182.208 0 0 1-135.68 57.92 182.208 182.208 0 0 1-133.12-56.64 23.104 23.104 0 0 0-26.88-7.04 478.656 478.656 0 0 0-153.6 89.856 22.208 22.208 0 0 0-7.04 23.552 174.464 174.464 0 0 1-16 141.44A180.48 180.48 0 0 1 58.24 405.952a22.4 22.4 0 0 0-17.28 17.792 455.08 455.08 0 0 0 0 176.512 22.4 22.4 0 0 0 17.28 17.792 180.48 180.48 0 0 1 117.12 84.736c25.408 42.944 31.232 94.592 16 142.08a22.208 22.208 0 0 0 7.04 23.552A480.576 480.576 0 0 0 352 957.632h7.68a23.04 23.04 0 0 0 16.64-7.04 184.128 184.128 0 0 1 266.944 0c6.592 8.96 18.752 11.968 28.8 7.04a479.36 479.36 0 0 0 156.16-88.576 22.208 22.208 0 0 0 7.04-23.552 174.464 174.464 0 0 1 13.44-142.72 180.48 180.48 0 0 1 117.12-84.736 22.4 22.4 0 0 0 17.28-17.792 452.613 452.613 0 0 0 0-176.512 23.04 23.04 0 0 0-17.28-17.792z m-42.88 169.408a218.752 218.752 0 0 0-128 98.112 211.904 211.904 0 0 0-21.76 156.736 415.936 415.936 0 0 1-112 63.68 217.472 217.472 0 0 0-149.12-63.68 221.312 221.312 0 0 0-149.12 63.68 414.592 414.592 0 0 1-112-63.68c12.8-53.12 4.288-109.12-23.68-156.096A218.752 218.752 0 0 0 101.12 575.36a386.176 386.176 0 0 1 0-127.36 218.752 218.752 0 0 0 128-98.112c27.2-47.552 34.944-103.68 21.76-156.8a415.296 415.296 0 0 1 112-63.68A221.44 221.44 0 0 0 512 187.392a218.24 218.24 0 0 0 149.12-57.984 413.952 413.952 0 0 1 112 63.744 211.904 211.904 0 0 0 23.04 156.096 218.752 218.752 0 0 0 128 98.112 386.65 386.65 0 0 1 0 127.36l-1.28 0.64z"}),React.createElement("path",{d:"M512 320.576c-105.984 0-192 85.568-192 191.104a191.552 191.552 0 0 0 192 191.104c106.112 0 192.064-85.568 192.064-191.104a190.72 190.72 0 0 0-56.256-135.168 192.448 192.448 0 0 0-135.744-55.936z m0 318.528c-70.656 0-128-57.088-128-127.424 0-70.4 57.344-127.36 128-127.36 70.72 0 128 56.96 128 127.36 0 33.792-13.44 66.176-37.44 90.112a128.32 128.32 0 0 1-90.496 37.312z"}))}function rn(){return(rn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function on(e){return React.createElement(s.f,rn({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M783.5648 437.4528h-18.0224V336.6912c0-43.8272-35.6352-79.4624-79.4624-79.4624h-110.592V241.664c0-90.9312-73.728-164.6592-164.6592-164.6592-90.9312 0-164.6592 73.728-164.6592 164.6592v15.5648H155.2384c-43.8272 0-79.4624 35.6352-79.4624 79.4624v131.4816c0 16.7936 13.9264 30.72 30.72 30.72h56.1152c56.9344 0 103.2192 46.2848 103.2192 103.2192s-46.2848 103.2192-103.2192 103.2192H106.496c-16.7936 0-30.72 13.9264-30.72 30.72v131.4816c0 43.8272 35.6352 79.4624 79.4624 79.4624h531.2512c43.8272 0 79.4624-35.6352 79.4624-79.4624v-100.7616h18.0224c90.9312 0 164.6592-73.728 164.6592-164.6592-0.4096-90.9312-74.1376-164.6592-165.0688-164.6592z m0 267.8784h-48.7424c-16.7936 0-30.72 13.9264-30.72 30.72v131.4816c0 9.8304-8.192 18.0224-18.0224 18.0224H155.2384c-9.8304 0-18.0224-8.192-18.0224-18.0224v-100.7616h25.3952c90.9312 0 164.6592-73.728 164.6592-164.6592 0-90.9312-73.728-164.6592-164.6592-164.6592h-25.3952V336.6912c0-9.8304 8.192-18.0224 18.0224-18.0224h121.6512c16.7936 0 30.72-13.9264 30.72-30.72V241.664c0-56.9344 46.2848-103.2192 103.2192-103.2192s103.2192 46.2848 103.2192 103.2192v46.2848c0 16.7936 13.9264 30.72 30.72 30.72h141.312c9.8304 0 18.0224 8.192 18.0224 18.0224v131.4816c0 16.7936 13.9264 30.72 30.72 30.72h48.7424c56.9344 0 103.2192 46.2848 103.2192 103.2192s-46.2848 103.2192-103.2192 103.2192z"}))}function an(){return(an=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function un(e){return React.createElement(s.f,an({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M192 256.16C192 220.736 220.704 192 256.16 192h639.68C931.264 192 960 220.704 960 256.16v639.68A64.16 64.16 0 0 1 895.84 960H256.16A64.16 64.16 0 0 1 192 895.84V256.16z m64 31.584v576.512a32 32 0 0 0 31.744 31.744h576.512a32 32 0 0 0 31.744-31.744V287.744A32 32 0 0 0 864.256 256H287.744A32 32 0 0 0 256 287.744zM288 192v64h64V192H288z m128 0v64h64V192h-64z m128 0v64h64V192h-64z m128 0v64h64V192h-64z m128 0v64h64V192h-64z m96 96v64h64V288h-64z m0 128v64h64v-64h-64z m0 128v64h64v-64h-64z m0 128v64h64v-64h-64z m0 128v64h64v-64h-64z m-96 96v64h64v-64h-64z m-128 0v64h64v-64h-64z m-128 0v64h64v-64h-64z m-128 0v64h64v-64h-64z m-128 0v64h64v-64H288z m-96-96v64h64v-64H192z m0-128v64h64v-64H192z m0-128v64h64v-64H192z m0-128v64h64v-64H192z m0-128v64h64V288H192z m160 416c0-17.664 14.592-32 32.064-32h319.872a31.968 31.968 0 1 1 0 64h-319.872A31.968 31.968 0 0 1 352 704z m0-128c0-17.664 14.4-32 32.224-32h383.552c17.792 0 32.224 14.208 32.224 32 0 17.664-14.4 32-32.224 32H384.224A32.032 32.032 0 0 1 352 576z m0-128c0-17.664 14.4-32 32.224-32h383.552c17.792 0 32.224 14.208 32.224 32 0 17.664-14.4 32-32.224 32H384.224A32.032 32.032 0 0 1 352 448z m512 47.936V192h-64V159.968A31.776 31.776 0 0 0 768.032 128H160A31.776 31.776 0 0 0 128 159.968V768c0 17.92 14.304 31.968 31.968 31.968H192v64h303.936H128.128A63.968 63.968 0 0 1 64 799.872V128.128C64 92.704 92.48 64 128.128 64h671.744C835.296 64 864 92.48 864 128.128v367.808z"}))}function cn(){return(cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function sn(e){return React.createElement(s.f,cn({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M381.6 864H162.4c-6.9 0-12.4 4.6-12.4 10.3v19.3c0 5.7 5.6 10.3 12.4 10.3h219.1c6.8 0 12.4-4.6 12.4-10.3v-19.3c0.1-5.7-5.5-10.3-12.3-10.3zM382 780.6H162c-6.9 0-12.5 4.6-12.5 10.3v19.3c0 5.7 5.6 10.3 12.5 10.3h220c6.9 0 12.5-4.6 12.5-10.3v-19.3c0-5.7-5.6-10.3-12.5-10.3zM162.4 737.2h219.1c6.8 0 12.4-4.6 12.4-10.3v-19.3c0-5.7-5.6-10.3-12.4-10.3H162.4c-6.9 0-12.4 4.6-12.4 10.3v19.3c0 5.7 5.6 10.3 12.4 10.3z"}),React.createElement("path",{d:"M977.1 0H46.9C21 0 0 21 0 46.9v930.2c0 25.9 21 46.9 46.9 46.9h930.2c25.9 0 46.9-21 46.9-46.9V46.9C1024 21 1003 0 977.1 0z m-18.7 911.6c0 25.9-21 46.9-46.9 46.9H112.4c-25.9 0-46.9-21-46.9-47V112.4c0-25.9 21-46.9 46.9-46.9h799.1c25.9 0 46.9 21 46.9 46.9v799.2z"}),React.createElement("path",{d:"M207.9 342.7h608.2c32 0 57.9-25.9 57.9-57.9v-83c0-32-25.9-57.9-57.9-57.9H207.9c-32 0-57.9 25.9-57.9 57.9v83c0 32 25.9 57.9 57.9 57.9zM200 201.8c0-4.4 3.5-7.9 7.9-7.9h608.2c4.4 0 7.9 3.5 7.9 7.9v83c0 4.4-3.5 7.9-7.9 7.9H207.9c-4.4 0-7.9-3.5-7.9-7.9v-83zM806.4 405.7h-277c-37.3 0-67.6 30.2-67.6 67.6v363.2c0 37.3 30.2 67.6 67.6 67.6h277c37.3 0 67.6-30.2 67.6-67.6V473.3c0-37.4-30.2-67.6-67.6-67.6zM824 836.4c0 9.7-7.9 17.6-17.6 17.6h-277c-9.7 0-17.6-7.9-17.6-17.6V473.3c0-9.7 7.9-17.6 17.6-17.6h277c9.7 0 17.6 7.9 17.6 17.6v363.1zM272 649.7c67.4 0 122-54.6 122-122s-54.6-122-122-122-122 54.6-122 122 54.6 122 122 122z m0-204c45.2 0 82 36.8 82 82s-36.8 82-82 82-82-36.8-82-82 36.8-82 82-82z"}))}function ln(){return(ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fn(e){return React.createElement(s.f,ln({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M800 800h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-256 0h64v64h-64v-64z m0-640h64v64h-64v-64z m128 640h64v64h-64v-64zM160 672h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m640 384h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z"}),React.createElement("path",{d:"M896 64H128c-35.2 0-64 28.8-64 64v768c0 35.2 28.8 64 64 64h768c35.2 0 64-28.8 64-64V128c0-35.2-28.8-64-64-64z m0 800c0 19.2-12.8 32-32 32H160c-19.2 0-32-12.8-32-32V160c0-19.2 12.8-32 32-32h704c19.2 0 32 12.8 32 32v704z"}))}function pn(){return(pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function hn(e){return React.createElement(s.f,pn({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M384 480v-160c0-70.4 57.6-128 128-128s128 57.6 128 128v64h64v-64c0-105.6-86.4-192-192-192s-192 86.4-192 192v160H160v416h704V480H384z m416 352H224v-288h576v288z",fill:"#ffffff","p-id":"2813"}),React.createElement("path",{d:"M416 736h192v-64h-192z",fill:"#ffffff","p-id":"2814"}))}Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Object)],$t.prototype,"nodes",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],$t.prototype,"_drillDownNode",void 0),Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Array)],$t.prototype,"willPurgeSpace",void 0),Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Array)],$t.prototype,"activeNodes",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],$t.prototype,"_dropLocation",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],$t.prototype,"_opened",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],$t.prototype,"_suspensed",void 0),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object]),Object(c.d)("design:returntype","function"==typeof(Lt="undefined"!=typeof T&&T)?Lt:Object)],$t.prototype,"createNode",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Object]),Object(c.d)("design:returntype",void 0)],$t.prototype,"import",null),qt.displayName="IconLock",Zt.displayName="Hidden",en.displayName="Remove",nn.displayName="Setting",on.displayName="Component",un.displayName="Clone",sn.displayName="Page",fn.displayName="Container",hn.displayName="IconUnlock";var dn=["componentName","npm"];function vn(e){return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bn(e,t,n){return(t=En(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gn(e,t){if(null==e)return{};var n=wn(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wn(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function On(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,En(r.key),r)}}function Sn(e,t,n){return t&&jn(e.prototype,t),n&&jn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function En(e){var t=kn(e,"string");return"symbol"===vn(t)?t:String(t)}function kn(e,t){if("object"!==vn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==vn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _n(e){if(!e)return null;if(!Array.isArray(e)){if("string"!=typeof e)return null;e=e.split(/ *[ ,|] */).filter(Boolean)}return e.length<1?null:e}function Pn(e){if(!e)return null;if("function"==typeof e)return e;if(Object(s.T)(e))return function(t){return e.test(t.componentName)};var t=_n(e);return t?function(e){return t.includes(e.componentName)}:null}var xn=function(){function e(t,n){On(this,e),this.designer=void 0,this.isComponentMeta=!0,this._npm=void 0,this.emitter=Object(a.createModuleEventBus)("ComponentMeta"),this._componentName=void 0,this._isContainer=void 0,this._isModal=void 0,this._descriptor=void 0,this._rootSelector=void 0,this._transformedMetadata=void 0,this._liveTextEditing=void 0,this._isTopFixed=void 0,this.parentWhitelist=void 0,this.childWhitelist=void 0,this._title=void 0,this._isMinimalRenderUnit=void 0,this._acceptable=void 0,this.prototype=void 0,this.designer=t,this.parseMetadata(n)}return Sn(e,[{key:"npm",get:function e(){return this._npm},set:function e(t){this.setNpm(t)}},{key:"componentName",get:function e(){return this._componentName}},{key:"isContainer",get:function e(){return this._isContainer||this.isRootComponent()}},{key:"isMinimalRenderUnit",get:function e(){return this._isMinimalRenderUnit||!1}},{key:"isModal",get:function e(){return this._isModal}},{key:"descriptor",get:function e(){return this._descriptor}},{key:"rootSelector",get:function e(){return this._rootSelector}},{key:"configure",get:function e(){var t,n=null===(t=this._transformedMetadata)||void 0===t?void 0:t.configure;return(null==n?void 0:n.combined)||(null==n?void 0:n.props)||[]}},{key:"liveTextEditing",get:function e(){return this._liveTextEditing}},{key:"isTopFixed",get:function e(){return!!this._isTopFixed}},{key:"title",get:function e(){var t;return Object(s.X)(this._title)?(null===(t=this._title)||void 0===t?void 0:t.label)||this.componentName:this._title||this.componentName}},{key:"icon",get:function e(){var t;return(null===(t=this._transformedMetadata)||void 0===t?void 0:t.icon)||("Page"===this.componentName?sn:this.isContainer?fn:on)}},{key:"acceptable",get:function e(){return this._acceptable}},{key:"advanced",get:function e(){return this.getMetadata().configure.advanced||{}}},{key:"setNpm",value:function e(t){this._npm||(this._npm=t)}},{key:"parseMetadata",value:function e(t){var n=t.componentName,r=t.npm,o=gn(t,dn),i=t;t.prototype&&(this.prototype=t.prototype),r||Object.keys(o).length||(i={componentName:n,configure:{component:{disableBehaviors:["copy","move","lock","unlock"]},advanced:{callbacks:{onMoveHook:function e(){return!1}}}}}),this._npm=r||this._npm,this._componentName=n,this._transformedMetadata=this.transformMetadata(i);var a=this._transformedMetadata.title;a&&(this._title="string"==typeof a?{type:"i18n","en-US":this.componentName,"zh-CN":a}:a);var u=this.advanced.liveTextEditing||[];function c(e){e.forEach((function(e){if(null!=e&&e.items)c(e.items);else{var t,n=e.liveTextEditing||(null===(t=e.extraProps)||void 0===t?void 0:t.liveTextEditing);n&&u.push(mn({propTarget:String(e.name)},n))}}))}c(this.configure),this._liveTextEditing=u.length>0?u:void 0;var s=this.advanced.isTopFixed;s&&(this._isTopFixed=s);var l=this._transformedMetadata.configure,f=void 0===l?{}:l;this._acceptable=!1;var p=f.component;if(p){if(this._isContainer=!!p.isContainer,this._isModal=!!p.isModal,this._descriptor=p.descriptor,this._rootSelector=p.rootSelector,this._isMinimalRenderUnit=p.isMinimalRenderUnit,p.nestingRule){var h=p.nestingRule,d=h.parentWhitelist,v=h.childWhitelist;this.parentWhitelist=Pn(d),this.childWhitelist=Pn(v)}}else this._isContainer=!1,this._isModal=!1;this.emitter.emit("metadata_change")}},{key:"refreshMetadata",value:function e(){this.parseMetadata(this.getMetadata())}},{key:"transformMetadata",value:function e(t){var n,r=this.designer.componentActions.getRegisteredMetadataTransducers().reduce((function(e,t){return t(e)}),Cn(t));return r.configure||(r.configure={}),r.experimental&&!r.configure.advanced&&(Object(s.p)(r.experimental,".experimental",".configure.advanced"),r.configure.advanced=r.experimental),r}},{key:"isRootComponent",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return"Page"===this.componentName||"Component"===this.componentName||t&&"Block"===this.componentName}},{key:"availableActions",get:function e(){var t,n=(null===(t=this._transformedMetadata)||void 0===t?void 0:t.configure.component)||{},r=n.disableBehaviors,o=n.actions,i=_n(r)||(this.isRootComponent(!1)?["copy","remove","lock","unlock"]:null);return o=this.designer.componentActions.actions.concat(this.designer.getGlobalComponentActions()||[],o||[]),i?i.includes("*")?o.filter((function(e){return"always"===e.condition})):o.filter((function(e){return i.indexOf(e.name)<0})):o}},{key:"setMetadata",value:function e(t){this.parseMetadata(t)}},{key:"getMetadata",value:function e(){return this._transformedMetadata}},{key:"checkNestingUp",value:function e(t,n){return!this.parentWhitelist||this.parentWhitelist(n.internalToShellNode(),Object(s.N)(t)?t.internalToShellNode():t)}},{key:"checkNestingDown",value:function e(t,n){var r=this,o;return!this.childWhitelist||(Array.isArray(n)?n:[n]).every((function(e){var n=Object(s.N)(e)?e:new qe(t.document,e);return r.childWhitelist&&r.childWhitelist(n.internalToShellNode(),t.internalToShellNode())}))}},{key:"onMetadataChange",value:function e(t){var n=this;return this.emitter.on("metadata_change",t),function(){n.emitter.removeListener("metadata_change",t)}}}]),e}();function Nn(e){return e&&e.isComponentMeta}function Cn(e){return e.configure?Array.isArray(e.configure)?mn(mn({},e),{},{configure:{props:e.configure}}):e:mn(mn({},e),{},{configure:{}})}Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],xn.prototype,"icon",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],xn.prototype,"availableActions",null);var Tn="100%";function Rn(e){return e&&e.isSimulator}function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){Dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dn(e,t,n){return(t=Fn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function In(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fn(r.key),r)}}function Vn(e,t,n){return t&&Bn(e.prototype,t),n&&Bn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fn(e){var t=Gn(e,"string");return"symbol"===Ln(t)?t:String(t)}function Gn(e,t){if("object"!==Ln(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ln(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Hn=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"global";In(this,e),this.designer=void 0,this.viewName=void 0,this.emitter=Object(a.createModuleEventBus)("Project"),this.documents=[],this.data={version:"1.0.0",componentsMap:[],componentsTree:[],i18n:{}},this._simulator=void 0,this.isRendererReady=!1,this._config={},this._i18n={},this.documentsMap=new Map,this.designer=t,this.viewName=r,Object(a.makeObservable)(this),this.load(n)}return Vn(e,[{key:"simulator",get:function e(){return this._simulator||null}},{key:"currentDocument",get:function e(){return this.documents.find((function(e){return e.active}))}},{key:"config",get:function e(){return this._config},set:function e(t){this._config=t}},{key:"i18n",get:function e(){return this._i18n},set:function e(t){this._i18n=t||{}}},{key:"getComponentsMap",value:function e(){return this.documents.reduce((function(e,t){var n=t.getComponentsMap();return Array.isArray(n)&&n.forEach((function(t){var n;e.find((function(e){return!(!Object(s.R)(e)||!Object(s.R)(t)||e.package!==t.package||e.componentName!==t.componentName)||!(!Object(s.M)(e)||e.componentName!==t.componentName)}))||e.push(t)})),e}),[])}},{key:"getSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.h.Save;return Mn(Mn({},this.data),{},{componentsMap:this.getComponentsMap(),componentsTree:this.documents.filter((function(e){return!e.isBlank()})).map((function(e){return e.export(t)||{}})),i18n:this.i18n})}},{key:"setSchema",value:function e(t){var n,r=this.documents.find((function(e){return e.active}));r&&(null==t?void 0:t.componentsTree[0])&&r.import(null==t?void 0:t.componentsTree[0]),null===(n=this.simulator)||void 0===n||n.rerender()}},{key:"load",value:function e(t,n){var r=this;if(this.unload(),this.data=Mn({version:"1.0.0",componentsMap:[],componentsTree:[],i18n:{}},t),this.config=(null==t?void 0:t.config)||this.config,this.i18n=(null==t?void 0:t.i18n)||this.i18n,n)if(!0===n){var o,i,a,u,c,s=this.data.componentsTree.map((function(e){return r.createDocument(e)})),l;if((null===(o=this.config)||void 0===o||null===(i=o.layout)||void 0===i||null===(a=i.props)||void 0===a||null===(u=a.tabBar)||void 0===u||null===(c=u.items)||void 0===c?void 0:c.length)>0)null===(l=s.find((function(e){var t;return e.fileName===(null===(t=r.config.layout.props.tabBar.items[0].path)||void 0===t?void 0:t.slice(1))})))||void 0===l||l.open();else s[0].open()}else this.open(n)}},{key:"unload",value:function e(){if(!(this.documents.length<1))for(var t=this.documents.length-1;t>=0;t--)this.documents[t].remove()}},{key:"removeDocument",value:function e(t){var n=this.documents.indexOf(t);n<0||(this.documents.splice(n,1),this.documentsMap.delete(t.id))}},{key:"set",value:function e(t,n){"config"===t&&(this.config=n),"i18n"===t&&(this.i18n=n),Object.assign(this.data,Dn({},t,n))}},{key:"get",value:function e(t){return"config"===t?this.config:"i18n"===t?this.i18n:Reflect.get(this.data,t)}},{key:"getDocument",value:function e(t){return this.documents.find((function(e){return e.id===t}))||null}},{key:"getDocumentByFileName",value:function e(t){return this.documents.find((function(e){return e.fileName===t}))||null}},{key:"createDocument",value:function e(t){var n,r,o=new $t(this,t||(null==this||null===(n=this.data)||void 0===n||null===(r=n.componentsTree)||void 0===r?void 0:r[0]));return this.documents.push(o),this.documentsMap.set(o.id,o),o}},{key:"open",value:function e(t){if(!t){var n=this.documents.find((function(e){return e.isBlank()}));return n?n.open():(t=this.createDocument()).open()}if("string"==typeof t||"number"==typeof t){var r=this.documents.find((function(e){return e.fileName===String(t)||String(e.id)===String(t)}));if(r)return r.open();var o=this.data.componentsTree.find((function(e){return e.fileName===String(t)}));return o?(t=this.createDocument(o)).open():null}return Xt(t)?t.open():(t=this.createDocument(t)).open()}},{key:"checkExclusive",value:function e(t){this.documents.forEach((function(e){e!==t&&e.suspense()})),this.emitter.emit("current-document.change",t)}},{key:"closeOthers",value:function e(t){this.documents.forEach((function(e){e!==t&&e.close()}))}},{key:"mountSimulator",value:function e(t){this._simulator=t,this.emitter.emit("lowcode_engine_simulator_ready",t)}},{key:"setRendererReady",value:function e(t){this.isRendererReady=!0,this.emitter.emit("lowcode_engine_renderer_ready",t)}},{key:"onSimulatorReady",value:function e(t){var n=this;return this._simulator?(t(this._simulator),function(){}):(this.emitter.on("lowcode_engine_simulator_ready",t),function(){n.emitter.removeListener("lowcode_engine_simulator_ready",t)})}},{key:"onRendererReady",value:function e(t){var n=this;return this.isRendererReady&&t(),this.emitter.on("lowcode_engine_renderer_ready",t),function(){n.emitter.removeListener("lowcode_engine_renderer_ready",t)}}},{key:"onCurrentDocumentChange",value:function e(t){var n=this;return this.emitter.on("current-document.change",t),function(){n.emitter.removeListener("current-document.change",t)}}}]),e}(),Un,zn,Wn,$n,Xn,Yn,Kn;function qn(e){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,er(r.key),r)}}function Qn(e,t,n){return t&&Zn(e.prototype,t),n&&Zn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function er(e){var t=tr(e,"string");return"symbol"===qn(t)?t:String(t)}function tr(e,t){if("object"!==qn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==qn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Array)],Hn.prototype,"documents",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Hn.prototype,"currentDocument",null),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],Hn.prototype,"_config",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[Object])],Hn.prototype,"config",null),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Hn.prototype,"_i18n",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[Object])],Hn.prototype,"i18n",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Object]),Object(c.d)("design:returntype",void 0)],Hn.prototype,"load",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object]),Object(c.d)("design:returntype",Object)],Hn.prototype,"createDocument",null);var nr=function(){function e(){Jn(this,e),this.rect=void 0,this._bounds=void 0,this.viewportElement=void 0,this._scale=1,this._contentWidth="100%",this._contentHeight="100%",this._scrollX=0,this._scrollY=0,this._scrollTarget=void 0,this._scrolling=!1,Object(a.makeObservable)(this)}return Qn(e,[{key:"bounds",get:function e(){var t=this;return this._bounds||(this._bounds=this.viewportElement.getBoundingClientRect(),requestAnimationFrame((function(){t._bounds=void 0}))),this._bounds}},{key:"contentBounds",get:function e(){var t=this.bounds,n=this.scale;return new DOMRect(0,0,t.width/n,t.height/n)}},{key:"mount",value:function e(t){t&&this.viewportElement!==t&&(this.viewportElement=t,this.touch())}},{key:"touch",value:function e(){this.viewportElement&&(this.rect=this.bounds)}},{key:"height",get:function e(){return this.rect?this.rect.height:600},set:function e(t){this._contentHeight=t/this.scale,this.viewportElement&&(this.viewportElement.style.height="".concat(t,"px"),this.touch())}},{key:"width",get:function e(){return this.rect?this.rect.width:1e3},set:function e(t){this._contentWidth=t/this.scale,this.viewportElement&&(this.viewportElement.style.width="".concat(t,"px"),this.touch())}},{key:"scale",get:function e(){return this._scale},set:function e(t){if(isNaN(t)||t<=0)throw new Error('invalid new scale "'.concat(t,'"'));this._scale=t,this._contentWidth=this.width/this.scale,this._contentHeight=this.height/this.scale}},{key:"contentHeight",get:function e(){return this._contentHeight},set:function e(t){this._contentHeight=t}},{key:"contentWidth",get:function e(){return this._contentWidth},set:function e(t){this._contentWidth=t}},{key:"scrollX",get:function e(){return this._scrollX}},{key:"scrollY",get:function e(){return this._scrollY}},{key:"scrollTarget",get:function e(){return this._scrollTarget}},{key:"scrolling",get:function e(){return this._scrolling}},{key:"setScrollTarget",value:function e(t){var n=this,r=new tc(t),o;this._scrollX=r.left,this._scrollY=r.top,t.addEventListener("scroll",(function(){n._scrollX=r.left,n._scrollY=r.top,n._scrolling=!0,o&&clearTimeout(o),o=setTimeout((function(){n._scrolling=!1}),80)})),t.addEventListener("resize",(function(){return n.touch()})),this._scrollTarget=r}},{key:"toGlobalPoint",value:function e(t){if(!this.viewportElement)return t;var n=this.bounds;return{clientX:t.clientX*this.scale+n.left,clientY:t.clientY*this.scale+n.top}}},{key:"toLocalPoint",value:function e(t){if(!this.viewportElement)return t;var n=this.bounds;return{clientX:(t.clientX-n.left)/this.scale,clientY:(t.clientY-n.top)/this.scale}}}]),e}();function rr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=or(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function or(e,t){if(e){if("string"==typeof e)return ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ir(e,t):void 0}}function ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ar(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t.contentWindow,o=t.contentDocument,i=e.designer.editor.get("innerPlugins");r.AliLowCodeEngine=i._getLowCodePluginContext({}),r.LCSimulatorHost=e,r._=window._;var a={},u={};function c(e,t){var n=rr(e),r;try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o)if(Object(s.v)(o))o.assets&&c(Array.isArray(o.assets)?o.assets:[o.assets],o.level||t);else if(Array.isArray(o))c(o,t);else{Object(s.w)(o)||(o=Object(s.h)(Object(s.x)(o)?s.d.CSSUrl:s.d.JSUrl,o,t));var i=o.id?' data-id="'.concat(o.id,'"'):"",l=o.level||t||s.a.Environment;o.type===s.d.JSUrl?u[l].push('<script src="'.concat(o.content,'"').concat(i,"><\/script>")):o.type===s.d.JSText?u[l].push("<script".concat(i,">").concat(o.content,"<\/script>")):o.type===s.d.CSSUrl?a[l].push('<link rel="stylesheet" href="'.concat(o.content,'"').concat(i," />")):o.type===s.d.CSSText&&a[l].push('<style type="text/css"'.concat(i,">").concat(o.content,"</style>"))}}}catch(e){n.e(e)}finally{n.f()}}s.b.forEach((function(e){a[e]=[],u[e]=[]})),c(n);var l=Object.keys(a).map((function(e){return"".concat(a[e].join("\n"),'<meta level="').concat(e,'" />')})).join(""),f=Object.keys(u).map((function(e){return u[e].join("\n")})).join("");return o.open(),o.write('\n<!doctype html>\n<html class="engine-design-mode">\n  <head><meta charset="utf-8"/>\n    '.concat(l,"\n  </head>\n  <body>\n    ").concat(f,"\n  </body>\n</html>")),o.close(),new Promise((function(t){var n=r.SimulatorRenderer;if(n)return t(n);var o=function n(){t(r.SimulatorRenderer||e.renderer),r.removeEventListener("load",n)};r.addEventListener("load",o)}))}function ur(e){return e&&e.isSimulatorRenderer}function cr(e){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sr(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */sr=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==cr(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,k.prototype={constructor:k,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function lr(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function fr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){lr(i,r,o,a,u,"next",e)}function u(e){lr(i,r,o,a,u,"throw",e)}a(void 0)}))}}function pr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vr(r.key),r)}}function dr(e,t,n){return t&&hr(e.prototype,t),n&&hr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vr(e){var t=yr(e,"string");return"symbol"===cr(t)?t:String(t)}function yr(e,t){if("object"!==cr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==cr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx.ref,Object(c.d)("design:type","function"==typeof(Un="undefined"!=typeof DOMRect&&DOMRect)?Un:Object)],nr.prototype,"rect",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Number),Object(c.d)("design:paramtypes",[Number])],nr.prototype,"height",null),Object(c.b)([a.computed,Object(c.d)("design:type",Number),Object(c.d)("design:paramtypes",[Number])],nr.prototype,"width",null),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],nr.prototype,"_scale",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Number),Object(c.d)("design:paramtypes",[Number])],nr.prototype,"scale",null),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],nr.prototype,"_contentWidth",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],nr.prototype,"_contentHeight",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[Object])],nr.prototype,"contentHeight",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[Object])],nr.prototype,"contentWidth",null),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],nr.prototype,"_scrollX",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],nr.prototype,"_scrollY",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],nr.prototype,"_scrolling",void 0);var mr=Symbol("unset"),br=function(){function e(t,n){var r=this;pr(this,e),this.consumer=void 0,this.emitter=Object(a.createModuleEventBus)("ResourceConsumer"),this._data=mr,this._providing=void 0,this._consuming=void 0,this._firstConsumed=!1,this.resolveFirst=void 0,this.consumer=n,Object(a.makeObservable)(this),this._providing=Object(a.autorun)((function(){r._data=t()}))}return dr(e,[{key:"consume",value:function e(t){var n=this;if(!this._consuming){var r;if(ur(t)){if(!this.consumer)return;var o=this.consumer;r=function e(n){return o(t,n)}}else r=t;this._consuming=Object(a.autorun)(fr(sr().mark((function e(){return sr().wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:if(n._data!==mr){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,r(n._data);case 4:n.resolveFirst?n.resolveFirst():n._firstConsumed=!0;case 5:case"end":return t.stop()}}),e)}))))}}},{key:"dispose",value:function e(){this._providing&&this._providing(),this._consuming&&this._consuming(),this.emitter.removeAllListeners()}},{key:"waitFirstConsume",value:function e(){var t=this;return this._firstConsumed?Promise.resolve():new Promise((function(e){t.resolveFirst=e}))}}]),e}();Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],br.prototype,"_data",void 0);var gr=n(12),wr=n.n(gr);function Or(e){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(n),!0).forEach((function(t){Er(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Er(e,t,n){return(t=kr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kr(e){var t=_r(e,"string");return"symbol"===Or(t)?t:String(t)}function _r(e,t){if("object"!==Or(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Or(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Pr=["string","number","array","bool","func","object","node","element","symbol","any"];function xr(e,t){function n(){return e.isRequired.apply(e,arguments)}return"string"==typeof t&&(t={type:t}),n.lowcodeType=Sr(Sr({},t),{},{isRequired:!0}),n}function Nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wr.a.any,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function n(){return e.apply(void 0,arguments)}return e._inner||"lowcodeCheckType"===e.name||(e.lowcodeType=t),n.lowcodeType=t,n.isRequired=xr(e,t),n}var Cr=Sr(Sr({},wr.a),{},{define:Nr});window.PropTypes=Cr,window.React.PropTypes=Cr,Pr.forEach((function(e){var t=wr.a[e];t&&(t._inner=!0,Cr[e]=Nr(t,e))})),Cr.oneOf=function(e){return Nr(wr.a.oneOf(e),{type:"oneOf",value:e})},Cr.arrayOf=function(e){return Nr(wr.a.arrayOf(e),{type:"arrayOf",value:e.lowcodeType||"any"})},Cr.objectOf=function(e){return Nr(wr.a.objectOf(e),{type:"objectOf",value:e.lowcodeType||"any"})},Cr.oneOfType=function(e){var t=e.map((function(e){return e.lowcodeType||"any"}));return Nr(wr.a.oneOfType(e),{type:"oneOfType",value:t})},Cr.exact=function(e){var t=Object.keys(e).map((function(t){var n;return{name:t,propType:(null===(n=e[t])||void 0===n?void 0:n.lowcodeType)||"any"}}));return Nr(wr.a.exact(e),{type:"exact",value:t})},Cr.shape=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e).map((function(t){var n;return{name:t,propType:(null===(n=e[t])||void 0===n?void 0:n.lowcodeType)||"any"}}));return Nr(wr.a.shape(e),{type:"shape",value:t})};var Tr=["string","number","object"];function Rr(e){if(!e)return[];var t=e.propTypes||{},n=e.defaultProps||{},o={};return t?(Object.keys(t).forEach((function(e){var r=t[e],i=n[e],a=r.lowcodeType;if(a)return o[e]={name:e,propType:a},void(null!=i&&(o[e].defaultValue=i));for(var u=Pr.length;u-- >0;){var c=Pr[u];if(Cr[c]===r)return o[e]={name:e,propType:c},void(null!=i&&(o[e].defaultValue=i))}o[e]={name:e,propType:"any"},null!=i&&(o[e].defaultValue=i)})),Object.keys(n).forEach((function(e){if(!o[e]){var t=n[e],i=Or(t);"boolean"===i?i="bool":"function"===i?i="func":"object"===i&&Array.isArray(t)?i="array":t&&Object(r.isValidElement)(t)?i="node":t&&Object(s.E)(t)?i="element":Tr.includes(i)||(i="any"),o[e]={name:e,propType:i||"any",defaultValue:t}}})),Object.keys(o).map((function(e){return o[e]}))):[]}function Lr(e){return Sr({props:Rr(e)},e.componentMetadata)}var Ar=function e(t,n){for(var r=t;r;){var o=Object(s.i)(r,n),i=Object(s.q)(r,(function(e){var t,n;return!!(null!==(t=r)&&void 0!==t&&t.isLocked?null===(n=e.parent)||void 0===n?void 0:n.isLocked:e.isLocked)}));if(i&&i.getId()!==r.getId()&&(o=!1),o)break;r=r.parent}return r};function Mr(e){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vr(r.key),r)}}function Br(e,t,n){return t&&Ir(e.prototype,t),n&&Ir(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vr(e){var t=Fr(e,"string");return"symbol"===Mr(t)?t:String(t)}function Fr(e,t){if("object"!==Mr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Mr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Gr(e){var t=e.clipboardData;if(!t)return null;try{var n=JSON.parse(t.getData("text/plain"));if(!n)return{};if(n.componentsTree)return n;if(n.componentName)return{componentsTree:[n]}}catch(e){return{}}}var Hr,Ur=new(function(){function e(){Dr(this,e),this.copyPasters=[],this.waitFn=void 0}return Br(e,[{key:"isCopyPasteEvent",value:function e(t){this.isCopyPaster(t.target)}},{key:"isCopyPaster",value:function e(t){return this.copyPasters.includes(t)}},{key:"initCopyPaster",value:function e(t){var n=this;this.copyPasters.push(t);var r=function e(r){n.waitFn&&(n.waitFn(Gr(r),r),n.waitFn=void 0),t.blur()};return t.addEventListener("paste",r,!1),function(){t.removeEventListener("paste",r,!1);var e=n.copyPasters.indexOf(t);e>-1&&n.copyPasters.splice(e,1)}}},{key:"injectCopyPaster",value:function e(t){if(!this.copyPasters.find((function(e){return e.ownerDocument===t}))){var n=t.createElement("textarea");n.style.cssText="position: absolute;left: -9999px;top:-100px",t.body.appendChild(n);var r=this.initCopyPaster(n);return function(){r(),t.removeChild(n)}}}},{key:"setData",value:function e(t){var n=this.copyPasters.find((function(e){return e.ownerDocument}));n&&(n.value="string"==typeof t?t:JSON.stringify(t),n.select(),n.ownerDocument.execCommand("copy"),n.blur())}},{key:"waitPasteData",value:function e(t,n){var r=t.view;if(r){var o=this.copyPasters.find((function(e){return e.ownerDocument===r.document}));o&&(o.select(),this.waitFn=n)}}}]),e}()),zr;function Wr(e){return(Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kr(r.key),r)}}function Yr(e,t,n){return t&&Xr(e.prototype,t),n&&Xr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kr(e){var t=qr(e,"string");return"symbol"===Wr(t)?t:String(t)}function qr(e,t){if("object"!==Wr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Wr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Jr="data-setter-prop";function Zr(e,t){var n=e.closest("[".concat(Jr,"]"));return n&&t.contains(n)?n:null}function Qr(e,t){t.setValue(e)}var eo=[];function to(e){eo.push(e)}function no(){eo=[]}var ro=[];function oo(e){ro.push(e)}function io(){ro=[]}var ao=function(){function e(){$r(this,e),this._editing=null,this._dispose=void 0,this._save=void 0}return Yr(e,[{key:"apply",value:function e(t){var n,r,o,i,a=this,u=t.node,c=t.event,s=t.rootElement,l=c.target,f=u.componentMeta.liveTextEditing,p=null===(n=u.document)||void 0===n?void 0:n.designer.editor,h=null==u||null===(r=u.componentMeta)||void 0===r?void 0:r.npm,d=[null==h?void 0:h.package,null==h?void 0:h.componentName].filter((function(e){return!!e})).join("-")||(null==u||null===(o=u.componentMeta)||void 0===o?void 0:o.componentName)||"";null==p||p.eventBus.emit("designer.builtinSimulator.liveEditing",{selected:d});var v=Zr(l,s),y=null===(i=v)||void 0===i?void 0:i.dataset.setterProp,m,b;f?y?m=f.find((function(e){return e.propTarget==y})):(m=f.find((function(e){return!!e.selector&&!!(v=so(s,l,e.selector))})),y=null===(b=m)||void 0===b?void 0:b.propTarget):(ro.some((function(e){return!!(m=e(t))})),m&&(y=m.propTarget,v=m.propElement||so(s,l,m.selector)));if(y&&v){var g,w,O,j=u.getProp(y,!0);if(this._editing===j)return;var S=(null===(g=m)||void 0===g?void 0:g.onSaveContent)||(null===(w=eo.find((function(e){return e.condition(j)})))||void 0===w?void 0:w.onSaveContent)||Qr;v.setAttribute("contenteditable",null!==(O=m)&&void 0!==O&&O.mode&&"plaintext"!==m.mode?"true":"plaintext-only"),v.classList.add("engine-live-editing"),v.focus(),uo(c),this._save=function(){S(v.innerText,j)};var E=function e(t){var n;switch(console.info(t.code),t.code){case"Enter":case"Escape":break;case"Tab":null===(n=v)||void 0===n||n.blur()}},k=function e(){a.saveAndDispose()};v.addEventListener("focusout",k),v.addEventListener("keydown",E,!0),this._dispose=function(){v.classList.remove("engine-live-editing"),v.removeAttribute("contenteditable"),v.removeEventListener("focusout",k),v.removeEventListener("keydown",E,!0)},this._editing=j}}},{key:"editing",get:function e(){return this._editing}},{key:"saveAndDispose",value:function e(){this._save&&(this._save(),this._save=void 0),this.dispose()}},{key:"dispose",value:function e(){this._dispose&&(this._dispose(),this._dispose=void 0),this._editing=null}}]),e}();function uo(e){var t,n=null===(t=e.view)||void 0===t?void 0:t.document;if(n){var r=n.caretRangeFromPoint(e.clientX,e.clientY);r&&(co(n,r),setTimeout((function(){return co(n,r)}),1))}}function co(e,t){var n=e.getSelection();n&&(n.removeAllRanges(),n.addRange(t))}function so(e,t,n){if(!n)return null;var r=":root"===n?e:e.querySelector(n);return r&&(r.contains(t)||(r=Array.from(e.querySelectorAll(n)).find((function(e){return e.contains(t)}))))?r:null}function lo(e){return e.nodeType===Node.ELEMENT_NODE}function fo(e,t){var n=e.getBoundingClientRect(),r=t.contentBounds,o=r.width,i=r.height,a=n.left,u=n.right,c=n.top,s=n.bottom,l=n.width,f=n.height;return a>=-l&&c>=-f&&s<=i+f&&u<=o+l}function po(e){return e.map((function(e){return null==e?void 0:e.toUpperCase()}))}function ho(e,t){var n,r=window.document,o=(null===(n=e.view)||void 0===n?void 0:n.document)||r,i=new Set;return i.add(r),i.add(o),t.forEach((function(e){var t=e.contentDocument;t&&i.add(t)})),function(e){i.forEach((function(t){return e(t)}))}}ao.addLiveEditingSpecificRule=oo,ao.clearLiveEditingSpecificRule=io,ao.addLiveEditingSaveHandler=to,ao.clearLiveEditingSaveHandler=no,Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],ao.prototype,"_editing",void 0);var vo=n(8),yo,mo,bo,go;function wo(e){return(wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Mo(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function jo(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */jo=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==wo(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,k.prototype={constructor:k,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function So(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Eo(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){So(i,r,o,a,u,"next",e)}function u(e){So(i,r,o,a,u,"throw",e)}a(void 0)}))}}function ko(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ko(Object(n),!0).forEach((function(t){Po(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ko(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Po(e,t,n){return(t=To(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function No(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,To(r.key),r)}}function Co(e,t,n){return t&&No(e.prototype,t),n&&No(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function To(e){var t=Ro(e,"string");return"symbol"===wo(t)?t:String(t)}function Ro(e,t){if("object"!==wo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Lo(e,t){return Bo(e)||Io(e,t)||Mo(e,t)||Ao()}function Ao(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Mo(e,t){if(e){if("string"==typeof e)return Do(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Do(e,t):void 0}}function Do(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Io(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function Bo(e){if(Array.isArray(e))return e}var Vo=function(){var e=Object(a.getPublicPath)(),t,n,r=Lo(/^(.+?)(\/js)?\/?$/.exec(e)||[],3),o=r[0],i=r[1],u=void 0===i?"":i,c;return t=r[2]?["".concat(u,"/css/react-simulator-renderer.css"),"".concat(u,"/js/react-simulator-renderer.js")]:["".concat(u,"/react-simulator-renderer.css"),"".concat(u,"/react-simulator-renderer.js")]}(),Fo=function(){var e=Object(a.getPublicPath)(),t,n,r=Lo(/^(.+?)(\/js)?\/?$/.exec(e)||[],3),o=r[0],i=r[1],u=void 0===i?"":i,c;return t=r[2]?["".concat(u,"/css/rax-simulator-renderer.css"),"".concat(u,"/js/rax-simulator-renderer.js")]:["".concat(u,"/rax-simulator-renderer.css"),"".concat(u,"/rax-simulator-renderer.js")]}(),Go=[Object(s.h)(s.d.JSText,"window.React=parent.React;window.ReactDOM=parent.ReactDOM;window.__is_simulator_env__=true;",void 0,"react"),Object(s.h)(s.d.JSText,"window.PropTypes=parent.PropTypes;React.PropTypes=parent.PropTypes; window.__REACT_DEVTOOLS_GLOBAL_HOOK__ = window.parent.__REACT_DEVTOOLS_GLOBAL_HOOK__;")],Ho=[Object(s.h)(s.d.JSText,"window.Rax=parent.Rax;window.React=parent.React;window.ReactDOM=parent.ReactDOM;window.VisualEngineUtils=parent.VisualEngineUtils;window.VisualEngine=parent.VisualEngine"),Object(s.h)(s.d.JSText,"window.PropTypes=parent.PropTypes;React.PropTypes=parent.PropTypes; window.__REACT_DEVTOOLS_GLOBAL_HOOK__ = window.parent.__REACT_DEVTOOLS_GLOBAL_HOOK__;")],Uo=function(){function e(t,n){var r=this;xo(this,e),this.isSimulator=!0,this.project=void 0,this.designer=void 0,this.viewport=new nr,this.scroller=void 0,this.emitter=Object(a.createModuleEventBus)("BuiltinSimulatorHost"),this.componentsConsumer=void 0,this.injectionConsumer=void 0,this.i18nConsumer=void 0,this.autoRender=!0,this._props={},this._contentWindow=void 0,this._contentDocument=void 0,this._renderer=void 0,this.asyncLibraryMap={},this.libraryMap={},this._iframe=void 0,this.disableHovering=void 0,this.disableDetecting=void 0,this.liveEditing=new ao,this.instancesMap={},this.tryScrollAgain=null,this._sensorAvailable=!0,this.sensing=!1,Object(a.makeObservable)(this),this.project=t,this.designer=n,this.scroller=this.designer.createScroller(this.viewport),this.autoRender=!a.engineConfig.get("disableAutoRender",!1),this.componentsConsumer=new br((function(){return r.componentsAsset})),this.injectionConsumer=new br((function(){return{appHelper:a.engineConfig.get("appHelper")}})),this.i18nConsumer=new br((function(){return r.project.i18n})),s.bb.onStartTransaction((function(){r.stopAutoRepaintNode()}),u.i.REPAINT);var o=Object(vo.debounce)(this.rerender.bind(this),28);s.bb.onEndTransaction((function(){o(),r.enableAutoRepaintNode()}),u.i.REPAINT)}return Co(e,[{key:"currentDocument",get:function e(){return this.project.currentDocument}},{key:"renderEnv",get:function e(){return this.get("renderEnv")||"default"}},{key:"device",get:function e(){return this.get("device")||"default"}},{key:"locale",get:function e(){return this.get("locale")||a.globalLocale.getLocale()}},{key:"deviceClassName",get:function e(){return this.get("deviceClassName")}},{key:"designMode",get:function e(){return this.get("designMode")||"design"}},{key:"requestHandlersMap",get:function e(){return this.get("requestHandlersMap")||null}},{key:"thisRequiredInJSE",get:function e(){var t;return null===(t=a.engineConfig.get("thisRequiredInJSE"))||void 0===t||t}},{key:"enableStrictNotFoundMode",get:function e(){var t;return null!==(t=a.engineConfig.get("enableStrictNotFoundMode"))&&void 0!==t&&t}},{key:"notFoundComponent",get:function e(){var t;return null!==(t=a.engineConfig.get("notFoundComponent"))&&void 0!==t?t:null}},{key:"faultComponent",get:function e(){var t;return null!==(t=a.engineConfig.get("faultComponent"))&&void 0!==t?t:null}},{key:"faultComponentMap",get:function e(){var t;return null!==(t=a.engineConfig.get("faultComponentMap"))&&void 0!==t?t:null}},{key:"componentsAsset",get:function e(){return this.get("componentsAsset")}},{key:"theme",get:function e(){return this.get("theme")}},{key:"componentsMap",get:function e(){return this.designer.componentsMap}},{key:"deviceStyle",get:function e(){return this.get("deviceStyle")}},{key:"contentWindow",get:function e(){return this._contentWindow}},{key:"contentDocument",get:function e(){return this._contentDocument}},{key:"renderer",get:function e(){return this._renderer}},{key:"sensorAvailable",get:function e(){return this._sensorAvailable}},{key:"stopAutoRepaintNode",value:function e(){var t;null===(t=this.renderer)||void 0===t||t.stopAutoRepaintNode()}},{key:"enableAutoRepaintNode",value:function e(){var t;null===(t=this.renderer)||void 0===t||t.enableAutoRepaintNode()}},{key:"setProps",value:function e(t){this._props=t}},{key:"set",value:function e(t,n){this._props=_o(_o({},this._props),{},Po({},t,n))}},{key:"get",value:function e(t){var n,r,o,i;return"device"===t?(null===(n=this.designer)||void 0===n||null===(r=n.editor)||void 0===r||null===(o=r.get("deviceMapper"))||void 0===o||null===(i=o.transform)||void 0===i?void 0:i.call(o,this._props.device))||this._props.device:this._props[t]}},{key:"connect",value:function e(t,n,r){return this._renderer=t,Object(a.autorun)(n,r)}},{key:"reaction",value:function e(t,n,r){return Object(a.reaction)(t,n,r)}},{key:"autorun",value:function e(t,n){return Object(a.autorun)(t,n)}},{key:"purge",value:function e(){}},{key:"mountViewport",value:function e(t){this.viewport.mount(t)}},{key:"buildLibrary",value:function e(t){var n=this,r=t||this.get("library"),o=[],i=[],a=[];return r&&r.length&&r.forEach((function(e){var t=e.exportMode,r=e.exportSourceLibrary;n.libraryMap[e.package]=e.library,e.async&&(n.asyncLibraryMap[e.package]=e),e.exportName&&e.library&&i.push("Object.defineProperty(window,'".concat(e.exportName,"',{get:()=>window.").concat(e.library,"});")),"functionCall"===t&&r&&a.push('window["'.concat(e.library,'"] = window["').concat(r,'"]("').concat(e.library,'", "').concat(e.package,'");')),e.editUrls?o.push(e.editUrls):e.urls&&o.push(e.urls)})),o.unshift(Object(s.h)(s.d.JSText,i.join(""))),o.push(Object(s.h)(s.d.JSText,a.join(""))),o}},{key:"rerender",value:function e(){var t,n;this.designer.refreshComponentMetasMap(),null===(t=this.renderer)||void 0===t||null===(n=t.rerender)||void 0===n||n.call(t)}},{key:"mountContentFrame",value:function(){var e=Eo(jo().mark((function e(t){var n=this,r,o,i,u;return jo().wrap((function e(c){for(;;)switch(c.prev=c.next){case 0:if(t&&this._iframe!==t){c.next=2;break}return c.abrupt("return");case 2:return this._iframe=t,this._contentWindow=t.contentWindow,this._contentDocument=this._contentWindow.document,r=this.buildLibrary(),o=[Object(s.g)(this.get("environment")||("rax"===this.renderEnv?Ho:Go),s.a.Environment),Object(s.g)(this.get("extraEnvironment"),s.a.Environment),Object(s.g)(r,s.a.Library),Object(s.g)(this.theme,s.a.Theme),Object(s.g)(this.get("simulatorUrl")||("rax"===this.renderEnv?Fo:Vo),s.a.Runtime)],c.next=9,ar(this,t,o);case 9:return i=c.sent,c.next=12,this.componentsConsumer.waitFirstConsume();case 12:return c.next=14,this.injectionConsumer.waitFirstConsume();case 14:if(!(Object.keys(this.asyncLibraryMap).length>0)){c.next=18;break}return c.next=17,i.loadAsyncLibrary(this.asyncLibraryMap);case 17:Object.keys(this.asyncLibraryMap).forEach((function(e){delete n.asyncLibraryMap[e]}));case 18:i.run(),this.viewport.setScrollTarget(this._contentWindow),this.setupEvents(),(u=this.designer.editor.get("innerHotkey")).mount(this._contentWindow),a.focusTracker.mount(this._contentWindow),Ur.injectCopyPaster(this._contentDocument);case 25:case"end":return c.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setupComponents",value:function(){var e=Eo(jo().mark((function e(t){var n,r=this,o,i;return jo().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:return o=this.buildLibrary(t),a.next=3,null===(n=this.renderer)||void 0===n?void 0:n.load(o);case 3:if(!(Object.keys(this.asyncLibraryMap).length>0)){a.next=7;break}return a.next=6,null===(i=this.renderer)||void 0===i?void 0:i.loadAsyncLibrary(this.asyncLibraryMap);case 6:Object.keys(this.asyncLibraryMap).forEach((function(e){delete r.asyncLibraryMap[e]}));case 7:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setupEvents",value:function e(){this.setupDragAndClick(),this.setupDetecting(),this.setupLiveEditing(),this.setupContextMenu()}},{key:"postEvent",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this.emitter).emit.apply(n,[t].concat(o))}},{key:"setupDragAndClick",value:function e(){var t=this,n=this.designer,r=this.contentDocument;r.addEventListener("mousedown",(function(e){var o,i;document.dispatchEvent(new Event("mousedown"));var a=t.project.currentDocument;if(!t.liveEditing.editing&&a){var c=a.selection,s=!1;if("design"===t.designMode)s=e.metaKey||e.ctrlKey;else if(!e.metaKey)return;null===(o=e.target)||void 0===o||o.removeAttribute("for");var l=t.getNodeInstanceFromElement(e.target),f=a.focusNode,p=Ar((null==l?void 0:l.node)||f,e);if(p){var h=null===(i=p.componentMeta.advanced.callbacks)||void 0===i?void 0:i.onMouseDownHook;h&&h(e,p.internalToShellNode());var d=null==p?void 0:p.getParent(),v=null==d?void 0:d.isRGLContainer;if(v){var y;if(null!==(y=e.target)&&void 0!==y&&y.classList.contains("react-resizable-handle"))return;s=!1,n.dragon.emitter.emit("rgl.switch",{action:"start",rglNode:d})}else e.stopPropagation(),e.preventDefault();var m,b=function o(i){if(r.removeEventListener("mouseup",o,!0),n.dragon.emitter.emit("rgl.switch",{action:"end",rglNode:d}),!bc(e,i)||v){var a=p.id;if(n.activeTracker.track({node:p,instance:null==l?void 0:l.instance}),s&&f&&!p.contains(f)&&c.has(a))c.remove(a);else{var u,h,y,m;if(p.isPage()&&null!==(u=p.getChildren())&&void 0!==u&&u.notEmpty()&&"live"===t.designMode){var b,g,w=null===(b=p.getChildren())||void 0===b||null===(g=b.get(0))||void 0===g?void 0:g.getId();w&&(a=w)}f&&c.select(p.contains(f)?f.id:a);var O=null===(h=t.designer)||void 0===h?void 0:h.editor,j=null==p||null===(y=p.componentMeta)||void 0===y?void 0:y.npm,S=[null==j?void 0:j.package,null==j?void 0:j.componentName].filter((function(e){return!!e})).join("-")||(null==p||null===(m=p.componentMeta)||void 0===m?void 0:m.componentName)||"";null==O||O.eventBus.emit("designer.builtinSimulator.select",{selected:S})}}};if((1===e.which||0===e.button)&&f&&!p.contains(f)){var g=[p],w=!1;if(s?(c.has(p.id)||(n.activeTracker.track({node:p,instance:null==l?void 0:l.instance}),c.add(p.id),w=!0),(null==f?void 0:f.id)&&c.remove(f.id),g=c.getTopNodes()):c.containsNode(p,!0)&&(g=c.getTopNodes()),n.dragon.boost({type:u.f.Node,nodes:g},e,v?d:void 0),w)return}r.addEventListener("mouseup",b,!0)}}}),!0),r.addEventListener("click",(function(e){var n,r=new Event("click");r.initEvent("click",!0),null===(n=t._iframe)||void 0===n||n.dispatchEvent(r);var o=e.target,i=a.engineConfig.get("customizeIgnoreSelectors"),u=[".next-input-group",".next-checkbox-group",".next-checkbox-wrapper",".next-date-picker",".next-input",".next-month-picker",".next-number-picker",".next-radio-group",".next-range",".next-range-picker",".next-rating",".next-select",".next-switch",".next-time-picker",".next-upload",".next-year-picker",".next-breadcrumb-item",".next-calendar-header",".next-calendar-table",".editor-container"],c,l=((null==i?void 0:i(u,e))||u).join(",");(!i&&Object(s.F)(e)||null!=o&&o.closest(l))&&(e.preventDefault(),e.stopPropagation())}),!0)}},{key:"setupDetecting",value:function e(){var t=this,n=this.contentDocument,r=this.designer,o=r.detecting,i=r.dragon,u=function e(n){if(o.enable&&"design"===t.designMode){var r=t.getNodeInstanceFromElement(n.target);if(null!=r&&r.node){var u,c=r.node,s=null===(u=c.document)||void 0===u?void 0:u.focusNode;s&&c.contains(s)&&(c=s),o.capture(c)}else o.capture(null);a.engineConfig.get("enableMouseEventPropagationInCanvas",!1)&&!i.dragging||n.stopPropagation()}},c=function e(){t.project.currentDocument&&o.leave(t.project.currentDocument)};n.addEventListener("mouseover",u,!0),n.addEventListener("mouseleave",c,!1),n.addEventListener("mousemove",(function(e){a.engineConfig.get("enableMouseEventPropagationInCanvas",!1)&&!i.dragging||e.stopPropagation()}),!0)}},{key:"setupLiveEditing",value:function e(){var t=this,n;this.contentDocument.addEventListener("dblclick",(function(e){var n,r;e.stopPropagation(),e.preventDefault();var o=e.target,i=t.getNodeInstanceFromElement(o);if(i){var a=null===(n=t.project.currentDocument)||void 0===n?void 0:n.focusNode,u=i.node||a;if(u&&!et(u)){var c=null===(r=t.findDOMNodes(i.instance,u.componentMeta.rootSelector))||void 0===r?void 0:r.find((function(e){return e&&e.contains(o)}));c&&t.liveEditing.apply({node:u,rootElement:c,event:e})}}}),!0)}},{key:"setSuspense",value:function e(){return!1}},{key:"setupContextMenu",value:function e(){var t=this,n;this.contentDocument.addEventListener("contextmenu",(function(e){var n,r,o,i,a=e.target,u=t.getNodeInstanceFromElement(a);if(u){var c=u.node||(null===(n=t.project.currentDocument)||void 0===n?void 0:n.focusNode);if(c){var s=null===(r=t.designer)||void 0===r?void 0:r.editor,l=null==c||null===(o=c.componentMeta)||void 0===o?void 0:o.npm,f=[null==l?void 0:l.package,null==l?void 0:l.componentName].filter((function(e){return!!e})).join("-")||(null==c||null===(i=c.componentMeta)||void 0===i?void 0:i.componentName)||"";null==s||s.eventBus.emit("designer.builtinSimulator.contextmenu",_o(_o({selected:f},u),{},{instanceRect:t.computeComponentInstanceRect(u.instance),originalEvent:e}))}}}))}},{key:"generateComponentMetadata",value:function e(t){if(zo(t))return{componentName:t};var n=this.getComponent(t);return n?_o({componentName:t},Lr(n)):{componentName:t}}},{key:"getComponent",value:function e(t){var n;return(null===(n=this.renderer)||void 0===n?void 0:n.getComponent(t))||null}},{key:"createComponent",value:function e(){return null}},{key:"setInstance",value:function e(t,n,r){Object(s.t)(this.instancesMap,t)||(this.instancesMap[t]=new Map),null==r?this.instancesMap[t].delete(n):this.instancesMap[t].set(n,r.slice())}},{key:"getComponentInstances",value:function e(t,n){var r,o,i=this,a=null===(r=t.document)||void 0===r?void 0:r.id;if(!a)return null;var u=(null===(o=this.instancesMap[a])||void 0===o?void 0:o.get(t.id))||null;return u&&n?u.filter((function(e){var t;return(null===(t=i.getClosestNodeInstance(e,null==n?void 0:n.nodeId))||void 0===t?void 0:t.instance)===n.instance})):u}},{key:"getComponentContext",value:function e(){throw new Error("Method not implemented.")}},{key:"getClosestNodeInstance",value:function e(t,n){var r;return(null===(r=this.renderer)||void 0===r?void 0:r.getClosestNodeInstance(t,n))||null}},{key:"computeRect",value:function e(t){var n=this.getComponentInstances(t);return n?this.computeComponentInstanceRect(n[0],t.componentMeta.rootSelector):null}},{key:"computeComponentInstanceRect",value:function e(t,n){var r=this.renderer,o=this.findDOMNodes(t,n);if(!o)return null;for(var i=o.slice(),a,u,c=!1;;){if(!a||a.length<1){var s=i.pop();if(!s)break;a=r.getClientRects(s)}var l=a.pop();if(!l)break;0===l.width&&0===l.height||(u?(l.left<u.x&&(u.x=l.left,c=!0),l.top<u.y&&(u.y=l.top,c=!0),l.right>u.r&&(u.r=l.right,c=!0),l.bottom>u.b&&(u.b=l.bottom,c=!0)):u={x:l.left,y:l.top,r:l.right,b:l.bottom})}if(u){var f=new DOMRect(u.x,u.y,u.r-u.x,u.b-u.y);return f.elements=o,f.computed=c,f}return null}},{key:"findDOMNodes",value:function e(t,n){var r,o=null===(r=this._renderer)||void 0===r?void 0:r.findDOMNodes(t);if(!o)return null;if(n){var i=Ko(o,n);return i?[i]:null}return o}},{key:"getNodeInstanceFromElement",value:function e(t){if(!t)return null;var n=this.getClosestNodeInstance(t);if(!n)return null;var r=n.docId,o,i=this.project.getDocument(r).getNode(n.nodeId);return _o(_o({},n),{},{node:i})}},{key:"scrollToNode",value:function e(t,n){var r,o,i;if(this.tryScrollAgain=null,!this.sensing){var a={},u=!1,c=null===(r=this.getComponentInstances((null==n||null===(o=n.near)||void 0===o?void 0:o.node)||t))||void 0===r?void 0:r[0];if(c){var s=null===(i=this.findDOMNodes(c))||void 0===i?void 0:i[0];if(s){if(lo(s)&&!fo(s,this.viewport)){var l,f=s.getBoundingClientRect(),p=f.left,h=f.top,d=(null===(l=this.contentDocument)||void 0===l?void 0:l.documentElement)||{},v=d.scrollTop,y=void 0===v?0:v,m=d.scrollLeft,b=void 0===m?0:m;a.left=p+b,a.top=h+y,u=!0}u&&this.scroller&&this.scroller.scrollTo(a)}}}}},{key:"setNativeSelection",value:function e(t){var n;null===(n=this.renderer)||void 0===n||n.setNativeSelection(t)}},{key:"setDraggingState",value:function e(t){var n;null===(n=this.renderer)||void 0===n||n.setDraggingState(t)}},{key:"setCopyState",value:function e(t){var n;null===(n=this.renderer)||void 0===n||n.setCopyState(t)}},{key:"clearState",value:function e(){var t;null===(t=this.renderer)||void 0===t||t.clearState()}},{key:"fixEvent",value:function e(t){var n;if(t.fixed)return t;var r=(null===(n=t.originalEvent.view)||void 0===n?void 0:n.document)!==this.contentDocument,o;if(r||!("canvasX"in t)||!("canvasY"in t)){var i=this.viewport.toLocalPoint({clientX:t.globalX,clientY:t.globalY});t.canvasX=i.clientX,t.canvasY=i.clientY}t.target&&!r||(isNaN(t.canvasX)||isNaN(t.canvasY)||(t.target=null===(o=this.contentDocument)||void 0===o?void 0:o.elementFromPoint(t.canvasX,t.canvasY)));return t.fixed=!0,t}},{key:"isEnter",value:function e(t){var n=this.viewport.bounds;return t.globalY>=n.top&&t.globalY<=n.bottom&&t.globalX>=n.left&&t.globalX<=n.right}},{key:"deactiveSensor",value:function e(){this.sensing=!1,this.scroller.cancel()}},{key:"locate",value:function e(t){var n=this,r=t.dragObject,o=null==r?void 0:r.nodes,i=null==o?void 0:o.filter((function(e){for(var t,n,r,o,i,a=null===(t=e.componentMeta)||void 0===t||null===(n=t.advanced.callbacks)||void 0===n?void 0:n.onMoveHook,u=!a||"function"!=typeof a||a(e.internalToShellNode()),c=null,s=e.parent;s;){if(s.isContainer()){c=s;break}s=s.parent}var l=null===(r=c)||void 0===r||null===(o=r.componentMeta)||void 0===o||null===(i=o.advanced.callbacks)||void 0===i?void 0:i.onChildMoveHook,f=!l||!c||"function"!=typeof l||l(e.internalToShellNode(),c.internalToShellNode());return u&&f}));if(!o||i&&0!==i.length){this.sensing=!0,this.scroller.scrolling(t);var a=this.project.currentDocument;if(!a)return null;var c=this.getDropContainer(t),l;if(Object(s.q)(null==c?void 0:c.container,(function(e){return e.isLocked})))return null;if(!c)return null;if(Object(s.L)(c))return this.designer.createLocation(c);var f=c.container,p=c.instance,h=this.computeComponentInstanceRect(p,f.componentMeta.rootSelector);if(!h)return null;var d=f.children,v={type:u.j.Children,index:0,edge:h},y={target:f,detail:v,source:"simulator".concat(a.id),event:t};if(t.dragObject&&t.dragObject.nodes&&t.dragObject.nodes.length&&t.dragObject.nodes[0].componentMeta.isModal&&a.focusNode)return this.designer.createLocation({target:a.focusNode,detail:v,source:"simulator".concat(a.id),event:t});if(!d||d.size<1||!h)return this.designer.createLocation(y);for(var m=null,b=0,g=null,w=null,O=null,j=null,S=0,E=d.size;S<E;S++){var k=d.get(S),_=S,P=this.getComponentInstances(k),x=P?P.length>1?P.find((function(e){var t;return(null===(t=n.getClosestNodeInstance(e,f.id))||void 0===t?void 0:t.instance)===p})):P[0]:null,N=x?this.computeComponentInstanceRect(x,k.componentMeta.rootSelector):null;if(N){var C=Wo(t,N)?0:$o(t,N);if(0===C){w=C,g=k,b=_,m=N;break}(null===O||N.top<O)&&(O=N.top),(null===j||N.bottom>j)&&(j=N.bottom),(null===w||C<w)&&(w=C,g=k,b=_,m=N)}}if(v.index=b,g&&m){var T=qc(m),R=!!T&&Kc(T),L=!!T&&Yc(T.parentElement),A=R||L,M={node:g.internalToShellNode(),pos:"before",align:A?"V":"H"};if(v.near=M,Yo(t,m,A)&&(M.pos="after",v.index=b+1),!L&&0!==w){var D=Xo(t,h);if(D.distance<w){var I=D.nearAfter;null==O&&(O=h.top),null==j&&(j=h.bottom),M.rect=new DOMRect(h.left,O,h.width,j-O),M.align="H",M.pos=I?"after":"before",v.index=I?d.size:0}}}return this.designer.createLocation(y)}}},{key:"getDropContainer",value:function e(t){var n,r=t.target,o=t.dragObject,i=Object(s.A)(o),a=this.project.currentDocument,u=a.currentRoot,c,l,f;if(r){var p=this.getNodeInstanceFromElement(r);if(null!=p&&p.node)l=p,c=p.node;else{if(i)return null;c=u}}else{if(i)return null;c=u}null!==(n=c)&&void 0!==n&&n.isParental()||(c=(null===(f=c)||void 0===f?void 0:f.parent)||u);if(i)return null;var h=new Set,d,v,y,m;if(Object(s.C)(o)){for(var b=o.nodes,g=b.length,w=c;g-- >0;)nt(b[g],w)&&(w=b[g].parent);w!==c&&(c=w||a.focusNode)&&h.add(c)}l?d=l.node===c?l.instance:null===(v=this.getClosestNodeInstance(l.instance,null===(y=c)||void 0===y?void 0:y.id))||void 0===v?void 0:v.instance:d=c&&(null===(m=this.getComponentInstances(c))||void 0===m?void 0:m[0]);for(var O={container:c,instance:d},j,S=null;c;){if(!0===(j=this.handleAccept(O,t)))return O;if(!j)if(h.add(c),S)c=(O=S).container,S=null;else{if(!c.parent)return null;var E;O={container:c=c.parent,instance:d=null===(E=this.getClosestNodeInstance(O.instance,c.id))||void 0===E?void 0:E.instance}}}return null}},{key:"isAcceptable",value:function e(){return!1}},{key:"handleAccept",value:function e(t,n){var r=t.container,o=n.dragObject,i=this.currentDocument,a=i.focusNode;if(Qe(r)||r.contains(a))return i.checkNesting(a,o);var u=r.componentMeta,c=this.isAcceptable(r);return!(!u.isContainer&&!c)&&i.checkNesting(r,o)}},{key:"getNearByContainer",value:function e(t,n){var r=t.container,o=t.instance,i=r.children;if(!i||i.isEmpty())return null;for(var a=null,u=0,c=i.size;u<c;u++){var s=i.get(u);if(s){if(s.conditionGroup){var l=s.conditionGroup;u=(l.index||0)+l.length-1,s=l.visibleNode}if(s.isParental()&&!n.has(s)){this.findDOMNodes(o),this.getComponentInstances(s);var f=this.computeRect(s)}}}return null}}]),e}();function zo(e){return/^[a-z]\w*$/.test(e)}function Wo(e,t){return e.canvasY>=t.top&&e.canvasY<=t.bottom&&e.canvasX>=t.left&&e.canvasX<=t.right}function $o(e,t){var n=Math.min(Math.abs(e.canvasX-t.left),Math.abs(e.canvasX-t.right)),r=Math.min(Math.abs(e.canvasY-t.top),Math.abs(e.canvasY-t.bottom));return e.canvasX>=t.left&&e.canvasX<=t.right&&(n=0),e.canvasY>=t.top&&e.canvasY<=t.bottom&&(r=0),Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}function Xo(e,t){var n=Math.abs(e.canvasY-t.top),r=Math.abs(e.canvasY-t.bottom);return{distance:Math.min(n,r),nearAfter:r<n}}function Yo(e,t,n){return n?Math.abs(e.canvasX-t.left)+Math.abs(e.canvasY-t.top)>Math.abs(e.canvasX-t.right)+Math.abs(e.canvasY-t.bottom):Math.abs(e.canvasY-t.top)>Math.abs(e.canvasY-t.bottom)}function Ko(e,t){var n=null,r=Oo(e),o;try{for(r.s();!(o=r.n()).done;){var i=o.value;if(Object(s.E)(i)){if(i.matches(t))return i;n||(n=i.querySelector(t))}}}catch(e){r.e(e)}finally{r.f()}return n}Object(c.b)([a.computed,Object(c.d)("design:type",String),Object(c.d)("design:paramtypes",[])],Uo.prototype,"renderEnv",null),Object(c.b)([a.computed,Object(c.d)("design:type",String),Object(c.d)("design:paramtypes",[])],Uo.prototype,"device",null),Object(c.b)([a.computed,Object(c.d)("design:type",String),Object(c.d)("design:paramtypes",[])],Uo.prototype,"locale",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Uo.prototype,"deviceClassName",null),Object(c.b)([a.computed,Object(c.d)("design:type",String),Object(c.d)("design:paramtypes",[])],Uo.prototype,"designMode",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Uo.prototype,"requestHandlersMap",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Uo.prototype,"componentsAsset",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Uo.prototype,"theme",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Uo.prototype,"componentsMap",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Uo.prototype,"deviceStyle",null),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Uo.prototype,"_props",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type","function"==typeof(bo="undefined"!=typeof Window&&Window)?bo:Object)],Uo.prototype,"_contentWindow",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type","function"==typeof(go="undefined"!=typeof Document&&Document)?go:Object)],Uo.prototype,"_contentDocument",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],Uo.prototype,"instancesMap",void 0);var qo=n(5),Jo=n.n(qo);function Zo(e){return(Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ni(r.key),r)}}function ti(e,t,n){return t&&ei(e.prototype,t),n&&ei(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ni(e){var t=ri(e,"string");return"symbol"===Zo(t)?t:String(t)}function ri(e,t){if("object"!==Zo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Zo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function oi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ii(e,t)}function ii(e,t){return(ii=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function ai(e){var t=si();return function n(){var r=li(e),o;if(t){var i=li(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ui(this,o)}}function ui(e,t){if(t&&("object"===Zo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ci(e)}function ci(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function si(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function li(e){return(li=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var fi=function(e){oi(n,e);var t=ai(n);function n(){return Qo(this,n),t.apply(this,arguments)}return ti(n,[{key:"render",value:function e(){var t=this.props,n=t.title,r=t.rect,o=t.scale,i=t.scrollX,u=t.scrollY,c=t.isLocked;if(!r)return null;var s={width:r.width*o,height:r.height*o,transform:"translate(".concat((i+r.left)*o,"px, ").concat((u+r.top)*o,"px)")},l=Jo()("lc-borders lc-borders-detecting");return React.createElement("div",{className:l,style:s},React.createElement(a.Title,{title:n,className:"lc-borders-title"}),c?React.createElement(a.Title,{title:ve("locked"),className:"lc-borders-status"}):null)}}]),n}(r.PureComponent),pi=function(e){oi(n,e);var t=ai(n);function n(){return Qo(this,n),t.apply(this,arguments)}return ti(n,[{key:"scale",get:function e(){return this.props.host.viewport.scale}},{key:"scrollX",get:function e(){return this.props.host.viewport.scrollX}},{key:"scrollY",get:function e(){return this.props.host.viewport.scrollY}},{key:"current",get:function e(){var t=this.props.host,n=t.currentDocument;if(!n)return null;var r=n.selection,o=t.designer.detecting.current;return!o||o.document!==n||r.has(o.id)?null:o}},{key:"render",value:function e(){var t,n=this,o=this.props.host,i=this.current,a=null==i||null===(t=i.componentMeta.advanced.callbacks)||void 0===t?void 0:t.onHoverHook,u;if(!(!a||"function"!=typeof a||a(i.internalToShellNode()))||!i||o.viewport.scrolling||o.liveEditing.editing)return null;var c=i.document.focusNode;if(!c.contains(i))return null;if(i.contains(c)){var l=o.viewport.bounds;return React.createElement(fi,{key:"line-root",title:i.title,scale:this.scale,scrollX:o.viewport.scrollX,scrollY:o.viewport.scrollY,rect:new DOMRect(0,0,l.width,l.height)})}var f=Object(s.q)(i,(function(e){var t;return!!(null!=i&&i.isLocked?null===(t=e.parent)||void 0===t?void 0:t.isLocked:e.isLocked)}));if(f&&f.getId()!==i.getId())return React.createElement(fi,{key:"line-h",title:i.title,scale:this.scale,scrollX:this.scrollX,scrollY:this.scrollY,rect:o.computeComponentInstanceRect(o.getComponentInstances(f)[0],f.componentMeta.rootSelector),isLocked:(null==f?void 0:f.getId())!==i.getId()});var p=o.getComponentInstances(i);return!p||p.length<1?null:1===p.length?React.createElement(fi,{key:"line-h",title:i.title,scale:this.scale,scrollX:this.scrollX,scrollY:this.scrollY,rect:o.computeComponentInstanceRect(p[0],i.componentMeta.rootSelector)}):React.createElement(r.Fragment,null,p.map((function(e,t){return React.createElement(fi,{key:"line-h-".concat(t),title:i.title,scale:n.scale,scrollX:n.scrollX,scrollY:n.scrollY,rect:o.computeComponentInstanceRect(e,i.componentMeta.rootSelector)})})))}}]),n}(r.Component);function hi(e){return(hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function di(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mi(r.key),r)}}function yi(e,t,n){return t&&vi(e.prototype,t),n&&vi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mi(e){var t=bi(e,"string");return"symbol"===hi(t)?t:String(t)}function bi(e,t){if("object"!==hi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==hi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function gi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wi(e,t)}function wi(e,t){return(wi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Oi(e){var t=Ei();return function n(){var r=ki(e),o;if(t){var i=ki(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ji(this,o)}}function ji(e,t){if(t&&("object"===hi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Si(e)}function Si(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ei(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ki(e){return(ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],pi.prototype,"scale",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],pi.prototype,"scrollX",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],pi.prototype,"scrollY",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],pi.prototype,"current",null),pi=Object(c.b)([a.observer],pi);var _i=function(e){gi(n,e);var t=Oi(n);function n(){return di(this,n),t.apply(this,arguments)}return yi(n,[{key:"render",value:function e(){var t=this.props,n=t.title,o=t.rect,i=t.scale,u=t.scrollX,c=t.scrollY;if(!o)return null;var s={width:o.width*i,height:o.height*i,transform:"translate(".concat((u+o.left)*i,"px, ").concat((c+o.top)*i,"px)")},l=Jo()("lc-borders lc-borders-detecting");return r.createElement("div",{className:l,style:s},r.createElement(a.Title,{title:n,className:"lc-borders-title"}))}}]),n}(r.PureComponent);function Pi(e){if("string"==typeof e)return e;if(Object(s.G)(e)){var t=a.globalLocale.getLocale()||"zh-CN";return"\u5c06\u653e\u5165\u5230\u6b64".concat(e[t])}return""}var xi=function(e){gi(n,e);var t=Oi(n);function n(){var e;di(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={},e}return yi(n,[{key:"scale",get:function e(){return this.props.host.viewport.scale}},{key:"scrollX",get:function e(){return this.props.host.viewport.scrollX}},{key:"scrollY",get:function e(){return this.props.host.viewport.scrollY}},{key:"componentDidMount",value:function e(){var t=this,n;this.props.host.designer.editor.eventBus.on("designer.dropLocation.change",(function(e){var n;t.state.target!==(null==e?void 0:e.target)&&t.setState({target:null==e?void 0:e.target})}))}},{key:"render",value:function e(){var t=this,n=this.props.host,o=this.state.target;if(null==o)return null;var i=n.getComponentInstances(o);return!i||i.length<1?null:1===i.length?r.createElement(_i,{key:"line-h",title:Pi(o.componentMeta.title),scale:this.scale,scrollX:this.scrollX,scrollY:this.scrollY,rect:n.computeComponentInstanceRect(i[0],o.componentMeta.rootSelector)}):r.createElement(r.Fragment,null,i.map((function(e,i){return r.createElement(_i,{key:"line-h-".concat(i),title:Pi(o.componentMeta.title),scale:t.scale,scrollX:t.scrollX,scrollY:t.scrollY,rect:n.computeComponentInstanceRect(e,o.componentMeta.rootSelector)})})))}}]),n}(r.Component);Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],xi.prototype,"scale",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],xi.prototype,"scrollX",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],xi.prototype,"scrollY",null),xi=Object(c.b)([a.observer],xi);var Ni=n(7),Ci=n(88);function Ti(e){return(Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ri(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mi(r.key),r)}}function Ai(e,t,n){return t&&Li(e.prototype,t),n&&Li(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mi(e){var t=Di(e,"string");return"symbol"===Ti(t)?t:String(t)}function Di(e,t){if("object"!==Ti(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ti(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ii(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bi(e,t)}function Bi(e,t){return(Bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Vi(e){var t=Hi();return function n(){var r=Ui(e),o;if(t){var i=Ui(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Fi(this,o)}}function Fi(e,t){if(t&&("object"===Ti(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gi(e)}function Gi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hi(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ui(e){return(Ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var zi=Ni.Overlay.Popup,Wi=function(e){Ii(n,e);var t=Vi(n);function n(){var e;Ri(this,n);for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return(e=t.call.apply(t,[this].concat(i))).state={parentNodes:[]},e.getParentNodes=function(e){var t,n=[],r=null===(t=e.document)||void 0===t?void 0:t.focusNode;if(!r)return null;if(e.contains(r)||!r.contains(e))return n;for(var o=e;o&&n.length<5&&((o=o.getParent())&&n.push(o),o!==r););return n},e.onSelect=function(e){return function(t){var n;if(e&&(Object(s.i)(e.internalToShellNode(),t)&&"function"==typeof e.select)){var r,o,i;e.select();var a=null===(r=e.document)||void 0===r?void 0:r.designer.editor,u=null==e||null===(o=e.componentMeta)||void 0===o?void 0:o.npm,c=[null==u?void 0:u.package,null==u?void 0:u.componentName].filter((function(e){return!!e})).join("-")||(null==e||null===(i=e.componentMeta)||void 0===i?void 0:i.componentName)||"";null==a||a.eventBus.emit("designer.border.action",{name:"select",selected:c})}}},e.onMouseOver=function(e){return function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&"function"==typeof e.hover&&e.hover(n)}},e.onMouseOut=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&"function"==typeof e.hover&&e.hover(n)}},e.renderNodes=function(){var t=e.state.parentNodes,n;return!t||t.length<1?null:t.map((function(t,n){return o.a.createElement("div",{key:n,onClick:e.onSelect(t),onMouseEnter:e.onMouseOver(t),onMouseLeave:e.onMouseOut(t),className:"instance-node-selector-node"},o.a.createElement("div",{className:"instance-node-selector-node-content"},o.a.createElement(a.Title,{className:"instance-node-selector-node-title",title:{label:t.title,icon:t.icon}})))}))},e}return Ai(n,[{key:"componentDidMount",value:function e(){var t=this.getParentNodes(this.props.node);this.setState({parentNodes:null!=t?t:[]})}},{key:"render",value:function e(){var t=this.props.node;return o.a.createElement("div",{className:"instance-node-selector"},o.a.createElement(zi,{trigger:o.a.createElement("div",{className:"instance-node-selector-current"},o.a.createElement(a.Title,{className:"instance-node-selector-node-title",title:{label:t.title,icon:t.icon}})),triggerType:"hover",offset:[0,0]},o.a.createElement("div",{className:"instance-node-selector"},this.renderNodes())))}}]),n}(o.a.Component);function $i(e){return($i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qi(r.key),r)}}function Ki(e,t,n){return t&&Yi(e.prototype,t),n&&Yi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qi(e){var t=Ji(e,"string");return"symbol"===$i(t)?t:String(t)}function Ji(e,t){if("object"!==$i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Zi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qi(e,t)}function Qi(e,t){return(Qi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function ea(e){var t=ra();return function n(){var r=oa(e),o;if(t){var i=oa(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ta(this,o)}}function ta(e,t){if(t&&("object"===$i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return na(e)}function na(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ra(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function oa(e){return(oa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var ia=function(e){Zi(n,e);var t=ea(n);function n(){return Xi(this,n),t.apply(this,arguments)}return Ki(n,[{key:"componentWillUnmount",value:function e(){this.props.observed.purge()}},{key:"render",value:function e(){var t=this.props,n=t.observed,r=t.highlight,o=t.dragging;if(!n.hasOffset)return null;var i=n.offsetWidth,a=n.offsetHeight,u=n.offsetTop,c=n.offsetLeft,s={width:i,height:a,transform:"translate3d(".concat(c,"px, ").concat(u,"px, 0)")},l=Jo()("lc-borders lc-borders-selecting",{highlight:r,dragging:o}),f;return n.node.componentMeta.advanced.hideSelectTools?null:React.createElement("div",{className:l,style:s},!o&&React.createElement(aa,{observed:n}))}}]),n}(r.Component);ia=Object(c.b)([a.observer],ia);var aa=function(e){Zi(n,e);var t=ea(n);function n(){return Xi(this,n),t.apply(this,arguments)}return Ki(n,[{key:"render",value:function e(){var t=this.props.observed,n=t.viewport,r=n.height,o=n.width,i=20,a=1,u=2,c=23,s=160,l;l=t.top>23?{top:-23,height:20}:t.bottom+23<r?{bottom:-23,height:20}:{height:20,top:Math.max(1,1-t.top)},160>t.left+t.width?l.left=Math.max(-2,t.left-o-2):(l.right=Math.max(-2,t.right-o-2),l.justifyContent="flex-start");var f=t.node,p=[];return f.componentMeta.availableActions.forEach((function(e){var t=e.important,n=void 0===t||t,r=e.condition,o=e.content,i=e.name;(!f.isSlot()||"copy"!==i&&"remove"!==i)&&n&&("function"==typeof r?!1!==r(f):!1!==r)&&p.push(ua(o,i,f))})),React.createElement("div",{className:"lc-borders-actions",style:l},p,React.createElement(Wi,{node:f}))}}]),n}(r.Component);function ua(e,t,n){if(Object(r.isValidElement)(e))return Object(r.cloneElement)(e,{key:t,node:n});if(Object(s.S)(e))return Object(r.createElement)(e,{key:t,node:n});if(Object(s.u)(e)){var o=e.action,i=e.title,u=e.icon;return React.createElement("div",{key:t,className:"lc-borders-action",onClick:function e(){var r,i,a;o&&o(n.internalToShellNode());var u=null===(r=n.document)||void 0===r?void 0:r.designer.editor,c=null==n||null===(i=n.componentMeta)||void 0===i?void 0:i.npm,s=[null==c?void 0:c.package,null==c?void 0:c.componentName].filter((function(e){return!!e})).join("-")||(null==n||null===(a=n.componentMeta)||void 0===a?void 0:a.componentName)||"";null==u||u.eventBus.emit("designer.border.action",{name:t,selected:s})}},u&&Object(s.n)(u),React.createElement(a.Tip,null,i))}return null}aa=Object(c.b)([a.observer],aa);var ca=function(e){Zi(n,e);var t=ea(n);function n(){return Xi(this,n),t.apply(this,arguments)}return Ki(n,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"instances",get:function e(){return this.host.getComponentInstances(this.props.node)}},{key:"render",value:function e(){var t=this,n=this.instances,o=this.props.node,i=this.host.designer;return!n||n.length<1?null:React.createElement(r.Fragment,{key:o.id},n.map((function(e){var n=i.createOffsetObserver({node:o,instance:e});return n?React.createElement(ia,{key:n.id,dragging:t.dragging,observed:n}):null})))}}]),n}(r.Component);Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],ca.prototype,"instances",null),ca=Object(c.b)([a.observer],ca);var sa=function(e){Zi(n,e);var t=ea(n);function n(){return Xi(this,n),t.apply(this,arguments)}return Ki(n,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"selecting",get:function e(){var t=this.host.currentDocument;if(!t||t.suspensed||this.host.liveEditing.editing)return null;var n=t.selection;return this.dragging?n.getTopNodes():n.getNodes()}},{key:"render",value:function e(){var t=this,n=this.selecting;return!n||n.length<1?null:React.createElement(r.Fragment,null,n.map((function(e){return React.createElement(ca,{key:e.id,host:t.props.host,node:e})})))}}]),n}(r.Component);function la(e){return(la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,da(r.key),r)}}function ha(e,t,n){return t&&pa(e.prototype,t),n&&pa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function da(e){var t=va(e,"string");return"symbol"===la(t)?t:String(t)}function va(e,t){if("object"!==la(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==la(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],sa.prototype,"selecting",null),sa=Object(c.b)([a.observer],sa);var ya=function(){function e(t){fa(this,e),this.emitter=void 0,this.dragResizing=!1,this.designer=void 0,this.designer=t,this.emitter=Object(a.createModuleEventBus)("DragResizeEngine")}return ha(e,[{key:"isDragResizing",value:function e(){return this.dragResizing}},{key:"from",value:function e(t,n,r){var o=this,i,a;if(!t)return function(){};var u=function e(t){var r=l(t),u=r.clientX-a.clientX,c=r.clientY-a.clientY;o.emitter.emit("resize",t,n,i,u,c)},c=this.getMasterSensors(),l=function e(t){var n,r=null===(n=t.view)||void 0===n?void 0:n.document;if(!r||r===document)return t;var o=c.find((function(e){return e.contentDocument===r}));return o?o.viewport.toGlobalPoint(t):t},f=function e(t){var r;ho(t,c)((function(t){t.removeEventListener("mousemove",u,!0),t.removeEventListener("mouseup",e,!0)})),o.dragResizing=!1,o.designer.detecting.enable=!0,s.o.release(),o.emitter.emit("resizeEnd",t,n,i)},p=function e(t){var p;i=r(t),a=l(t),ho(t,c)((function(e){e.addEventListener("mousemove",u,!0),e.addEventListener("mouseup",f,!0)})),o.emitter.emit("resizeStart",t,n,i),o.dragResizing=!0,o.designer.detecting.enable=!1,s.o.addState("ew-resize")};return t.addEventListener("mousedown",p),function(){t.removeEventListener("mousedown",p)}}},{key:"onResizeStart",value:function e(t){var n=this;return this.emitter.on("resizeStart",t),function(){n.emitter.removeListener("resizeStart",t)}}},{key:"onResize",value:function e(t){var n=this;return this.emitter.on("resize",t),function(){n.emitter.removeListener("resize",t)}}},{key:"onResizeEnd",value:function e(t){var n=this;return this.emitter.on("resizeEnd",t),function(){n.emitter.removeListener("resizeEnd",t)}}},{key:"getMasterSensors",value:function e(){return this.designer.project.documents.map((function(e){var t;return e.active&&null!==(t=e.simulator)&&void 0!==t&&t.sensorAvailable?e.simulator:null})).filter(Boolean)}}]),e}(),ma=Object(r.createContext)({}),ba,ga;function wa(e){return(wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ja(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ea(r.key),r)}}function Sa(e,t,n){return t&&ja(e.prototype,t),n&&ja(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ea(e){var t=ka(e,"string");return"symbol"===wa(t)?t:String(t)}function ka(e,t){if("object"!==wa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pa(e,t)}function Pa(e,t){return(Pa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function xa(e){var t=Ta();return function n(){var r=Ra(e),o;if(t){var i=Ra(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Na(this,o)}}function Na(e,t){if(t&&("object"===wa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ca(e)}function Ca(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ta(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ra(e){return(Ra=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var La=((ba=function(e){_a(n,e);var t=xa(n);function n(){return Oa(this,n),t.apply(this,arguments)}return Sa(n,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"selecting",get:function e(){var t=this.host.currentDocument;if(!t||t.suspensed)return null;var n=t.selection;return this.dragging?n.getTopNodes():n.getNodes()}},{key:"componentDidUpdate",value:function e(){}},{key:"render",value:function e(){var t=this,n=this.selecting;return!n||n.length<1?o.a.createElement(r.Fragment,null):o.a.createElement(r.Fragment,null,n.map((function(e){return o.a.createElement(Ma,{key:e.id,node:e,host:t.props.host})})))}}]),n}(r.Component)).contextType=ma,ba);Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],La.prototype,"selecting",null);var Aa=La=Object(c.b)([a.observer],La),Ma=((ga=function(e){_a(n,e);var t=xa(n);function n(){return Oa(this,n),t.apply(this,arguments)}return Sa(n,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"instances",get:function e(){return this.host.getComponentInstances(this.props.node)}},{key:"render",value:function e(){var t=this,n=this.instances,i=this.props.node,a=this.host.designer;return!n||n.length<1||this.dragging?null:o.a.createElement(r.Fragment,{key:i.id},n.map((function(e){var n=a.createOffsetObserver({node:i,instance:e});return n?o.a.createElement(Da,{key:n.id,dragging:t.dragging,designer:a,observed:n}):null})))}}]),n}(r.Component)).contextType=ma,ga);Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Ma.prototype,"instances",null),Ma=Object(c.b)([a.observer],Ma);var Da=function(e){_a(n,e);var t=xa(n);function n(e){var r;return Oa(this,n),(r=t.call(this,e)).willUnbind=void 0,r.outlineN=void 0,r.outlineE=void 0,r.outlineS=void 0,r.outlineW=void 0,r.outlineNE=void 0,r.outlineNW=void 0,r.outlineSE=void 0,r.outlineSW=void 0,r.dragEngine=void 0,r.dragEngine=new ya(e.designer),r}return Sa(n,[{key:"componentWillUnmount",value:function e(){this.willUnbind&&this.willUnbind(),this.props.observed.purge()}},{key:"componentDidMount",value:function e(){this.willBind();var t=function e(t,n,r,o,i){var a=r.componentMeta.advanced;if(a.callbacks&&"function"==typeof a.callbacks.onResize){t.trigger=n,t.deltaX=o,t.deltaY=i;var u=null!=r&&r.isNode?r.internalToShellNode():r;a.callbacks.onResize(t,u)}},n=function e(t,n,r){var o=r.componentMeta.advanced;if(o.callbacks&&"function"==typeof o.callbacks.onResizeStart){t.trigger=n;var i=null!=r&&r.isNode?r.internalToShellNode():r;o.callbacks.onResizeStart(t,i)}},r=function e(t,n,r){var o,i,a,u,c=r.componentMeta.advanced;if(c.callbacks&&"function"==typeof c.callbacks.onResizeEnd){t.trigger=n;var s=null!=r&&r.isNode?r.internalToShellNode():r;c.callbacks.onResizeEnd(t,s)}var l=null===(o=r.document)||void 0===o?void 0:o.designer.editor,f=null==r||null===(i=r.componentMeta)||void 0===i?void 0:i.npm,p=[null==f?void 0:f.package,null==f?void 0:f.componentName].filter((function(e){return!!e})).join("-")||(null==r||null===(a=r.componentMeta)||void 0===a?void 0:a.componentName)||"";null==l||l.eventBus.emit("designer.border.resize",{selected:p,layout:(null==r||null===(u=r.parent)||void 0===u?void 0:u.getPropValue("layout"))||""})};this.dragEngine.onResize(t),this.dragEngine.onResizeStart(n),this.dragEngine.onResizeEnd(r)}},{key:"willBind",value:function e(){var t=this;if(this.willUnbind&&this.willUnbind(),this.outlineN||this.outlineE||this.outlineS||this.outlineW||this.outlineNE||this.outlineNW||this.outlineSE||this.outlineSW){var n=[],r=this.props.observed.node;n.push.apply(n,[this.dragEngine.from(this.outlineN,"n",(function(){return r})),this.dragEngine.from(this.outlineE,"e",(function(){return r})),this.dragEngine.from(this.outlineS,"s",(function(){return r})),this.dragEngine.from(this.outlineW,"w",(function(){return r})),this.dragEngine.from(this.outlineNE,"ne",(function(){return r})),this.dragEngine.from(this.outlineNW,"nw",(function(){return r})),this.dragEngine.from(this.outlineSE,"se",(function(){return r})),this.dragEngine.from(this.outlineSW,"sw",(function(){return r}))]),this.willUnbind=function(){n&&n.length>0&&n.forEach((function(e){e()})),t.willUnbind=function(){}}}}},{key:"render",value:function e(){var t=this,n=this.props.observed,r=[],i=0,a=0,u=0,c=0;if(n.hasOffset){var s,l;i=n.offsetWidth,a=n.offsetHeight,u=n.offsetTop,c=n.offsetLeft;var f=n.node,p=f.componentMeta.getMetadata();null!==(s=p.configure)&&void 0!==s&&null!==(l=s.advanced)&&void 0!==l&&l.getResizingHandlers&&(r=p.configure.advanced.getResizingHandlers(f.internalToShellNode()))}r=po(r);var h="lc-borders lc-resize-side",d="lc-borders lc-resize-corner";return o.a.createElement("div",null,o.a.createElement("div",{ref:function e(n){t.outlineN=n},className:Jo()(h,"n"),style:{height:20,transform:"translate(".concat(c,"px, ").concat(u-10,"px)"),width:i,display:r.includes("N")?"flex":"none"}}),o.a.createElement("div",{ref:function e(n){t.outlineNE=n},className:Jo()(d,"ne"),style:{transform:"translate(".concat(c+i-5,"px, ").concat(u-3,"px)"),cursor:"nesw-resize",display:r.includes("NE")?"flex":"none"}}),o.a.createElement("div",{className:Jo()(h,"e"),ref:function e(n){t.outlineE=n},style:{height:a,transform:"translate(".concat(c+i-10,"px, ").concat(u,"px)"),width:20,display:r.includes("E")?"flex":"none"}}),o.a.createElement("div",{ref:function e(n){t.outlineSE=n},className:Jo()(d,"se"),style:{transform:"translate(".concat(c+i-5,"px, ").concat(u+a-5,"px)"),cursor:"nwse-resize",display:r.includes("SE")?"flex":"none"}}),o.a.createElement("div",{ref:function e(n){t.outlineS=n},className:Jo()(h,"s"),style:{height:20,transform:"translate(".concat(c,"px, ").concat(u+a-10,"px)"),width:i,display:r.includes("S")?"flex":"none"}}),o.a.createElement("div",{ref:function e(n){t.outlineSW=n},className:Jo()(d,"sw"),style:{transform:"translate(".concat(c-3,"px, ").concat(u+a-5,"px)"),cursor:"nesw-resize",display:r.includes("SW")?"flex":"none"}}),o.a.createElement("div",{ref:function e(n){t.outlineW=n},className:Jo()(h,"w"),style:{height:a,transform:"translate(".concat(c-10,"px, ").concat(u,"px)"),width:20,display:r.includes("W")?"flex":"none"}}),o.a.createElement("div",{ref:function e(n){t.outlineNW=n},className:Jo()(d,"nw"),style:{transform:"translate(".concat(c-3,"px, ").concat(u-3,"px)"),cursor:"nwse-resize",display:r.includes("NW")?"flex":"none"}}))}}]),n}(r.Component);Da=Object(c.b)([a.observer,Object(c.d)("design:paramtypes",[Object])],Da);var Ia=n(89);function Ba(e){return(Ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Va(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ha(r.key),r)}}function Ga(e,t,n){return t&&Fa(e.prototype,t),n&&Fa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ha(e){var t=Ua(e,"string");return"symbol"===Ba(t)?t:String(t)}function Ua(e,t){if("object"!==Ba(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ba(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function za(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wa(e,t)}function Wa(e,t){return(Wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function $a(e){var t=Ka();return function n(){var r=qa(e),o;if(t){var i=qa(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Xa(this,o)}}function Xa(e,t){if(t&&("object"===Ba(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ya(e)}function Ya(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ka(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function qa(e){return(qa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ja(e,t,n){var r=n.edge||null;if(!r&&!(r=e.computeRect(t)))return{};var o={edge:r,insertType:"before"};if(n.near){var i=n.near,a=i.node,u=i.pos,c=i.rect,s=i.align;return o.nearRect=c||e.computeRect(a),o.nearNode=a,"replace"===u?(o.coverRect=o.nearRect,o.insertType="cover"):!o.nearRect||0===o.nearRect.width&&0===o.nearRect.height?(o.nearRect=o.edge,o.insertType="after",o.vertical=Zc(o.nearRect)):(o.insertType=u,o.vertical=s?"V"===s:Zc(o.nearRect)),o}var l=n.index;if(null==l)return o.coverRect=o.edge,o.insertType="cover",o;var f=t.children.get(l);if(!f){if(!(f=t.children.get(l>0?l-1:0)))return o.insertType="cover",o.coverRect=r,o;o.insertType="after"}return f?(o.nearRect=e.computeRect(f),(!o.nearRect||0===o.nearRect.width&&0===o.nearRect.height)&&(o.nearRect=o.edge,o.insertType="after"),o.vertical=Zc(o.nearRect),o.nearNode=f):(o.insertType="cover",o.coverRect=r),o}function Za(e){var t=e.target,n=e.detail,r,o=e.document.simulator;if(!o)return{};if(Object(s.K)(n))return Ja(o,t,n);var i=o.getComponentInstances(t);if(!i)return{};var a=o.computeComponentInstanceRect(i[0],t.componentMeta.rootSelector);return a?{edge:a,insertType:"cover",coverRect:a}:{}}var Qa=function(e){za(n,e);var t=$a(n);function n(){return Va(this,n),t.apply(this,arguments)}return Ga(n,[{key:"render",value:function e(){var t,n,r,o,i=this.props.host,a=null===(t=i.currentDocument)||void 0===t?void 0:t.dropLocation;if(!a)return null;if(null!==(n=a.target)&&void 0!==n&&null!==(r=n.componentMeta)&&void 0!==r&&r.advanced.isAbsoluteLayoutContainer)return null;var u=i.viewport,c=u.scale,s=u.scrollX,l=u.scrollY,f=Za(a),p=f.edge,h=f.insertType,d=f.coverRect,v=f.nearRect,y=f.vertical,m=f.nearNode;if(!p)return null;var b="lc-insertion";!1===(null===(o=a.detail)||void 0===o?void 0:o.valid)&&(b+=" invalid");var g={},w,O;if("cover"===h)b+=" cover",w=(d.left+s)*c,O=(d.top+l)*c,g.width=d.width*c,g.height=d.height*c;else{var j;if(!v)return null;if(y?(b+=" vertical",w=(("before"===h?v.left:v.right)+s)*c,O=(v.top+l)*c,g.height=v.height*c):(w=(v.left+s)*c,O=(("before"===h?v.top:v.bottom)+l)*c,g.width=v.width*c),0===O&&null!=m&&null!==(j=m.componentMeta)&&void 0!==j&&j.isTopFixed)return null}return g.transform="translate3d(".concat(w,"px, ").concat(O,"px, 0)"),React.createElement("div",{className:b,style:g})}}]),n}(r.Component);Qa=Object(c.b)([a.observer],Qa);var eu=n(90),tu=n(91);function nu(e){return(nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ru(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ou(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,au(r.key),r)}}function iu(e,t,n){return t&&ou(e.prototype,t),n&&ou(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function au(e){var t=uu(e,"string");return"symbol"===nu(t)?t:String(t)}function uu(e,t){if("object"!==nu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function cu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&su(e,t)}function su(e,t){return(su=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function lu(e){var t=hu();return function n(){var r=du(e),o;if(t){var i=du(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return fu(this,o)}}function fu(e,t){if(t&&("object"===nu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pu(e)}function pu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hu(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function du(e){return(du=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var vu=function(e){cu(n,e);var t=lu(n);function n(){return ru(this,n),t.apply(this,arguments)}return iu(n,[{key:"render",value:function e(){var t=this.props.host,n=t.designMode,r=t.viewport,i=r.scrollX,u=r.scrollY,c=r.scale;return"live"===n?null:o.a.createElement("div",{className:"lc-bem-tools",style:{transform:"translate(".concat(-i*c,"px,").concat(-u*c,"px)")}},!a.engineConfig.get("disableDetecting")&&o.a.createElement(pi,{key:"hovering",host:t}),o.a.createElement(sa,{key:"selecting",host:t}),a.engineConfig.get("enableReactiveContainer")&&o.a.createElement(xi,{key:"reactive-container-border",host:t}),o.a.createElement(Qa,{key:"insertion",host:t}),o.a.createElement(Aa,{key:"resizing",host:t}),t.designer.bemToolsManager.getAllBemTools().map((function(e){var n=e.item;return o.a.createElement(n,{key:e.name,host:t})})))}}]),n}(r.Component);vu=Object(c.b)([a.observer],vu);var yu=n(92);function mu(e){return(mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ou(r.key),r)}}function wu(e,t,n){return t&&gu(e.prototype,t),n&&gu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ou(e){var t=ju(e,"string");return"symbol"===mu(t)?t:String(t)}function ju(e,t){if("object"!==mu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==mu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Su(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eu(e,t)}function Eu(e,t){return(Eu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function ku(e){var t=xu();return function n(){var r=Nu(e),o;if(t){var i=Nu(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return _u(this,o)}}function _u(e,t){if(t&&("object"===mu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pu(e)}function Pu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xu(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Nu(e){return(Nu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Cu=function(e){Su(n,e);var t=ku(n);function n(e){var r;bu(this,n),(r=t.call(this,e)).host=void 0;var o=r.props,i=o.project,a=o.onMount,u=o.designer;return r.host=i.simulator||new Uo(i,u),r.host.setProps(r.props),null==a||a(r.host),r}return wu(n,[{key:"shouldComponentUpdate",value:function e(t){return this.host.setProps(t),!1}},{key:"render",value:function e(){return o.a.createElement("div",{className:"lc-simulator"},o.a.createElement(Tu,{host:this.host}))}}]),n}(r.Component),Tu=function(e){Su(n,e);var t=ku(n);function n(){return bu(this,n),t.apply(this,arguments)}return wu(n,[{key:"render",value:function e(){var t=this.props.host,n="lc-simulator-canvas",r=t.deviceStyle||{},i=r.canvas,a=void 0===i?{}:i,u=r.viewport,c=void 0===u?{}:u;return t.deviceClassName?n+=" ".concat(t.deviceClassName):t.device&&(n+=" lc-simulator-device-".concat(t.device)),o.a.createElement("div",{className:n,style:a},o.a.createElement("div",{ref:function e(n){return t.mountViewport(n)},className:"lc-simulator-canvas-viewport",style:c},o.a.createElement(vu,{host:t}),o.a.createElement(Ru,{host:t})))}}]),n}(r.Component);Tu=Object(c.b)([a.observer],Tu);var Ru=function(e){Su(n,e);var t=ku(n);function n(){var e;bu(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={disabledEvents:!1},e.dispose=void 0,e}return wu(n,[{key:"componentDidMount",value:function e(){var t=this,n=this.props.host.designer.editor,r=function e(n){t.setState({disabledEvents:n})};n.eventBus.on("designer.builtinSimulator.disabledEvents",r),this.dispose=function(){n.removeListener("designer.builtinSimulator.disabledEvents",r)}}},{key:"componentWillUnmount",value:function e(){var t;null===(t=this.dispose)||void 0===t||t.call(this)}},{key:"render",value:function e(){var t=this.props.host,n=this.state.disabledEvents,r=t.viewport,i=t.designer,a={transform:"scale(".concat(r.scale,")"),height:r.contentHeight,width:r.contentWidth};n&&(a.pointerEvents="none");var u=i.viewName;return o.a.createElement("div",{className:"lc-simulator-content"},o.a.createElement("iframe",{name:"".concat(u,"-SimulatorRenderer"),className:"lc-simulator-content-frame",style:a,ref:function e(n){return t.mountContentFrame(n)}}))}}]),n}(r.Component);Ru=Object(c.b)([a.observer],Ru);var Lu=n(93);function Au(e){return(Au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Du(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bu(r.key),r)}}function Iu(e,t,n){return t&&Du(e.prototype,t),n&&Du(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bu(e){var t=Vu(e,"string");return"symbol"===Au(t)?t:String(t)}function Vu(e,t){if("object"!==Au(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Au(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Fu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gu(e,t)}function Gu(e,t){return(Gu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Hu(e){var t=Wu();return function n(){var r=$u(e),o;if(t){var i=$u(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Uu(this,o)}}function Uu(e,t){if(t&&("object"===Au(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zu(e)}function zu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wu(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function $u(e){return($u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Xu=function(e){Fu(n,e);var t=Hu(n);function n(){return Mu(this,n),t.apply(this,arguments)}return Iu(n,[{key:"render",value:function e(){return React.createElement("div",{id:"engine-loading-wrapper"},React.createElement("img",{width:"154",height:"100",src:"https://img.alicdn.com/tfs/TB1CmVgayERMeJjy0FcXXc7opXa-308-200.gif"}))}}]),n}(r.Component),Yu=function(e){Fu(n,e);var t=Hu(n);function n(){return Mu(this,n),t.apply(this,arguments)}return Iu(n,[{key:"componentDidMount",value:function e(){var t=this,n,r;this.props.designer.project.onRendererReady((function(){t.forceUpdate()}))}},{key:"render",value:function e(){var t,n=this.props.designer,r=n.project,o=n.projectSimulatorProps,i=n.simulatorComponent||Cu,u=a.engineConfig.get("loadingComponent",Xu);return React.createElement("div",{className:"lc-project"},React.createElement("div",{className:"lc-simulator-shell"},!(null!=r&&null!==(t=r.simulator)&&void 0!==t&&t.renderer)&&React.createElement(u,null),React.createElement(i,o)))}}]),n}(r.Component);function Ku(e){return(Ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ju(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qu(r.key),r)}}function Zu(e,t,n){return t&&Ju(e.prototype,t),n&&Ju(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qu(e){var t=ec(e,"string");return"symbol"===Ku(t)?t:String(t)}function ec(e,t){if("object"!==Ku(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ku(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Yu=Object(c.b)([a.observer],Yu);var tc=function(){function e(t){qu(this,e),this.target=void 0,this.doc=void 0,this.target=t,nc(t)&&(this.doc=t.document.documentElement)}return Zu(e,[{key:"left",get:function e(){return"scrollX"in this.target?this.target.scrollX:this.target.scrollLeft}},{key:"top",get:function e(){return"scrollY"in this.target?this.target.scrollY:this.target.scrollTop}},{key:"scrollTo",value:function e(t){this.target.scrollTo(t)}},{key:"scrollToXY",value:function e(t,n){this.target.scrollTo(t,n)}},{key:"scrollHeight",get:function e(){return(this.doc||this.target).scrollHeight}},{key:"scrollWidth",get:function e(){return(this.doc||this.target).scrollWidth}}]),e}();function nc(e){return e&&e.document}function rc(e){return Math.sin(e*Math.PI/2)}var oc=30,ic=function(){function e(t){qu(this,e),this.pid=void 0,this.scrollable=void 0,this.scrollable=t}return Zu(e,[{key:"scrollTarget",get:function e(){var t=this.scrollable.scrollTarget;return t?(Object(s.E)(t)&&(t=new tc(t),this.scrollable.scrollTarget=t),t):null}},{key:"scrollTo",value:function e(t){var n=this;this.cancel();var r=this.scrollTarget;if(r){var o,i=r.left,a=r.top,u=function e(){n.cancel()};if(i!==t.left&&null!=t.left||a!==t.top){var c=200,s=+new Date,l=function e(){if(o===n.pid){var c=+new Date,l=Math.min(1,(c-s)/200),f=rc(l),p={};null!=t.left&&(p.left=f*(t.left-i)+i),null!=t.top&&(p.top=f*(t.top-a)+a),r.scrollTo(p),l<1?(n.pid=requestAnimationFrame(e),o=n.pid):u()}};this.pid=requestAnimationFrame(l),o=this.pid}else u()}}},{key:"scrolling",value:function e(t){var n=this;this.cancel();var r=this.scrollable,o=r.bounds,i=r.scale,a=void 0===i?1:i,u=this.scrollTarget;if(u&&o){var c=t.globalX,s=t.globalY,l=u.scrollHeight-o.height/a,f=u.scrollWidth-o.width/a,p=u.left,h=u.top,d=0,v=0,y;if(s<o.top+30?v=-Math.min(Math.max(o.top+30-s,10),50)/a:s>o.bottom-30&&(v=Math.min(Math.max(s+30-o.bottom,10),50)/a),c<o.left+30?d=-Math.min(Math.max(o.top+30-s,10),50)/a:c>o.right-30&&(d=Math.min(Math.max(c+30-o.right,10),50)/a),d||v)(function e(){var t=!1;(v>0&&h<l||v<0&&h>0)&&(h+=v,h=Math.min(Math.max(h,0),l),t=!0),(d>0&&p<f||d<0&&p>0)&&(p+=d,p=Math.min(Math.max(p,0),f),t=!0),t&&(u.scrollTo({left:p,top:h}),n.pid=requestAnimationFrame(e))})()}}},{key:"cancel",value:function e(){this.pid&&cancelAnimationFrame(this.pid),this.pid=void 0}}]),e}(),ac;function uc(e){return(uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fc(r.key),r)}}function lc(e,t,n){return t&&sc(e.prototype,t),n&&sc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fc(e){var t=pc(e,"string");return"symbol"===uc(t)?t:String(t)}function pc(e,t){if("object"!==uc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==uc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function hc(e){return e&&e.type===u.f.Node}function dc(e){return e&&e.type===u.f.NodeData}function vc(e){return e&&e.type!==u.f.NodeData&&e.type!==u.f.Node}function yc(e){return e&&"LocateEvent"===e.type}var mc=4;function bc(e,t){return!!e.shaken||(e.target!==t.target||Math.pow(e.clientY-t.clientY,2)+Math.pow(e.clientX-t.clientX,2)>4)}function gc(e,t){return 0===e.clientX&&0===e.clientY&&t&&(Math.abs(t.clientX-e.clientX)>5||Math.abs(t.clientY-e.clientY)>5)}function wc(e,t){return e.clientY===t.clientY&&e.clientX===t.clientX}function Oc(e){e.shaken=!0}function jc(e){var t,n;return hc(e)&&(null===(t=e.nodes[0])||void 0===t||null===(n=t.document)||void 0===n?void 0:n.simulator)||null}function Sc(e){var t;return null==e||null===(t=e.type)||void 0===t?void 0:t.startsWith("drag")}var Ec=function(){function e(t){cc(this,e),this.designer=void 0,this.sensors=[],this.nodeInstPointerEvents=void 0,this.key=Math.random(),this._activeSensor=void 0,this._dragging=!1,this._canDrop=!1,this.viewName=void 0,this.emitter=Object(a.createModuleEventBus)("Dragon"),this.designer=t,Object(a.makeObservable)(this),this.viewName=t.viewName}return lc(e,[{key:"activeSensor",get:function e(){return this._activeSensor}},{key:"dragging",get:function e(){return this._dragging}},{key:"from",value:function e(t,n){var r=this,o=function e(t){if(3!==t.which&&2!==t.button){var o=n(t);o&&r.boost(o,t)}};return t.addEventListener("mousedown",o),function(){t.removeEventListener("mousedown",o)}}},{key:"boost",value:function e(t,n,r){var o=this,i=this.designer,a=this.getMasterSensors(),u=ho(n,a),c=!hc(t),s=hc(t)&&t.nodes.some((function(e){return"function"==typeof e.isSlot?e.isSlot():e.isSlot})),l=Sc(n),f;this._dragging=!1;var p=function e(t){var n,r=S(t),o=k(r);if(!o||!o.getNodeInstanceFromElement)return{};var i=o.getNodeInstanceFromElement(t.target);return(null==i||null===(n=i.node)||void 0===n?void 0:n.getRGL())||{}},h=function e(t){27===t.keyCode&&(i.clearLocation(),j())},d=!1,v=function e(t){Sc(t)&&t.dataTransfer?(c||s)&&(t.dataTransfer.dropEffect="copy"):c||(t.altKey||t.ctrlKey?(d=!0,o.setCopyState(!0),Sc(t)&&t.dataTransfer&&(t.dataTransfer.dropEffect="copy")):(d=!1,s||(o.setCopyState(!1),Sc(t)&&t.dataTransfer&&(t.dataTransfer.dropEffect="move"))))},y,m=function e(n){if(v(n),!gc(n,y))if(y&&wc(n,y))y=n;else{y=n;var a=p(n),u=a.isRGL,c=a.rglNode,s=S(n),l=k(s);if(u){var f=t.nodes[0].getDOMNode(),h;if(f&&f.style&&(o.nodeInstPointerEvents=!0,f.style.pointerEvents="none"),o.emitter.emit("rgl.sleeping",!1),r&&r.id===c.id)return i.clearLocation(),o.clearState(),void o.emitter.emit("drag",s);if(o._canDrop=!(null==l||!l.locate(s)),o._canDrop)return o.emitter.emit("rgl.add.placeholder",{rglNode:c,fromRglNode:r,node:null===(h=s.dragObject)||void 0===h?void 0:h.nodes[0],event:n}),i.clearLocation(),o.clearState(),void o.emitter.emit("drag",s)}else o._canDrop=!1,o.emitter.emit("rgl.remove.placeholder"),o.emitter.emit("rgl.sleeping",!0);l?(l.fixEvent(s),l.locate(s)):i.clearLocation(),o.emitter.emit("drag",s)}},b=function e(){o._dragging=!0,Oc(n);var t=S(n);c||s?o.setCopyState(!0):k(t),o.setDraggingState(!0),l||u((function(e){e.addEventListener("keydown",h,!1)})),o.emitter.emit("dragstart",t)},g=function e(t){l&&t.preventDefault(),o._dragging?m(t):bc(n,t)&&(b(),m(t))},w=!0,O=function e(t){t.preventDefault(),t.stopPropagation(),w=!0},j=function e(n){if(o.nodeInstPointerEvents){var r=t.nodes[0].getDOMNode();r&&r.style&&(r.style.pointerEvents=""),o.nodeInstPointerEvents=!1}if(n){var a=p(n),c=a.isRGL,s=a.rglNode;if(c&&o._canDrop&&o._dragging){var y=t.nodes[0];if(s.id!==y.id){var m;o.emitter.emit("rgl.drop",{rglNode:s,node:y});var b=null===(m=i.project.currentDocument)||void 0===m?void 0:m.selection;null==b||b.select(y.id)}}}var j;if(o.emitter.emit("rgl.remove.placeholder"),n&&Sc(n)&&n.preventDefault(),f&&f.deactiveSensor(),l?w||i.clearLocation():o.setNativeSelection(!0),o.clearState(),o._dragging){o._dragging=!1;try{o.emitter.emit("dragend",{dragObject:t,copy:d})}catch(e){j=e}}if(i.clearLocation(),u((function(t){l?(t.removeEventListener("dragover",g,!0),t.removeEventListener("dragend",e,!0),t.removeEventListener("drop",O,!0)):(t.removeEventListener("mousemove",g,!0),t.removeEventListener("mouseup",e,!0)),t.removeEventListener("mousedown",e,!0),t.removeEventListener("keydown",h,!1),t.removeEventListener("keydown",v,!1),t.removeEventListener("keyup",v,!1)})),j)throw j},S=function e(n){var r,o={type:"LocateEvent",dragObject:t,target:n.target,originalEvent:n},i=null===(r=n.view)||void 0===r?void 0:r.document;if(i&&i!==document){var u,c=f&&Rn(f)?f:null;if((c&&c.contentDocument===i||!(u=a.find((function(e){return e.contentDocument===i})))&&c)&&(u=c),u){var s=u.viewport.toGlobalPoint(n);o.globalX=s.clientX,o.globalY=s.clientY,o.canvasX=n.clientX,o.canvasY=n.clientY,o.sensor=u}else o.globalX=n.clientX,o.globalY=n.clientY}else o.globalX=n.clientX,o.globalY=n.clientY;return o},E=jc(t),k=function e(t){var n=o.sensors.concat(a),r=t.sensor&&t.sensor.isEnter(t)?t.sensor:n.find((function(e){return e.sensorAvailable&&e.isEnter(t)}));return r||(f?r=f:t.sensor?r=t.sensor:E&&(r=E)),r!==f&&(f&&f.deactiveSensor(),f=r),r&&(t.sensor=r,r.fixEvent(t)),o._activeSensor=r,r};if(Sc(n)){var _=n.dataTransfer;if(_){_.effectAllowed="all";try{_.setData("application/json","{}")}catch(e){}}b()}else this.setNativeSelection(!1);u((function(e){l?(e.addEventListener("dragover",g,!0),w=!1,e.addEventListener("drop",O,!0),e.addEventListener("dragend",j,!0)):(e.addEventListener("mousemove",g,!0),e.addEventListener("mouseup",j,!0)),e.addEventListener("mousedown",j,!0)})),c||l||u((function(e){e.addEventListener("keydown",v,!1),e.addEventListener("keyup",v,!1)}))}},{key:"getMasterSensors",value:function e(){return Array.from(new Set(this.designer.project.documents.map((function(e){var t;return e.active&&null!==(t=e.simulator)&&void 0!==t&&t.sensorAvailable?e.simulator:null})).filter(Boolean)))}},{key:"getSimulators",value:function e(){return new Set(this.designer.project.documents.map((function(e){return e.simulator})))}},{key:"setNativeSelection",value:function e(t){Object(s.Z)(t),this.getSimulators().forEach((function(e){null==e||e.setNativeSelection(t)}))}},{key:"setDraggingState",value:function e(t){s.o.setDragging(t),this.getSimulators().forEach((function(e){null==e||e.setDraggingState(t)}))}},{key:"setCopyState",value:function e(t){s.o.setCopy(t),this.getSimulators().forEach((function(e){null==e||e.setCopyState(t)}))}},{key:"clearState",value:function e(){s.o.release(),this.getSimulators().forEach((function(e){null==e||e.clearState()}))}},{key:"addSensor",value:function e(t){this.sensors.push(t)}},{key:"removeSensor",value:function e(t){var n=this.sensors.indexOf(t);n>-1&&this.sensors.splice(n,1)}},{key:"onDragstart",value:function e(t){var n=this;return this.emitter.on("dragstart",t),function(){n.emitter.removeListener("dragstart",t)}}},{key:"onDrag",value:function e(t){var n=this;return this.emitter.on("drag",t),function(){n.emitter.removeListener("drag",t)}}},{key:"onDragend",value:function e(t){var n=this;return this.emitter.on("dragend",t),function(){n.emitter.removeListener("dragend",t)}}}]),e}();function kc(e){return(kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nc(r.key),r)}}function xc(e,t,n){return t&&Pc(e.prototype,t),n&&Pc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nc(e){var t=Cc(e,"string");return"symbol"===kc(t)?t:String(t)}function Cc(e,t){if("object"!==kc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==kc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Ec.prototype,"_activeSensor",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Ec.prototype,"_dragging",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Ec.prototype,"_canDrop",void 0);var Tc=function(){function e(){_c(this,e),this.emitter=Object(a.createModuleEventBus)("ActiveTracker"),this._target=void 0}return xc(e,[{key:"track",value:function e(t){var n=t;Object(s.N)(t)&&(n={node:t}),this._target=n,this.emitter.emit("change",n)}},{key:"currentNode",get:function e(){var t;return null===(t=this._target)||void 0===t?void 0:t.node}},{key:"detail",get:function e(){var t;return null===(t=this._target)||void 0===t?void 0:t.detail}},{key:"intance",get:function e(){return this.instance}},{key:"instance",get:function e(){var t;return null===(t=this._target)||void 0===t?void 0:t.instance}},{key:"onChange",value:function e(t){var n=this;return this.emitter.addListener("change",t),function(){n.emitter.removeListener("change",t)}}}]),e}();function Rc(e){return(Rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ac(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dc(r.key),r)}}function Mc(e,t,n){return t&&Ac(e.prototype,t),n&&Ac(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dc(e){var t=Ic(e,"string");return"symbol"===Rc(t)?t:String(t)}function Ic(e,t){if("object"!==Rc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Rc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Tc.prototype,"_target",void 0);var Bc="detectingChange",Vc=function(){function e(){Lc(this,e),this._enable=!0,this.xRayMode=!1,this._current=null,this.emitter=Object(a.createModuleEventBus)("Detecting"),Object(a.makeObservable)(this)}return Mc(e,[{key:"enable",get:function e(){return this._enable},set:function e(t){this._enable=t,t||(this._current=null)}},{key:"current",get:function e(){return this._current}},{key:"capture",value:function e(t){this._current!==t&&(this._current=t,this.emitter.emit("detectingChange",this.current))}},{key:"release",value:function e(t){this._current===t&&(this._current=null,this.emitter.emit("detectingChange",this.current))}},{key:"leave",value:function e(t){this.current&&this.current.document===t&&(this._current=null)}},{key:"onDetectingChange",value:function e(t){var n=this;return this.emitter.on("detectingChange",t),function(){n.emitter.off("detectingChange",t)}}}]),e}();function Fc(e){return(Fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zc(r.key),r)}}function Uc(e,t,n){return t&&Hc(e.prototype,t),n&&Hc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zc(e){var t=Wc(e,"string");return"symbol"===Fc(t)?t:String(t)}function Wc(e,t){if("object"!==Fc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Fc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function $c(e){return e&&e.target&&e.detail}function Xc(e){return e&&e.type===u.j.Children}function Yc(e,t){if(Qc(e))return!0;var n=(t||ts(e)).getComputedStyle(e),r=n.getPropertyValue("display");if(/flex$/.test(r)){var o=n.getPropertyValue("flex-direction")||"row";if("row"===o||"row-reverse"===o)return!0}return!!/grid$/.test(r)}function Kc(e,t){if(Qc(e))return!0;var n=(t||ts(e)).getComputedStyle(e);return/^inline/.test(n.getPropertyValue("display"))||/^(left|right)$/.test(n.getPropertyValue("float"))}function qc(e){if(!e||e.computed)return null;var t=e.elements;return t&&t.length>0?t[0]:null}function Jc(e){var t=qc(e);return!!t&&Yc(t)}function Zc(e){var t=qc(e);return!!t&&(Kc(t)||!!t.parentElement&&Yc(t.parentElement))}function Qc(e){return e.nodeType===Node.TEXT_NODE}function es(e){return e.nodeType===Node.DOCUMENT_NODE}function ts(e){return(es(e)?e:e.ownerDocument).defaultView}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Vc.prototype,"_enable",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Vc.prototype,"xRayMode",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Vc.prototype,"_current",void 0);var ns=function(){function e(t){var n=t.target,r=t.detail,o=t.source,i=t.event;Gc(this,e),this.target=void 0,this.detail=void 0,this.event=void 0,this.source=void 0,this.target=n,this.detail=r,this.source=o,this.event=i}return Uc(e,[{key:"document",get:function e(){return this.target.document}},{key:"clone",value:function t(n){return new e({target:this.target,detail:this.detail,source:this.source,event:n})}},{key:"getContainer",value:function e(){return this.target}},{key:"getInsertion",value:function e(){var t,n,r;return this.detail?"Children"===this.detail.type?this.detail.index<=0?null:null===(r=this.target.children)||void 0===r?void 0:r.get(this.detail.index-1):null===(t=this.detail)||void 0===t||null===(n=t.near)||void 0===n?void 0:n.node:null}}]),e}(),rs=n(16),os=n.n(rs);function is(e){return(is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function as(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function us(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ss(r.key),r)}}function cs(e,t,n){return t&&us(e.prototype,t),n&&us(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ss(e){var t=ls(e,"string");return"symbol"===is(t)?t:String(t)}function ls(e,t){if("object"!==is(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==is(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var fs=function(){function e(t){var n=this;as(this,e),this.nodeInstance=void 0,this.id=Object(s.cb)("oobx"),this.lastOffsetLeft=void 0,this.lastOffsetTop=void 0,this.lastOffsetHeight=void 0,this.lastOffsetWidth=void 0,this._height=0,this._width=0,this._left=0,this._top=0,this._right=0,this._bottom=0,this.hasOffset=!1,this.pid=void 0,this.viewport=void 0,this.isRoot=void 0,this.node=void 0,this.compute=void 0,this.nodeInstance=t;var r=t.node,o=t.instance;this.node=r;var i=r.document,u=null==i?void 0:i.simulator,c=null==i?void 0:i.focusNode;if(this.isRoot=r.contains(c),this.viewport=null==u?void 0:u.viewport,Object(a.makeObservable)(this),this.isRoot)this.hasOffset=!0;else if(o){var l,f=function e(){if(l===n.pid){var t=u.computeComponentInstanceRect(o,r.componentMeta.rootSelector);t?n.viewport.scrolling&&n.hasOffset||(n._height=t.height,n._width=t.width,n._left=t.left,n._top=t.top,n._right=t.right,n._bottom=t.bottom,n.hasOffset=!0):n.hasOffset=!1,n.pid=os()(e),l=n.pid}};this.compute=f,f(),this.pid=os()(f),l=this.pid}}return cs(e,[{key:"height",get:function e(){return this.isRoot?this.viewport.height:this._height*this.scale}},{key:"width",get:function e(){return this.isRoot?this.viewport.width:this._width*this.scale}},{key:"top",get:function e(){return this.isRoot?0:this._top*this.scale}},{key:"left",get:function e(){return this.isRoot?0:this._left*this.scale}},{key:"bottom",get:function e(){return this.isRoot?this.viewport.height:this._bottom*this.scale}},{key:"right",get:function e(){return this.isRoot?this.viewport.width:this._right*this.scale}},{key:"offsetLeft",get:function e(){return this.isRoot?this.viewport.scrollX*this.scale:(this.viewport.scrolling&&null!=this.lastOffsetLeft||(this.lastOffsetLeft=this.left+this.viewport.scrollX*this.scale),this.lastOffsetLeft)}},{key:"offsetTop",get:function e(){return this.isRoot?this.viewport.scrollY*this.scale:(this.viewport.scrolling&&null!=this.lastOffsetTop||(this.lastOffsetTop=this.top+this.viewport.scrollY*this.scale),this.lastOffsetTop)}},{key:"offsetHeight",get:function e(){return this.viewport.scrolling&&null!=this.lastOffsetHeight||(this.lastOffsetHeight=this.isRoot?this.viewport.height:this.height),this.lastOffsetHeight}},{key:"offsetWidth",get:function e(){return this.viewport.scrolling&&null!=this.lastOffsetWidth||(this.lastOffsetWidth=this.isRoot?this.viewport.width:this.width),this.lastOffsetWidth}},{key:"scale",get:function e(){return this.viewport.scale}},{key:"purge",value:function e(){this.pid&&Object(rs.cancelIdleCallback)(this.pid),this.pid=void 0}},{key:"isPurged",value:function e(){return null==this.pid}}]),e}();function ps(e){return e.instance?new fs(e):null}function hs(e){return(hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ds(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ms(r.key),r)}}function ys(e,t,n){return t&&vs(e.prototype,t),n&&vs(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ms(e){var t=bs(e,"string");return"symbol"===hs(t)?t:String(t)}function bs(e,t){if("object"!==hs(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==hs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function gs(e,t){return Es(e)||Ss(e,t)||Os(e,t)||ws()}function ws(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Os(e,t){if(e){if("string"==typeof e)return js(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?js(e,t):void 0}}function js(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ss(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function Es(e){if(Array.isArray(e))return e}function ks(e){return e&&(e.Hotter||e.type&&e.type.Hotter)||[]}function _s(e){return e&&(e.transducer||e.Transducer||e.type&&(e.type.transducer||e.type.Transducer))||null}function Ps(e,t,n){if(!e&&Array.isArray(t)){var r=gs(t,2),o,i;e={toHot:r[0],toNative:r[1]}}return{toHot:(e&&e.toHot||function(e){return e}).bind(n),toNative:(e&&e.toNative||function(e){return e}).bind(n)}}Object(c.b)([a.obx,Object(c.d)("design:type",Object)],fs.prototype,"_height",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],fs.prototype,"_width",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],fs.prototype,"_left",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],fs.prototype,"_top",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],fs.prototype,"_right",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],fs.prototype,"_bottom",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],fs.prototype,"height",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],fs.prototype,"width",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],fs.prototype,"top",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],fs.prototype,"left",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],fs.prototype,"bottom",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],fs.prototype,"right",null),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],fs.prototype,"hasOffset",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],fs.prototype,"offsetLeft",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],fs.prototype,"offsetTop",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],fs.prototype,"offsetHeight",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],fs.prototype,"offsetWidth",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],fs.prototype,"scale",null);var xs=function(){function e(t,n){ds(this,e),this.setterTransducer=void 0,this.context=void 0;var o=n.setter;if(Array.isArray(o))o=o[0];else if(Object(r.isValidElement)(o)&&"MixedSetter"===o.type.displayName){var i,a;o=null===(i=o.props)||void 0===i||null===(a=i.setters)||void 0===a?void 0:a[0]}else if("object"===hs(o)&&"MixedSetter"===o.componentName){var u,c;o=Array.isArray(null===(u=o)||void 0===u||null===(c=u.props)||void 0===c?void 0:c.setters)&&o.props.setters[0]}var l=!0;if(Object(s.U)(o)){var f=o,p,h;o=f.componentName,l=!1!==f.isDynamic}if("string"==typeof o){var d=t.setters.getSetter(o)||{},v=d.component,y=d.isDynamic;o=v,l=void 0===y?l:!1!==y}if(Object(s.D)(o)&&l)try{o=o.call(t,t)}catch(e){console.error(e)}this.setterTransducer=Ps(_s(o),ks(o),t),this.context=t}return ys(e,[{key:"toHot",value:function e(t){return this.setterTransducer.toHot(t)}},{key:"toNative",value:function e(t){return this.setterTransducer.toNative(t)}}]),e}();function Ns(e){return(Ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ts(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ls(r.key),r)}}function Rs(e,t,n){return t&&Ts(e.prototype,t),n&&Ts(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ls(e){var t=As(e,"string");return"symbol"===Ns(t)?t:String(t)}function As(e,t){if("object"!==Ns(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ns(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Ms=function(){function e(t,n,r){if(Cs(this,e),this.parent=void 0,this.editor=void 0,this.isSameComponent=void 0,this.isMultiple=void 0,this.isSingle=void 0,this.setters=void 0,this.nodes=void 0,this.componentMeta=void 0,this.designer=void 0,this.top=void 0,this.isGroup=void 0,this.type=void 0,this.id=Object(s.cb)("entry"),this.emitter=Object(a.createModuleEventBus)("SettingPropEntry"),this._name=void 0,this.extraProps={},this.parent=t,Object(a.makeObservable)(this),null==r){var o="string"==typeof n?n.slice(0,1):"";this.type="#"===o?"group":"field"}else this.type=r;this._name=n,this.isGroup="group"===this.type,this.editor=t.editor,this.nodes=t.nodes,this.setters=t.setters,this.componentMeta=t.componentMeta,this.isSameComponent=t.isSameComponent,this.isMultiple=t.isMultiple,this.isSingle=t.isSingle,this.designer=t.designer,this.top=t.top}return Rs(e,[{key:"name",get:function e(){return this._name}},{key:"path",get:function e(){var t,n=this.parent.path.slice();return"field"===this.type&&null!==(t=this.name)&&void 0!==t&&t.toString()&&n.push(this.name),n}},{key:"getId",value:function e(){return this.id}},{key:"setKey",value:function e(t){if("field"===this.type){for(var n=this.path.join("."),r=this.nodes.length;r-- >0;)this.nodes[r].getProp(n,!0).key=t;this._name=t}}},{key:"getKey",value:function e(){return this._name}},{key:"remove",value:function e(){if("field"===this.type)for(var t=this.path.join("."),n=this.nodes.length;n-- >0;){var r;null===(r=this.nodes[n].getProp(t))||void 0===r||r.remove()}}},{key:"valueState",get:function e(){var t=this;return Object(a.runInAction)((function(){if("field"!==t.type){var e=t.extraProps.getValue;return e?void 0===e(t.internalToShellField(),void 0)?0:1:0}if(1===t.nodes.length)return 2;for(var n=t.path.join("."),r=t.nodes[0].getProp(n),o=t.nodes.length,i=2;--o>0;){var a=t.nodes[o].getProp(n,!1),u=r.compare(a);if(u>1)return-1;1===u&&(i=1)}return 2===i&&r.isUnset()?0:i}))}},{key:"getValue",value:function e(){var t,n;"field"===this.type&&null!==(t=this.name)&&void 0!==t&&t.toString()&&(n=this.parent.getPropValue(this.name));var e=this.extraProps.getValue;try{return e?e(this.internalToShellField(),n):n}catch(e){return console.warn(e),n}}},{key:"setValue",value:function e(t,n,r,o){var i=this.getValue(),a;"field"===this.type&&((null===(a=this.name)||void 0===a?void 0:a.toString())&&this.parent.setPropValue(this.name,t));var e=this.extraProps.setValue;if(e&&(null==o||!o.disableMutator))try{e(this.internalToShellField(),t)}catch(e){console.warn(e)}this.notifyValueChange(i,t),null!=o&&o.fromSetHotValue||this.valueChange(o)}},{key:"clearValue",value:function e(){var t;"field"===this.type&&((null===(t=this.name)||void 0===t?void 0:t.toString())&&this.parent.clearPropValue(this.name));var n=this.extraProps.setValue;if(n)try{n(this.internalToShellField(),void 0)}catch(e){console.warn(e)}}},{key:"get",value:function e(t){var n=this.path.concat(t).join(".");return this.top.get(n)}},{key:"setPropValue",value:function e(t,n){var r=this.path.concat(t).join(".");this.top.setPropValue(r,n)}},{key:"clearPropValue",value:function e(t){var n=this.path.concat(t).join(".");this.top.clearPropValue(n)}},{key:"getPropValue",value:function e(t){return this.top.getPropValue(this.path.concat(t).join("."))}},{key:"getExtraPropValue",value:function e(t){return this.top.getExtraPropValue(t)}},{key:"setExtraPropValue",value:function e(t,n){this.top.setExtraPropValue(t,n)}},{key:"getNode",value:function e(){return this.nodes[0]}},{key:"getName",value:function e(){return this.path.join(".")}},{key:"getProps",value:function e(){return this.top}},{key:"props",get:function e(){return this.top}},{key:"onValueChange",value:function e(t){var n=this;return this.emitter.on("valuechange",t),function(){n.emitter.removeListener("valuechange",t)}}},{key:"valueChange",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.emitter.emit("valuechange",t),this.parent&&al(this.parent)&&this.parent.valueChange(t)}},{key:"notifyValueChange",value:function e(t,n){this.editor.eventBus.emit(u.e.Node.Prop.Change,{node:this.getNode(),prop:this,oldValue:t,newValue:n})}},{key:"getDefaultValue",value:function e(){return this.extraProps.defaultValue}},{key:"isIgnore",value:function e(){return!1}},{key:"getVariableValue",value:function e(){var t=this.getValue();return Object(s.H)(t)?t.value:""}},{key:"setVariableValue",value:function e(t){var n=this.getValue();this.setValue({type:"JSExpression",value:t,mock:Object(s.H)(n)?n.mock:n})}},{key:"setUseVariable",value:function e(t){if(this.isUseVariable()!==t){var n=this.getValue();this.isUseVariable()?this.setValue(n.mock):this.setValue({type:"JSExpression",value:"",mock:n})}}},{key:"isUseVariable",value:function e(){return Object(s.H)(this.getValue())}},{key:"useVariable",get:function e(){return this.isUseVariable()}},{key:"getMockOrValue",value:function e(){var t=this.getValue();return Object(s.H)(t)?t.mock:t}},{key:"internalToShellField",value:function e(){return this.designer.shellModelFactory.createSettingField(this)}}]),e}();function Ds(e){return(Ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Ms.prototype,"_name",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Ms.prototype,"path",null),Object(c.b)([a.computed,Object(c.d)("design:type",Number),Object(c.d)("design:paramtypes",[])],Ms.prototype,"valueState",null);var Is=["title","items","setter","extraProps"],Bs;function Vs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vs(Object(n),!0).forEach((function(t){Gs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gs(e,t,n){return(t=Xs(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hs(e,t){if(null==e)return{};var n=Us(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Us(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function zs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ws(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xs(r.key),r)}}function $s(e,t,n){return t&&Ws(e.prototype,t),n&&Ws(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xs(e){var t=Ys(e,"string");return"symbol"===Ds(t)?t:String(t)}function Ys(e,t){if("object"!==Ds(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ds(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ks(){return(Ks="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function e(t,n,r){var o=qs(t,n);if(o){var i=Object.getOwnPropertyDescriptor(o,n);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function qs(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=rl(e)););return e}function Js(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zs(e,t)}function Zs(e,t){return(Zs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Qs(e){var t=nl();return function n(){var r=rl(e),o;if(t){var i=rl(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return el(this,o)}}function el(e,t){if(t&&("object"===Ds(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return tl(e)}function tl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nl(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function rl(e){return(rl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ol(e,t){for(var n=e,r=[t.name];n!==e.top;)n instanceof il&&"group"!==n.type&&r.unshift(n.name),n=n.parent;return r.join(".")}var il=function(e){Js(n,e);var t=Qs(n);function n(e,r,o){var i;zs(this,n),(i=t.call(this,e,r.name,r.type)).settingFieldCollector=void 0,i.isSettingField=!0,i.isRequired=void 0,i.transducer=void 0,i._config=void 0,i.hotValue=void 0,i.parent=void 0,i.extraProps=void 0,i._title=void 0,i._setter=void 0,i._expanded=!0,i._items=[],i.settingFieldCollector=o,Object(a.makeObservable)(tl(i));var u=r.title,c=r.items,s=r.setter,l=r.extraProps,f=Hs(r,Is);return i.parent=e,i._config=r,i._title=u,i._setter=s,i.extraProps=Fs(Fs({},f),l),i.isRequired=r.isRequired||(null==s?void 0:s.isRequired),i._expanded=!(null!=l&&l.defaultCollapsed),c&&c.length>0&&i.initItems(c,o),"group"!==i.type&&o&&r.name&&o(ol(e,r),tl(i)),i.transducer=new xs(tl(i),{setter:s}),i}return $s(n,[{key:"title",get:function e(){return this._title||("number"==typeof this.name?"".concat(Object(a.intl)("Item")," ").concat(this.name):this.name)}},{key:"setter",get:function e(){var t=this;return this._setter?Object(s.D)(this._setter)?Object(a.untracked)((function(){var e,n=t.internalToShellField();return null===(e=t._setter)||void 0===e?void 0:e.call(n,n)})):this._setter:null}},{key:"expanded",get:function e(){return this._expanded}},{key:"setExpanded",value:function e(t){this._expanded=t}},{key:"items",get:function e(){return this._items}},{key:"config",get:function e(){return this._config}},{key:"initItems",value:function e(t,r){var o=this;this._items=t.map((function(e){return Object(s.y)(e)?e:new n(o,e,r)}))}},{key:"disposeItems",value:function e(){this._items.forEach((function(e){return al(e)&&e.purge()})),this._items=[]}},{key:"createField",value:function e(t){var r;return null===(r=this.settingFieldCollector)||void 0===r||r.call(this,ol(this.parent,t),this),new n(this,t,this.settingFieldCollector)}},{key:"purge",value:function e(){this.disposeItems()}},{key:"getConfig",value:function e(t){return t?this.config[t]:this._config}},{key:"getItems",value:function e(t){return this._items.filter((function(e){return!t||t(e)}))}},{key:"setValue",value:function e(t,r,o,i){r?this.setHotValue(t,i):Ks(rl(n.prototype),"setValue",this).call(this,t,!1,!1,i)}},{key:"getHotValue",value:function e(){if(this.hotValue)return this.hotValue;var t=Object(s.j)(this.getMockOrValue());return null==t&&(t=this.extraProps.defaultValue),this.transducer.toHot(t)}},{key:"setMiniAppDataSourceValue",value:function e(t,n){this.hotValue=t;var r=this.transducer.toNative(t);this.setValue(r,!1,!1,n),Array.isArray(t)&&t[0]&&t[0].__sid__||this.valueChange()}},{key:"setHotValue",value:function e(t,n){this.hotValue=t;var r=this.transducer.toNative(t);if(n?n.fromSetHotValue=!0:n={fromSetHotValue:!0},this.isUseVariable()){var o=this.getValue();Object(s.H)(r)?this.setValue({type:"JSExpression",value:r.value,mock:o.mock},!1,!1,n):this.setValue({type:"JSExpression",value:o.value,mock:r},!1,!1,n)}else this.setValue(r,!1,!1,n);Array.isArray(t)&&t[0]&&t[0].__sid__||this.valueChange(n)}},{key:"onEffect",value:function e(t){return this.designer.autorun(t,!0)}},{key:"internalToShellField",value:function e(){return this.designer.shellModelFactory.createSettingField(this)}}]),n}(Ms);function al(e){return e&&e.isSettingField}function ul(e){return(ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fl(r.key),r)}}function ll(e,t,n){return t&&sl(e.prototype,t),n&&sl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fl(e){var t=pl(e,"string");return"symbol"===ul(t)?t:String(t)}function pl(e,t){if("object"!==ul(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ul(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function hl(e){return e.map((function(e){return e.id})).sort().join(",")}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],il.prototype,"_expanded",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],il.prototype,"setter",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Boolean,Boolean,Object]),Object(c.d)("design:returntype",void 0)],il.prototype,"setValue",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Object]),Object(c.d)("design:returntype",void 0)],il.prototype,"setMiniAppDataSourceValue",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Object]),Object(c.d)("design:returntype",void 0)],il.prototype,"setHotValue",null);var dl=function(){function e(t,n){var r;if(cl(this,e),this.editor=void 0,this.nodes=void 0,this.emitter=Object(a.createModuleEventBus)("SettingTopEntry"),this._items=[],this._componentMeta=null,this._isSame=!0,this._settingFieldMap={},this.path=[],this.top=this,this.parent=this,this.id=void 0,this.first=void 0,this.designer=void 0,this.setters=void 0,this.disposeFunctions=[],this.editor=t,this.nodes=n,!Array.isArray(n)||n.length<1)throw new ReferenceError("nodes should not be empty");this.id=hl(n),this.first=n[0],this.designer=null===(r=this.first.document)||void 0===r?void 0:r.designer,this.setters=t.get("setters"),this.setupComponentMeta(),this.setupItems(),this.disposeFunctions.push(this.setupEvents())}return ll(e,[{key:"componentMeta",get:function e(){return this._componentMeta}},{key:"items",get:function e(){return this._items}},{key:"isSameComponent",get:function e(){return this._isSame}},{key:"isSingle",get:function e(){return 1===this.nodes.length}},{key:"isLocked",get:function e(){return this.first.isLocked}},{key:"isMultiple",get:function e(){return this.nodes.length>1}},{key:"setupComponentMeta",value:function e(){for(var t,n=this.first.componentMeta,r=this.nodes.length,o=!0,i=1;i<r;i++){var a;if(this.nodes[i].componentMeta!==n){o=!1;break}}o?(this._isSame=!0,this._componentMeta=n):(this._isSame=!1,this._componentMeta=null)}},{key:"setupItems",value:function e(){var t=this;if(this.componentMeta){var n={},r=function e(t,r){n[t]=r};this._items=this.componentMeta.configure.map((function(e){return Object(s.y)(e)?e:new il(t,e,r)})),this._settingFieldMap=n}}},{key:"setupEvents",value:function e(){var t,n=this;return null===(t=this.componentMeta)||void 0===t?void 0:t.onMetadataChange((function(){n.setupItems()}))}},{key:"getValue",value:function e(){var t;return null===(t=this.first)||void 0===t?void 0:t.propsData}},{key:"setValue",value:function e(t){this.setProps(t)}},{key:"get",value:function e(t){return t?this._settingFieldMap[t]||new il(this,{name:t}):null}},{key:"setPropValue",value:function e(t,n){this.nodes.forEach((function(e){e.setPropValue(t.toString(),n)}))}},{key:"clearPropValue",value:function e(t){this.nodes.forEach((function(e){e.clearPropValue(t.toString())}))}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.first.getProp(t.toString(),!0))||void 0===n?void 0:n.getValue()}},{key:"getExtraPropValue",value:function e(t){var n;return null===(n=this.first.getExtraProp(t,!1))||void 0===n?void 0:n.getValue()}},{key:"setExtraPropValue",value:function e(t,n){this.nodes.forEach((function(e){var r;null===(r=e.getExtraProp(t,!0))||void 0===r||r.setValue(n)}))}},{key:"setProps",value:function e(t){this.nodes.forEach((function(e){e.setProps(t)}))}},{key:"mergeProps",value:function e(t){this.nodes.forEach((function(e){e.mergeProps(t)}))}},{key:"disposeItems",value:function e(){this._items.forEach((function(e){return vl(e)&&e.purge()})),this._items=[]}},{key:"purge",value:function e(){this.disposeItems(),this._settingFieldMap={},this.emitter.removeAllListeners(),this.disposeFunctions.forEach((function(e){return e()})),this.disposeFunctions=[]}},{key:"getProp",value:function e(t){return this.get(t)}},{key:"getStatus",value:function e(){}},{key:"setStatus",value:function e(){}},{key:"getChildren",value:function e(){}},{key:"getDOMNode",value:function e(){}},{key:"getId",value:function e(){return this.id}},{key:"getPage",value:function e(){return this.first.document}},{key:"node",get:function e(){return this.getNode()}},{key:"getNode",value:function e(){return this.nodes[0]}}]),e}();function vl(e){return e&&e.purge}function yl(e,t,n){if(!e)throw new Error("[designer] Invariant failed: ".concat(t).concat(n?" in '".concat(n,"'"):""))}function ml(e){return(ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ol(r.key),r)}}function wl(e,t,n){return t&&gl(e.prototype,t),n&&gl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ol(e){var t=jl(e,"string");return"symbol"===ml(t)?t:String(t)}function jl(e,t){if("object"!==ml(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ml(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.computed,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[]),Object(c.d)("design:returntype",Object)],dl.prototype,"getValue",null);var Sl=function(){function e(t){bl(this,e),this.designer=void 0,this.toolsContainer=[],this.designer=t}return wl(e,[{key:"addBemTools",value:function e(t){var n;yl(!this.toolsContainer.find((function(e){return e.name===t.name})),"".concat(t.name," already exists")),this.toolsContainer.push(t)}},{key:"removeBemTools",value:function e(t){var n=this.toolsContainer.findIndex((function(e){return e.name===t}));-1!==n&&this.toolsContainer.splice(n,1)}},{key:"getAllBemTools",value:function e(){return this.toolsContainer}}]),e}();function El(e){return(El="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kl(Object(n),!0).forEach((function(t){Pl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pl(e,t,n){return(t=xl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xl(e){var t=Nl(e,"string");return"symbol"===El(t)?t:String(t)}function Nl(e,t){if("object"!==El(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==El(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Cl(e){var t=e.devMode;return _l(_l({},e),{},{devMode:null==t?void 0:t.replace(/(low|pro)code/,"$1Code")})}function Tl(e){var t=e.configure,n=e.componentName,r=t.component,o=void 0===r?{}:r,i;o.nestingRule||((i=/^(.+)\.Group$/.exec(n))?o.nestingRule={childWhitelist:["".concat(i[1])]}:(i=/^(.+)\.Node$/.exec(n))?o.nestingRule={parentWhitelist:["".concat(i[1]),n]}:(i=/^(.+)\.(Item|Node|Option)$/.exec(n))&&(o.nestingRule={parentWhitelist:["".concat(i[1])]}));return _l(_l({},e),{},{configure:_l(_l({},t),{},{component:o})})}function Rl(e){return(Rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ll(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Al(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ll(Object(n),!0).forEach((function(t){Ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ll(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ml(e,t,n){return(t=Vl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Il(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vl(r.key),r)}}function Bl(e,t,n){return t&&Il(e.prototype,t),n&&Il(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vl(e){var t=Fl(e,"string");return"symbol"===Rl(t)?t:String(t)}function Fl(e,t){if("object"!==Rl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Rl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Gl=function(){function e(){Dl(this,e),this.actions=[{name:"remove",content:{icon:en,title:ye("remove"),action:function e(t){t.remove()}},important:!0},{name:"hide",content:{icon:Zt,title:ye("hide"),action:function e(t){t.setVisible(!1)}},condition:function e(t){return t.componentMeta.isModal},important:!0},{name:"copy",content:{icon:un,title:ye("copy"),action:function e(t){var n=t.document,r=t.parent,o=t.index;if(r){var i=n.insertNode(r,t,o+1,!0);i.select();var a=t.getRGL(),u=a.isRGL,c=a.rglNode;if(u){var s=c.getPropValue("layout")||[],l=s.filter((function(e){return e.i===t.getPropValue("fieldId")}));l&&l[0]&&(s.push(Al(Al({},l[0]),{},{i:i.getPropValue("fieldId")})),c.setPropValue("layout",s),setTimeout((function(){var e;return null===(e=i.document.simulator)||void 0===e?void 0:e.scrollToNode(i)}),10))}}}},important:!0},{name:"lock",content:{icon:qt,title:ye("lock"),action:function e(t){t.lock()}},condition:function e(t){return a.engineConfig.get("enableCanvasLock",!1)&&t.isContainer()&&!t.isLocked},important:!0},{name:"unlock",content:{icon:hn,title:ye("unlock"),action:function e(t){t.lock(!1)}},condition:function e(t){return a.engineConfig.get("enableCanvasLock",!1)&&t.isContainer()&&t.isLocked},important:!0}],this.metadataTransducers=[],this.registerMetadataTransducer(Cl,2,"legacy-issues"),this.registerMetadataTransducer(Tl,100,"component-defaults")}return Bl(e,[{key:"removeBuiltinComponentAction",value:function e(t){var n=this.actions.findIndex((function(e){return e.name===t}));n>-1&&this.actions.splice(n,1)}},{key:"addBuiltinComponentAction",value:function e(t){this.actions.push(t)}},{key:"modifyBuiltinComponentAction",value:function e(t,n){var r=this.actions.find((function(e){return e.name===t}));r&&n(r)}},{key:"registerMetadataTransducer",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2?arguments[2]:void 0;t.level=n,t.id=r;var o=this.metadataTransducers.findIndex((function(e){return null!=e.level&&e.level>n}));o<0?this.metadataTransducers.push(t):this.metadataTransducers.splice(o,0,t)}},{key:"getRegisteredMetadataTransducers",value:function e(){return this.metadataTransducers}}]),e}(),Hl,Ul,zl,Wl;function $l(e){return($l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xl(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Xl=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==$l(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,k.prototype={constructor:k,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Yl(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Kl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Yl(i,r,o,a,u,"next",e)}function u(e){Yl(i,r,o,a,u,"throw",e)}a(void 0)}))}}function ql(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ql(Object(n),!0).forEach((function(t){Zl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ql(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zl(e,t,n){return(t=sf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ql(e){return rf(e)||nf(e)||tf(e)||ef()}function ef(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function tf(e,t){if(e){if("string"==typeof e)return of(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?of(e,t):void 0}}function nf(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function rf(e){if(Array.isArray(e))return of(e)}function of(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function af(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sf(r.key),r)}}function cf(e,t,n){return t&&uf(e.prototype,t),n&&uf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sf(e){var t=lf(e,"string");return"symbol"===$l(t)?t:String(t)}function lf(e,t){if("object"!==$l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var ff=new s.e({level:"warn",bizName:"designer"}),pf=function(){function e(t){var n=this;af(this,e),this.dragon=void 0,this.viewName=void 0,this.componentActions=new Gl,this.activeTracker=new Tc,this.detecting=new Vc,this.project=void 0,this.editor=void 0,this.bemToolsManager=new Sl(this),this.shellModelFactory=void 0,this._dropLocation=void 0,this.propsReducers=new Map,this._lostComponentMetasMap=new Map,this.props=void 0,this.oobxList=[],this._componentMetasMap=new Map,this._simulatorComponent=void 0,this._simulatorProps=void 0,this._suspensed=!1,this.setupSelection=function(){var e,t;t&&(t(),t=void 0);var r=n.currentSelection;if(r&&0===r.selected.length&&"live"===(null===(e=n.simulatorProps)||void 0===e?void 0:e.designMode)){var o,i,a,u=null===(o=n.currentDocument)||void 0===o||null===(i=o.getRoot())||void 0===i||null===(a=i.getChildren())||void 0===a?void 0:a.children;u&&u.length>0&&r.select(u[0].id)}n.postEvent("selection.change",r),r&&(t=r.onSelectionChange((function(){n.postEvent("selection.change",r)})))},Object(a.makeObservable)(this);var r=t.editor,o=t.viewName,i=t.shellModelFactory,u;this.editor=r,this.viewName=o,this.shellModelFactory=i,this.setProps(t),this.project=new Hn(this,t.defaultSchema,o),this.dragon=new Ec(this),this.dragon.onDragstart((function(e){var t;n.detecting.enable=!1;var r=e.dragObject,o,i;Object(s.C)(r)?1===r.nodes.length&&(r.nodes[0].parent?r.nodes[0].select():null===(o=n.currentSelection)||void 0===o||o.clear()):null===(i=n.currentSelection)||void 0===i||i.clear();null!==(t=n.props)&&void 0!==t&&t.onDragstart&&n.props.onDragstart(e),n.postEvent("dragstart",e)})),this.dragon.onDrag((function(e){var t;null!==(t=n.props)&&void 0!==t&&t.onDrag&&n.props.onDrag(e),n.postEvent("drag",e)})),this.dragon.onDragend((function(e){var t,r=e.dragObject,o=e.copy;ff.debug("onDragend: dragObject ",r," copy ",o);var i=n._dropLocation;if(i&&Object(s.K)(i.detail)&&!1!==i.detail.valid){var a,u;if(Object(s.C)(r))a=it(i.target,Ql(r.nodes),i.detail.index,o);else if(Object(s.B)(r)){var c=Array.isArray(r.data)?r.data:[r.data],l;if(c.find((function(e){return!Object(s.O)(e)})))return;a=it(i.target,c,i.detail.index)}if(a)null===(u=i.document)||void 0===u||u.selection.selectAll(a.map((function(e){return e.id}))),setTimeout((function(){return n.activeTracker.track(a[0])}),10)}null!==(t=n.props)&&void 0!==t&&t.onDragend&&n.props.onDragend(e,i),n.postEvent("dragend",e,i),n.detecting.enable=!0})),this.activeTracker.onChange((function(e){var t,n,r=e.node,o=e.detail;null===(t=r.document)||void 0===t||null===(n=t.simulator)||void 0===n||n.scrollToNode(r,o)}));var c=function e(){if(u&&(u(),u=void 0),n.postEvent("history.change",n.currentHistory),n.currentHistory){var t=n.currentHistory;u=t.onStateChange((function(){n.postEvent("history.change",t)}))}};this.project.onCurrentDocumentChange((function(){n.postEvent("current-document.change",n.currentDocument),n.postEvent("selection.change",n.currentSelection),n.postEvent("history.change",n.currentHistory),n.setupSelection(),c()})),this.postEvent("init",this),this.setupSelection(),c()}return cf(e,[{key:"currentDocument",get:function e(){return this.project.currentDocument}},{key:"currentHistory",get:function e(){var t;return null===(t=this.currentDocument)||void 0===t?void 0:t.history}},{key:"currentSelection",get:function e(){var t;return null===(t=this.currentDocument)||void 0===t?void 0:t.selection}},{key:"postEvent",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this.editor.eventBus).emit.apply(n,["designer.".concat(t)].concat(o))}},{key:"dropLocation",get:function e(){return this._dropLocation}},{key:"createLocation",value:function e(t){var n=new ns(t);return this._dropLocation&&this._dropLocation.document&&this._dropLocation.document!==n.document&&(this._dropLocation.document.dropLocation=null),this._dropLocation=n,this.postEvent("dropLocation.change",n),n.document&&(n.document.dropLocation=n),this.activeTracker.track({node:n.target,detail:n.detail}),n}},{key:"clearLocation",value:function e(){this._dropLocation&&this._dropLocation.document&&(this._dropLocation.document.dropLocation=null),this.postEvent("dropLocation.change",void 0),this._dropLocation=void 0}},{key:"createScroller",value:function e(t){return new ic(t)}},{key:"createOffsetObserver",value:function e(t){var n=ps(t);return this.clearOobxList(),n&&this.oobxList.push(n),n}},{key:"clearOobxList",value:function e(t){var n=this.oobxList.length;if(n>20||t)for(;n-- >0;)this.oobxList[n].isPurged()&&this.oobxList.splice(n,1)}},{key:"touchOffsetObserver",value:function e(){this.clearOobxList(!0),this.oobxList.forEach((function(e){return e.compute()}))}},{key:"createSettingEntry",value:function e(t){return new dl(this.editor,t)}},{key:"getSuitableInsertion",value:function e(t){var n=this.project.currentDocument;if(!n)return null;if(Array.isArray(t)&&Object(s.O)(t[0])&&this.getComponentMeta(t[0].componentName).isModal)return{target:n.rootNode};var r=n.focusNode,o,i=n.selection.getNodes().find((function(e){return r.contains(e)})),a,u;return i&&i!==r?i.componentMeta.isContainer?a=i:(a=i.parent,u=(i.index||0)+1):a=r,a&&t&&!a.componentMeta.checkNestingDown(a,t)?null:{target:a,index:u}}},{key:"setProps",value:function e(t){var n=this.props?Jl(Jl({},this.props),t):t;if(this.props){var r,o;if(n.simulatorComponent!==this.props.simulatorComponent&&(this._simulatorComponent=n.simulatorComponent),n.simulatorProps!==this.props.simulatorProps)this._simulatorProps=n.simulatorProps,(null===(r=n.simulatorProps)||void 0===r?void 0:r.designMode)!==(null===(o=this.props.simulatorProps)||void 0===o?void 0:o.designMode)&&this.setupSelection();n.suspensed!==this.props.suspensed&&null!=n.suspensed&&(this.suspensed=n.suspensed),n.componentMetadatas!==this.props.componentMetadatas&&null!=n.componentMetadatas&&this.buildComponentMetasMap(n.componentMetadatas)}else n.simulatorComponent&&(this._simulatorComponent=n.simulatorComponent),n.simulatorProps&&(this._simulatorProps=n.simulatorProps),null!=n.suspensed&&(this.suspensed=n.suspensed),null!=n.componentMetadatas&&this.buildComponentMetasMap(n.componentMetadatas);this.props=n}},{key:"loadIncrementalAssets",value:function(){var e=Kl(Xl().mark((function e(t){var n,r,o,i,a;return Xl().wrap((function e(u){for(;;)switch(u.prev=u.next){case 0:if(n=t.components,r=t.packages,n&&this.buildComponentMetasMap(n),!r){u.next=5;break}return u.next=5,null===(o=this.project.simulator)||void 0===o?void 0:o.setupComponents(r);case 5:if(!n){u.next=10;break}return i=this.editor.get("assets")||{},a=Object(s.Y)(i,t),u.next=10,this.editor.set("assets",a);case 10:this.refreshComponentMetasMap(),this.editor.eventBus.emit("designer.incrementalAssetsReady");case 12:case"end":return u.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"refreshComponentMetasMap",value:function e(){this._componentMetasMap=new Map(this._componentMetasMap)}},{key:"get",value:function e(t){var n;return null===(n=this.props)||void 0===n?void 0:n[t]}},{key:"simulatorComponent",get:function e(){return this._simulatorComponent}},{key:"simulatorProps",get:function e(){return"function"==typeof this._simulatorProps?this._simulatorProps(this.project):this._simulatorProps||{}}},{key:"projectSimulatorProps",get:function e(){var t=this;return Jl(Jl({},this.simulatorProps),{},{project:this.project,designer:this,onMount:function e(n){t.project.mountSimulator(n),t.editor.set("simulator",n)}})}},{key:"suspensed",get:function e(){return this._suspensed},set:function e(t){this._suspensed=t}},{key:"schema",get:function e(){return this.project.getSchema()}},{key:"setSchema",value:function e(t){this.project.load(t)}},{key:"buildComponentMetasMap",value:function e(t){var n=this;t.forEach((function(e){return n.createComponentMeta(e)}))}},{key:"createComponentMeta",value:function e(t){var n=t.componentName;if(!n)return null;var r=this._componentMetasMap.get(n);return r?(r.setMetadata(t),this._componentMetasMap.set(n,r)):((r=this._lostComponentMetasMap.get(n))?(r.setMetadata(t),this._lostComponentMetasMap.delete(n)):r=new xn(this,t),this._componentMetasMap.set(n,r)),r}},{key:"getGlobalComponentActions",value:function e(){var t;return(null===(t=this.props)||void 0===t?void 0:t.globalComponentActions)||null}},{key:"getComponentMeta",value:function e(t,n){if(this._componentMetasMap.has(t))return this._componentMetasMap.get(t);if(this._lostComponentMetasMap.has(t))return this._lostComponentMetasMap.get(t);var r=new xn(this,Jl({componentName:t},n?n():null));return this._lostComponentMetasMap.set(t,r),r}},{key:"getComponentMetasMap",value:function e(){return this._componentMetasMap}},{key:"componentsMap",get:function e(){var t={},n=this;return this._componentMetasMap.forEach((function(e,n){var r=e.getMetadata();if("lowCode"===r.devMode)t[n]=r.schema;else{var o=e.advanced.view;t[n]=o||e.npm}})),t}},{key:"transformProps",value:function e(t,n,r){if(Array.isArray(t))return t;var o=this.propsReducers.get(r);return o?o.reduce((function(e,t){try{return t(e,n.internalToShellNode(),{stage:r})}catch(t){return console.warn(t),e}}),t):t}},{key:"addPropsReducer",value:function e(t,n){if(t){var r=this.propsReducers.get(n);r?r.push(t):this.propsReducers.set(n,[t])}else ff.error("reducer is not available")}},{key:"autorun",value:function e(t,n){return Object(a.autorun)(t,n)}},{key:"purge",value:function e(){}}]),e}();Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],pf.prototype,"_componentMetasMap",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type","function"==typeof(Hl=void 0!==r.ComponentType&&r.ComponentType)?Hl:Object)],pf.prototype,"_simulatorComponent",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],pf.prototype,"_simulatorProps",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],pf.prototype,"_suspensed",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],pf.prototype,"simulatorComponent",null),Object(c.b)([a.computed,Object(c.d)("design:type","function"==typeof(Wl="undefined"!=typeof Record&&Record)?Wl:Object),Object(c.d)("design:paramtypes",[])],pf.prototype,"simulatorProps",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],pf.prototype,"projectSimulatorProps",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],pf.prototype,"componentsMap",null);var hf=n(94);function df(e){return(df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bf(r.key),r)}}function mf(e,t,n){return t&&yf(e.prototype,t),n&&yf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bf(e){var t=gf(e,"string");return"symbol"===df(t)?t:String(t)}function gf(e,t){if("object"!==df(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==df(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function wf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Of(e,t)}function Of(e,t){return(Of=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function jf(e){var t=kf();return function n(){var r=_f(e),o;if(t){var i=_f(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Sf(this,o)}}function Sf(e,t){if(t&&("object"===df(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ef(e)}function Ef(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _f(e){return(_f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Pf=function(e){wf(n,e);var t=jf(n);function n(e){var r;return vf(this,n),(r=t.call(this,e)).dispose=[],r.titles=null,r.x=0,r.y=0,r.isAbsoluteLayoutContainer=!1,r.dragon=r.props.designer.dragon,Object(a.makeObservable)(Ef(r)),r.dispose=[r.dragon.onDragstart((function(e){"drag"!==e.originalEvent.type.slice(0,4)&&(r.titles=r.getTitles(e.dragObject),r.x=e.globalX,r.y=e.globalY)})),r.dragon.onDrag((function(e){if(r.x=e.globalX,r.y=e.globalY,Rn(e.sensor)){var t=e.sensor.getDropContainer(e);if(null!=t&&t.container.componentMeta.advanced.isAbsoluteLayoutContainer)return void(r.isAbsoluteLayoutContainer=!0)}r.isAbsoluteLayoutContainer=!1})),r.dragon.onDragend((function(){r.titles=null,r.x=0,r.y=0}))],r}return mf(n,[{key:"getTitles",value:function e(t){var n=this,r;return hc(t)?t.nodes.map((function(e){return e.title})):(Array.isArray(t.data)?t.data:[t.data]).map((function(e,t){return n.props.designer.getComponentMeta(e.componentName).title}))}},{key:"componentWillUnmount",value:function e(){this.dispose&&this.dispose.forEach((function(e){return e()}))}},{key:"renderGhostGroup",value:function e(){var t;return null===(t=this.titles)||void 0===t?void 0:t.map((function(e,t){var n;return React.createElement("div",{className:"lc-ghost",key:t},React.createElement(a.Title,{title:e}))}))}},{key:"render",value:function e(){return this.titles&&this.titles.length?this.isAbsoluteLayoutContainer?null:React.createElement("div",{className:"lc-ghost-group",style:{left:this.x,top:this.y}},this.renderGhostGroup()):null}}]),n}(r.Component);Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Pf.prototype,"titles",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Pf.prototype,"x",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Pf.prototype,"y",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],Pf.prototype,"isAbsoluteLayoutContainer",void 0);var xf=Pf=Object(c.b)([a.observer,Object(c.d)("design:paramtypes",[Object])],Pf),Nf=n(95);function Cf(e){return(Cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Tf=["designer"];function Rf(e,t){if(null==e)return{};var n=Lf(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Lf(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function Af(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,If(r.key),r)}}function Df(e,t,n){return t&&Mf(e.prototype,t),n&&Mf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function If(e){var t=Bf(e,"string");return"symbol"===Cf(t)?t:String(t)}function Bf(e,t){if("object"!==Cf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Cf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Vf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ff(e,t)}function Ff(e,t){return(Ff=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Gf(e){var t=zf();return function n(){var r=Wf(e),o;if(t){var i=Wf(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Hf(this,o)}}function Hf(e,t){if(t&&("object"===Cf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Uf(e)}function Uf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Wf(e){return(Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var $f=function(e){Vf(n,e);var t=Gf(n);function n(e){var r;Af(this,n),(r=t.call(this,e)).designer=void 0,r.viewName=void 0;var o=e.designer,i=Rf(e,Tf);return r.viewName=null==o?void 0:o.viewName,o?(r.designer=o,o.setProps(i)):r.designer=new pf(i),r}return Df(n,[{key:"shouldComponentUpdate",value:function e(t){this.designer.setProps(t);var n=this.props;return t.className!==n.className||t.style!==n.style||t.dragGhostComponent!==n.dragGhostComponent}},{key:"componentDidMount",value:function e(){var t=this.props.onMount;t&&t(this.designer),Ur.injectCopyPaster(document),this.designer.postEvent("mount",this.designer)}},{key:"UNSAFE_componentWillMount",value:function e(){this.designer.purge()}},{key:"render",value:function e(){var t=this.props,n=t.className,r=t.style,o,i=t.dragGhostComponent||xf;return React.createElement("div",{className:Jo()("lc-designer",n),style:r},React.createElement(i,{designer:this.designer}),React.createElement(Yu,{designer:this.designer}))}}]),n}(r.Component);function Xf(e,t){return!(!t||!Array.isArray(t.properties))&&t.properties.some((function(t){return t.key===e}))}function Yf(e){return e&&("autoInit"in e||"override"in e)}function Kf(e,t){if(!e||!Object(vo.isPlainObject)(e))return e;var n={};return Object.keys(e).forEach((function(r){if(Xf(r,t)){var o=e[r];null!=o&&(n[r]=o)}})),n}function qf(e){return(qf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ep(r.key),r)}}function Qf(e,t,n){return t&&Zf(e.prototype,t),n&&Zf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ep(e){var t=tp(e,"string");return"symbol"===qf(t)?t:String(t)}function tp(e,t){if("object"!==qf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==qf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var np=function(){function e(t,n){Jf(this,e),this.hotkey=void 0,this.project=void 0,this.skeleton=void 0,this.setters=void 0,this.material=void 0,this.event=void 0,this.config=void 0,this.common=void 0,this.logger=void 0,this.plugins=void 0,this.preference=void 0,this.pluginEvent=void 0,this.canvas=void 0,this.workspace=void 0,this.registerLevel=void 0,this.editorWindow=void 0;var r=t.pluginName,o=void 0===r?"anonymous":r,i=t.meta,u=void 0===i?{}:i;n.assembleApis(this,o,u),this.pluginEvent=Object(a.createModuleEventBus)(o,200);var c=a.engineConfig.get("enhancePluginContextHook");c&&c(this)}return Qf(e,[{key:"setPreference",value:function e(t,n){var r=this,o=function e(o,i){if(Xf(o,n)){var a=r.plugins.getPluginPreference(t)||{};return void 0===a[o]||null===a[o]?i:a[o]}};this.preference={getPreferenceValue:o}}}]),e}();function rp(e){return(rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function op(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */op=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==rp(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,k.prototype={constructor:k,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function ip(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ap(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ip(i,r,o,a,u,"next",e)}function u(e){ip(i,r,o,a,u,"throw",e)}a(void 0)}))}}function up(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lp(r.key),r)}}function sp(e,t,n){return t&&cp(e.prototype,t),n&&cp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lp(e){var t=fp(e,"string");return"symbol"===rp(t)?t:String(t)}function fp(e,t){if("object"!==rp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==rp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var pp=function(){function e(t,n,r,o){up(this,e),this.config=void 0,this.logger=void 0,this.manager=void 0,this._inited=void 0,this.pluginName=void 0,this.meta=void 0,this._disabled=void 0,this.manager=n,this.config=r,this.pluginName=t,this.meta=o,this.logger=Object(s.r)({level:"warn",bizName:"plugin:".concat(t)})}return sp(e,[{key:"name",get:function e(){return this.pluginName}},{key:"dep",get:function e(){if("string"==typeof this.meta.dependencies)return[this.meta.dependencies];var t=this.config.dep;return"string"==typeof t?[t]:this.meta.dependencies||t||[]}},{key:"disabled",get:function e(){return this._disabled}},{key:"isInited",value:function e(){return this._inited}},{key:"init",value:function(){var e=ap(op().mark((function e(t){var n;return op().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:if(!this._inited||t){r.next=2;break}return r.abrupt("return");case 2:return this.logger.log("method init called"),r.next=5,null===(n=this.config.init)||void 0===n?void 0:n.call(void 0);case 5:this._inited=!0;case 6:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){var e=ap(op().mark((function e(){var t,n;return op().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:if(this._inited){r.next=2;break}return r.abrupt("return");case 2:return this.logger.log("method destroy called"),r.next=5,null===(t=this.config)||void 0===t||null===(n=t.destroy)||void 0===n?void 0:n.call(void 0);case 5:this._inited=!1;case 6:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setDisabled",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._disabled=t}},{key:"toProxy",value:function e(){var t,n;yl(this._inited,"Could not call toProxy before init");var r=null===(t=(n=this.config).exports)||void 0===t?void 0:t.call(n);return new Proxy(this,{get:function e(t,n,o){return{}.hasOwnProperty.call(r,n)?null==r?void 0:r[n]:Reflect.get(t,n,o)}})}},{key:"dispose",value:function(){var e=ap(op().mark((function e(){return op().wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.manager.delete(this.name);case 2:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function hp(e,t,n,r,o,i){t.forEach((function(t){if(-1===n.indexOf(t)){var a=e[t];a?i.indexOf(t)>-1?(i.push(t),o.push(i.slice(0)),i.pop(t)):a.dep.length&&(i.push(t),hp(e,a.dep,n,r,o,i),i.pop(t)):r.push(t),n.push(t)}}))}var dp=function(e,t){var n=[],r=[],o=[];return hp(e,t,n,r,o,[]),(r.length||o.length)&&(n=[]),{sequence:n,missingTasks:r,recursiveDependencies:o}},vp=n(56),yp=n.n(vp);function mp(e){return(mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bp(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=gp(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function gp(e,t){if(e){if("string"==typeof e)return wp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wp(e,t):void 0}}function wp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Op(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Op=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==mp(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,k.prototype={constructor:k,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function jp(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Sp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){jp(i,r,o,a,u,"next",e)}function u(e){jp(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Ep(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pp(r.key),r)}}function _p(e,t,n){return t&&kp(e.prototype,t),n&&kp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pp(e){var t=xp(e,"string");return"symbol"===mp(t)?t:String(t)}function xp(e,t){if("object"!==mp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==mp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Np=Object(s.r)({level:"warn",bizName:"designer:pluginManager"}),Cp=["designer","editor","skeleton","renderer","render","utils","plugin","engine","editor-core","engine-core","plugins","event","events","log","logger","ctx","context"],Tp=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";Ep(this,e),this.viewName=void 0,this.plugins=[],this.pluginsMap=new Map,this.pluginContextMap=new Map,this.pluginPreference=new Map,this.contextApiAssembler=void 0,this._getLowCodePluginContext=function(e){var t=e.pluginName,r=n.pluginContextMap.get(t);return r||(r=new np(e,n.contextApiAssembler),n.pluginContextMap.set(t,r)),r},this.viewName=r,this.contextApiAssembler=t}return _p(e,[{key:"isEngineVersionMatched",value:function e(t){var n=a.engineConfig.get("ENGINE_VERSION");return yp()(n,t,{includePrerelease:!0})}},{key:"register",value:function(){var e=Sp(Op().mark((function e(t,n,r){var o,i,u,c,s,l,f,p,h,d,v,y,m,b,g,w;return Op().wrap((function e(O){for(;;)switch(O.prev=O.next){case 0:if(Yf(n)&&(r=n,n={}),u=t.pluginName,c=t.meta,l=(s=void 0===c?{}:c).preferenceDeclaration,f=s.engines,p=s.eventPrefix,(h=Cp.find((function(e){return e===p})))&&(s.eventPrefix=void 0,Np.warn("plugin ".concat(u," is trying to use ").concat(p," as event prefix, which is a reserved event prefix, please use another one"))),d=this._getLowCodePluginContext({pluginName:u,meta:s}),v=a.engineConfig.get("customPluginFilterOptions",Kf),y=t(d,v(n,l)),yl(u=u||y.name,"pluginConfigCreator.pluginName required",y),d.setPreference(u,l),m=!0===(null===(o=r)||void 0===o?void 0:o.override),!this.pluginsMap.has(u)){O.next=22;break}if(m){O.next=18;break}throw new Error("Plugin with name ".concat(u," exists"));case 18:b=this.pluginsMap.get(u),Np.log("plugin override, originalPlugin with name ",u," will be destroyed, config:",null==b?void 0:b.config),null==b||b.destroy(),this.pluginsMap.delete(u);case 22:if(!(g=f&&f.lowcodeEngine)||this.isEngineVersionMatched(g)){O.next=25;break}throw new Error("plugin ".concat(u," skipped, engine check failed, current engine version is ").concat(a.engineConfig.get("ENGINE_VERSION"),", meta.engines.lowcodeEngine is ").concat(g));case 25:if(w=new pp(u,this,y,s),null===(i=r)||void 0===i||!i.autoInit){O.next=29;break}return O.next=29,w.init();case 29:this.plugins.push(w),this.pluginsMap.set(u,w),Np.log("plugin registered with pluginName: ".concat(u,", config: "),y,"meta:",s);case 32:case"end":return O.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"get",value:function e(t){return this.pluginsMap.get(t)}},{key:"getAll",value:function e(){return this.plugins}},{key:"has",value:function e(t){return this.pluginsMap.has(t)}},{key:"delete",value:function(){var e=Sp(Op().mark((function e(t){var n,r;return Op().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:if(n=this.plugins.find((function(e){var n;return e.name===t}))){o.next=3;break}return o.abrupt("return",!1);case 3:return o.next=5,n.destroy();case 5:return r=this.plugins.indexOf(n),this.plugins.splice(r,1),o.abrupt("return",this.pluginsMap.delete(t));case 8:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=Sp(Op().mark((function e(t){var n,r,o,i,a,u,c,s;return Op().wrap((function e(l){for(;;)switch(l.prev=l.next){case 0:n=[],r={},this.pluginPreference=t,this.plugins.forEach((function(e){n.push(e.name),r[e.name]=e})),o=dp(r,n),i=o.missingTasks,a=o.sequence,yl(!i.length,"plugin dependency missing",i),Np.log("load plugin sequence:",a),u=bp(a),l.prev=8,u.s();case 10:if((c=u.n()).done){l.next=23;break}return s=c.value,l.prev=12,l.next=15,this.pluginsMap.get(s).init();case 15:l.next=21;break;case 17:l.prev=17,l.t0=l.catch(12),Np.error("Failed to init plugin:".concat(s,", it maybe affect those plugins which depend on this.")),Np.error(l.t0);case 21:l.next=10;break;case 23:l.next=28;break;case 25:l.prev=25,l.t1=l.catch(8),u.e(l.t1);case 28:return l.prev=28,u.f(),l.finish(28);case 31:case"end":return l.stop()}}),e,this,[[8,25,28,31],[12,17]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){var e=Sp(Op().mark((function e(){var t,n,r;return Op().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:t=bp(this.plugins),o.prev=1,t.s();case 3:if((n=t.n()).done){o.next=9;break}return r=n.value,o.next=7,r.destroy();case 7:o.next=3;break;case 9:o.next=14;break;case 11:o.prev=11,o.t0=o.catch(1),t.e(o.t0);case 14:return o.prev=14,t.f(),o.finish(14);case 17:case"end":return o.stop()}}),e,this,[[1,11,14,17]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"size",get:function e(){return this.pluginsMap.size}},{key:"getPluginPreference",value:function e(t){return this.pluginPreference?this.pluginPreference.get(t):null}},{key:"toProxy",value:function e(){return new Proxy(this,{get:function e(t,n,r){if(t.pluginsMap.has(n)){var o;if(t.pluginsMap.get(n).disabled)return;return null===(o=t.pluginsMap.get(n))||void 0===o?void 0:o.toProxy()}return Reflect.get(t,n,r)}})}},{key:"setDisabled",value:function e(t){var n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Np.warn("plugin:".concat(t," has been set disable:").concat(r)),null===(n=this.pluginsMap.get(t))||void 0===n||n.setDisabled(r)}},{key:"dispose",value:function(){var e=Sp(Op().mark((function e(){return Op().wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.destroy();case 2:this.plugins=[],this.pluginsMap.clear();case 4:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function Rp(e){return(Rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ap(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dp(r.key),r)}}function Mp(e,t,n){return t&&Ap(e.prototype,t),n&&Ap(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dp(e){var t=Ip(e,"string");return"symbol"===Rp(t)?t:String(t)}function Ip(e,t){if("object"!==Rp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Rp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Bp=new s.e({level:"warn",bizName:"skeleton:area"}),Vp=function(){function e(t,n,r,o){var i=this,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Lp(this,e),this.skeleton=void 0,this.name=void 0,this.exclusive=void 0,this._visible=!0,this.container=void 0,this.lastCurrent=null,this.skeleton=t,this.name=n,this.exclusive=o,Object(a.makeObservable)(this),this.container=t.createContainer(n,r,o,(function(){return i.visible}),u)}return Mp(e,[{key:"visible",get:function e(){return this.exclusive?null!=this.container.current:this._visible}},{key:"current",get:function e(){return this.exclusive?this.container.current:null}},{key:"isEmpty",value:function e(){return this.container.items.length<1}},{key:"add",value:function e(t){var n=this.container.get(t.name);return n?(Bp.warn("The ".concat(t.name," has already been added to skeleton.")),n):this.container.add(t)}},{key:"remove",value:function e(t){return this.container.remove(t)}},{key:"setVisible",value:function e(t){if(this.exclusive){var n=this.container.current;t&&!n?this.container.active(this.lastCurrent||this.container.getAt(0)):n&&(this.lastCurrent=n,this.container.unactive(n))}else this._visible=t}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"removeAction",value:function e(t){return this.remove(t)}}]),e}();function Fp(e){return(Fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zp(r.key),r)}}function Up(e,t,n){return t&&Hp(e.prototype,t),n&&Hp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zp(e){var t=Wp(e,"string");return"symbol"===Fp(t)?t:String(t)}function Wp(e,t){if("object"!==Fp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Fp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function $p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xp(e,t)}function Xp(e,t){return(Xp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Yp(e){var t=Jp();return function n(){var r=Zp(e),o;if(t){var i=Zp(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Kp(this,o)}}function Kp(e,t){if(t&&("object"===Fp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qp(e)}function qp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jp(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Zp(e){return(Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object(c.b)([a.obx,Object(c.d)("design:type",Object)],Vp.prototype,"_visible",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Vp.prototype,"visible",null);var Qp=function(e){$p(n,e);var t=Yp(n);function n(){return Gp(this,n),t.apply(this,arguments)}return Up(n,[{key:"render",value:function e(){var t=this.props,n=t.area,r=t.itemClassName;return n.isEmpty()?null:React.createElement("div",{className:Jo()("lc-top-area engine-actionpane",{"lc-area-visible":n.visible})},React.createElement(th,{area:n,itemClassName:r}))}}]),n}(r.Component),eh=Qp=Object(c.b)([a.observer],Qp),th=function(e){$p(n,e);var t=Yp(n);function n(){return Gp(this,n),t.apply(this,arguments)}return Up(n,[{key:"render",value:function e(){var t=this.props,n=t.area,o=t.itemClassName,i=[],a=[],u=[];return n.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).forEach((function(e){var t=React.createElement("div",{className:o||"",key:"top-area-".concat(e.name)},e.content);"center"===e.align?a.push(t):"left"===e.align?i.push(t):u.push(t)})),React.createElement(r.Fragment,null,React.createElement("div",{className:"lc-top-area-left"},i),React.createElement("div",{className:"lc-top-area-center"},a),React.createElement("div",{className:"lc-top-area-right"},u))}}]),n}(r.Component);function nh(e){return(nh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ah(r.key),r)}}function ih(e,t,n){return t&&oh(e.prototype,t),n&&oh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ah(e){var t=uh(e,"string");return"symbol"===nh(t)?t:String(t)}function uh(e,t){if("object"!==nh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ch(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sh(e,t)}function sh(e,t){return(sh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function lh(e){var t=hh();return function n(){var r=dh(e),o;if(t){var i=dh(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return fh(this,o)}}function fh(e,t){if(t&&("object"===nh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ph(e)}function ph(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hh(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function dh(e){return(dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}th=Object(c.b)([a.observer],th);var vh=function(e){ch(n,e);var t=lh(n);function n(){return rh(this,n),t.apply(this,arguments)}return ih(n,[{key:"render",value:function e(){var t=this.props.area;return t.isEmpty()?null:React.createElement("div",{className:Jo()("lc-left-area",{"lc-area-visible":t.visible})},React.createElement(mh,{area:t}))}}]),n}(r.Component),yh=vh=Object(c.b)([a.observer],vh),mh=function(e){ch(n,e);var t=lh(n);function n(){return rh(this,n),t.apply(this,arguments)}return ih(n,[{key:"render",value:function e(){var t=this.props.area,n=[],o=[];return t.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).forEach((function(e){var t=React.createElement("div",{key:"left-area-".concat(e.name)},e.content);"bottom"===e.align?o.push(t):n.push(t)})),React.createElement(r.Fragment,null,React.createElement("div",{className:"lc-left-area-top"},n),React.createElement("div",{className:"lc-left-area-bottom"},o))}}]),n}(r.Component);function bh(e){return(bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jh(r.key),r)}}function Oh(e,t,n){return t&&wh(e.prototype,t),n&&wh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jh(e){var t=Sh(e,"string");return"symbol"===bh(t)?t:String(t)}function Sh(e,t){if("object"!==bh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Eh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kh(e,t)}function kh(e,t){return(kh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function _h(e){var t=Nh();return function n(){var r=Ch(e),o;if(t){var i=Ch(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Ph(this,o)}}function Ph(e,t){if(t&&("object"===bh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xh(e)}function xh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nh(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ch(e){return(Ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}mh=Object(c.b)([a.observer],mh);var Th=function(e){Eh(n,e);var t=_h(n);function n(){return gh(this,n),t.apply(this,arguments)}return Oh(n,[{key:"componentDidUpdate",value:function e(){var t;null===(t=this.props.area.skeleton.editor.get("designer"))||void 0===t||t.touchOffsetObserver()}},{key:"render",value:function e(){var t,n,r=this.props.area,o=null===(t=r.current)||void 0===t||null===(n=t.config.props)||void 0===n?void 0:n.width,i=o?{width:o}:void 0;return React.createElement("div",{className:Jo()("lc-left-fixed-pane",{"lc-area-visible":r.visible}),style:i},React.createElement(Lh,{area:r}))}}]),n}(r.Component),Rh=Th=Object(c.b)([a.observer],Th),Lh=function(e){Eh(n,e);var t=_h(n);function n(){return gh(this,n),t.apply(this,arguments)}return Oh(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(r.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(r.Component);function Ah(e){return(Ah="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bh(r.key),r)}}function Ih(e,t,n){return t&&Dh(e.prototype,t),n&&Dh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bh(e){var t=Vh(e,"string");return"symbol"===Ah(t)?t:String(t)}function Vh(e,t){if("object"!==Ah(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ah(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Fh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gh(e,t)}function Gh(e,t){return(Gh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Hh(e){var t=Wh();return function n(){var r=$h(e),o;if(t){var i=$h(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Uh(this,o)}}function Uh(e,t){if(t&&("object"===Ah(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zh(e)}function zh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wh(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function $h(e){return($h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Lh=Object(c.b)([a.observer],Lh);var Xh=function(e){Fh(n,e);var t=Hh(n);function n(){var e;Mh(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).dispose=void 0,e.focusing=void 0,e.shell=null,e}return Ih(n,[{key:"componentDidMount",value:function e(){var t=this,n=this.props.area,r=function e(t){var r,o,i,a;n.visible&&(null!==(r=t.originalEvent)&&void 0!==r&&null!==(o=r.target)&&void 0!==o&&o.classList.contains("insertion")||(null===(i=t.originalEvent)||void 0===i?void 0:i.target.closest('div[data-keep-visible-while-dragging="true"]'))||n.setVisible(!1))};n.skeleton.editor.eventBus.on("designer.drag",r),this.dispose=function(){n.skeleton.editor.removeListener("designer.drag",r)},this.focusing=a.focusTracker.create({range:function e(r){var o,i,a,u,c,s,l,f=r.target;if(!f)return!1;if(null!==(o=t.shell)&&void 0!==o&&o.contains(f))return!0;if(null!==(i=document.querySelector(".lc-simulator-content-frame"))&&void 0!==i&&null!==(a=i.contentWindow)&&void 0!==a&&a.document.documentElement.contains(f))return!1;if(null!==(u=document.querySelector(".lc-right-area"))&&void 0!==u&&u.contains(f))return!1;if(null===(c=document.querySelector(".lc-workbench"))||void 0===c||!c.contains(f))return!0;if(null!==(s=document.querySelector(".lc-workbench-body"))&&void 0!==s&&s.contains(f))return!0;var p=null===(l=n.current)||void 0===l?void 0:l.getAssocDocks();return!(!p||null==p||!p.length)&&p.some((function(e){var t;return null===(t=e.getDOMNode())||void 0===t?void 0:t.contains(f)}))},onEsc:function e(){t.props.area.setVisible(!1)},onBlur:function e(){t.props.area.setVisible(!1)}}),this.onEffect()}},{key:"onEffect",value:function e(){var t=this.props.area;if(t.visible){var n,r,o;null===(n=this.focusing)||void 0===n||n.active();var i=null==t||null===(r=t.skeleton)||void 0===r||null===(o=r.leftFixedArea)||void 0===o?void 0:o.container,a=null==i?void 0:i.current;a&&i.unactive(a)}else{var u;null===(u=this.focusing)||void 0===u||u.suspense()}}},{key:"componentDidUpdate",value:function e(){this.onEffect()}},{key:"componentWillUnmount",value:function e(){var t,n;null===(t=this.focusing)||void 0===t||t.purge(),null===(n=this.dispose)||void 0===n||n.call(this)}},{key:"render",value:function e(){var t,n,r=this,o=this.props.area,i=null===(t=o.current)||void 0===t||null===(n=t.config.props)||void 0===n?void 0:n.width,a=i?{width:i}:void 0;return React.createElement("div",{ref:function e(t){r.shell=t},className:Jo()("lc-left-float-pane",{"lc-area-visible":o.visible}),style:a},React.createElement(Kh,{area:o}))}}]),n}(r.Component),Yh=Xh=Object(c.b)([a.observer],Xh),Kh=function(e){Fh(n,e);var t=Hh(n);function n(){return Mh(this,n),t.apply(this,arguments)}return Ih(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(r.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(r.Component);function qh(e){return(qh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ed(r.key),r)}}function Qh(e,t,n){return t&&Zh(e.prototype,t),n&&Zh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ed(e){var t=td(e,"string");return"symbol"===qh(t)?t:String(t)}function td(e,t){if("object"!==qh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==qh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function nd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rd(e,t)}function rd(e,t){return(rd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function od(e){var t=ud();return function n(){var r=cd(e),o;if(t){var i=cd(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return id(this,o)}}function id(e,t){if(t&&("object"===qh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ad(e)}function ad(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ud(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function cd(e){return(cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Kh=Object(c.b)([a.observer],Kh);var sd=function(e){nd(n,e);var t=od(n);function n(){return Jh(this,n),t.apply(this,arguments)}return Qh(n,[{key:"render",value:function e(){var t=this.props.area;return t.isEmpty()?null:React.createElement("div",{className:Jo()("lc-toolbar",{"lc-area-visible":t.visible})},React.createElement(fd,{area:t}))}}]),n}(r.Component),ld=sd=Object(c.b)([a.observer],sd),fd=function(e){nd(n,e);var t=od(n);function n(){return Jh(this,n),t.apply(this,arguments)}return Qh(n,[{key:"render",value:function e(){var t=this.props.area,n=[],o=[],i=[];return t.container.items.forEach((function(e){"center"===e.align?o.push(e.content):"right"===e.align?i.push(e.content):n.push(e.content)})),React.createElement(r.Fragment,null,React.createElement("div",{className:"lc-toolbar-left"},n),React.createElement("div",{className:"lc-toolbar-center"},o),React.createElement("div",{className:"lc-toolbar-right"},i))}}]),n}(r.Component);function pd(e){return(pd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yd(r.key),r)}}function vd(e,t,n){return t&&dd(e.prototype,t),n&&dd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yd(e){var t=md(e,"string");return"symbol"===pd(t)?t:String(t)}function md(e,t){if("object"!==pd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==pd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function bd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gd(e,t)}function gd(e,t){return(gd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function wd(e){var t=Sd();return function n(){var r=Ed(e),o;if(t){var i=Ed(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Od(this,o)}}function Od(e,t){if(t&&("object"===pd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jd(e)}function jd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sd(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ed(e){return(Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}fd=Object(c.b)([a.observer],fd);var kd=function(e){bd(n,e);var t=wd(n);function n(){return hd(this,n),t.apply(this,arguments)}return vd(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement("div",{className:Jo()("lc-main-area engine-workspacepane")},t.container.items.map((function(e){return e.content})))}}]),n}(r.Component),_d=kd=Object(c.b)([a.observer],kd);function Pd(e){return(Pd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Td(r.key),r)}}function Cd(e,t,n){return t&&Nd(e.prototype,t),n&&Nd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Td(e){var t=Rd(e,"string");return"symbol"===Pd(t)?t:String(t)}function Rd(e,t){if("object"!==Pd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Pd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ld(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ad(e,t)}function Ad(e,t){return(Ad=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Md(e){var t=Bd();return function n(){var r=Vd(e),o;if(t){var i=Vd(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Dd(this,o)}}function Dd(e,t){if(t&&("object"===Pd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Id(e)}function Id(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bd(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Vd(e){return(Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Fd=function(e){Ld(n,e);var t=Md(n);function n(){return xd(this,n),t.apply(this,arguments)}return Cd(n,[{key:"render",value:function e(){var t=this.props.area;return t.isEmpty()?null:React.createElement("div",{className:Jo()("lc-bottom-area",{"lc-area-visible":t.visible})},React.createElement(Hd,{area:t}))}}]),n}(r.Component),Gd=Fd=Object(c.b)([a.observer],Fd),Hd=function(e){Ld(n,e);var t=Md(n);function n(){return xd(this,n),t.apply(this,arguments)}return Cd(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(r.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(r.Component);function Ud(e){return(Ud="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xd(r.key),r)}}function $d(e,t,n){return t&&Wd(e.prototype,t),n&&Wd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xd(e){var t=Yd(e,"string");return"symbol"===Ud(t)?t:String(t)}function Yd(e,t){if("object"!==Ud(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ud(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Kd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qd(e,t)}function qd(e,t){return(qd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Jd(e){var t=ev();return function n(){var r=tv(e),o;if(t){var i=tv(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Zd(this,o)}}function Zd(e,t){if(t&&("object"===Ud(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qd(e)}function Qd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ev(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function tv(e){return(tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Hd=Object(c.b)([a.observer],Hd);var nv=function(e){Kd(n,e);var t=Jd(n);function n(){return zd(this,n),t.apply(this,arguments)}return $d(n,[{key:"render",value:function e(){var t=this.props.area;return t.isEmpty()?null:React.createElement("div",{className:Jo()("lc-right-area engine-tabpane",{"lc-area-visible":t.visible})},React.createElement(ov,{area:t}))}}]),n}(r.Component),rv=nv=Object(c.b)([a.observer],nv),ov=function(e){Kd(n,e);var t=Jd(n);function n(){return zd(this,n),t.apply(this,arguments)}return $d(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(r.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(r.Component);ov=Object(c.b)([a.observer],ov);var iv=n(111),av=Object(r.createContext)({});function uv(e){return(uv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fv(r.key),r)}}function lv(e,t,n){return t&&sv(e.prototype,t),n&&sv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fv(e){var t=pv(e,"string");return"symbol"===uv(t)?t:String(t)}function pv(e,t){if("object"!==uv(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==uv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function hv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dv(e,t)}function dv(e,t){return(dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function vv(e){var t=bv();return function n(){var r=gv(e),o;if(t){var i=gv(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return yv(this,o)}}function yv(e,t){if(t&&("object"===uv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mv(e)}function mv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bv(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function gv(e){return(gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var wv=function(e){hv(n,e);var t=vv(n);function n(e){var r;cv(this,n);var o=(r=t.call(this,e)).props,i=o.config,a=o.components,u;return o.skeleton.buildFromConfig(i,a),r}return lv(n,[{key:"render",value:function e(){var t=this.props,n=t.skeleton,r=t.className,o=t.topAreaItemClassName;return React.createElement("div",{className:Jo()("lc-workbench",r)},React.createElement(av.Provider,{value:this.props.skeleton},React.createElement(eh,{area:n.topArea,itemClassName:o}),React.createElement("div",{className:"lc-workbench-body"},React.createElement(yh,{area:n.leftArea}),React.createElement(Yh,{area:n.leftFloatArea}),React.createElement(Rh,{area:n.leftFixedArea}),React.createElement("div",{className:"lc-workbench-center"},React.createElement(ld,{area:n.toolbar}),React.createElement(_d,{area:n.mainArea}),React.createElement(Gd,{area:n.bottomArea})),React.createElement(rv,{area:n.rightArea})),React.createElement(a.TipContainer,null)))}}]),n}(r.Component);function Ov(e){return e&&"Widget"===e.type}function jv(e){return e&&"Divider"===e.type}function Sv(e){return e&&/Dock$/.test(e.type)}function Ev(e){return e&&"DialogDock"===e.type}function kv(e){return e&&"Panel"===e.type}function _v(e){return e&&"PanelDock"===e.type}function Pv(e){return(Pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tv(r.key),r)}}function Cv(e,t,n){return t&&Nv(e.prototype,t),n&&Nv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tv(e){var t=Rv(e,"string");return"symbol"===Pv(t)?t:String(t)}function Rv(e,t){if("object"!==Pv(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Pv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Lv(e){return e&&e.setActive}wv=Object(c.b)([a.observer,Object(c.d)("design:paramtypes",[Object])],wv);var Av=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];xv(this,e),this.name=void 0,this.handle=void 0,this.exclusive=void 0,this.checkVisible=void 0,this.defaultSetCurrent=void 0,this.items=[],this.maps={},this._current=null,this.name=t,this.handle=n,this.exclusive=r,this.checkVisible=o,this.defaultSetCurrent=i,Object(a.makeObservable)(this)}return Cv(e,[{key:"current",get:function e(){return this._current}},{key:"visible",get:function e(){return this.checkVisible()}},{key:"active",value:function e(t){var n=t;if(t&&"string"==typeof t&&(n=this.get(t)),Lv(n)||(n=null),this.exclusive){if(this._current===n)return;this._current&&this._current.setActive(!1),this._current=n}n&&n.setActive(!0)}},{key:"unactive",value:function e(t){var n=t;t&&"string"==typeof t&&(n=this.get(t)),Lv(n)||(n=null),this._current===n&&(this._current=null),n&&n.setActive(!1)}},{key:"unactiveAll",value:function e(){var t=this;Object.keys(this.maps).forEach((function(e){return t.unactive(e)}))}},{key:"add",value:function e(t){t=this.handle(t);var n=this.get(t.name);if(n===t)return n;var r=n?this.items.indexOf(n):-1;if(r>-1?this.items[r]=t:this.items.push(t),this.maps[t.name]=t,qS(t)&&t.setParent(this),this.defaultSetCurrent){var o,i,a=null===(o=t.config)||void 0===o||null===(i=o.props)||void 0===i?void 0:i.hiddenWhenInit;this._current||a||this.active(t)}return t}},{key:"get",value:function e(t){return this.maps[t]||null}},{key:"getAt",value:function e(t){return this.items[t]||null}},{key:"has",value:function e(t){return Object(s.t)(this.maps,t)}},{key:"indexOf",value:function e(t){return this.items.indexOf(t)}},{key:"remove",value:function e(t){var n="string"==typeof t?this.get(t):t;if(!n)return-1;var r=this.items.indexOf(n);return r>-1&&this.items.splice(r,1),delete this.maps[n.name],n===this.current&&(this._current=null),r}}]),e}();Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Array)],Av.prototype,"items",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Av.prototype,"_current",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Av.prototype,"visible",null);var Mv=Symbol("project"),Dv=Symbol("designer"),Iv=Symbol("skeleton"),Bv=Symbol("document"),Vv=Symbol("editor"),Fv=Symbol("node"),Gv=Symbol("modalNodesManager"),Hv=Symbol("nodeChildren"),Uv=Symbol("prop"),zv=Symbol("settingField"),Wv=Symbol("settingTopEntry"),$v=Symbol("props"),Xv=Symbol("detecting"),Yv=Symbol("selection"),Kv=Symbol("history"),qv=Symbol("canvas"),Jv=Symbol("dragon"),Zv=Symbol("componentMeta"),Qv=Symbol("dropLocation"),ey=Symbol("simulatorHost"),ty=Symbol("dragObject"),ny=Symbol("locateEvent"),ry=Symbol("designerCabin"),oy=Symbol("hotkey"),iy=Symbol("plugins"),ay=Symbol("workspace"),uy=Symbol("window"),cy=Symbol("plugin-instance"),sy=Symbol("resourceType"),ly=Symbol("resource"),fy=Symbol("clipboard"),py=Symbol("configSymbol"),hy=Symbol("conditionGroup"),dy=Symbol("editorView"),vy=Symbol("pluginContext"),yy=Symbol("skeletonItem");function my(e){return(my="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function by(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Oy(r.key),r)}}function wy(e,t,n){return t&&gy(e.prototype,t),n&&gy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oy(e){var t=jy(e,"string");return"symbol"===my(t)?t:String(t)}function jy(e,t){if("object"!==my(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==my(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Sy=function(){function e(t){by(this,e),this[Zv]=void 0,this.isComponentMeta=!0,this[Zv]=t}return wy(e,[{key:"componentName",get:function e(){return this[Zv].componentName}},{key:"isContainer",get:function e(){return this[Zv].isContainer}},{key:"isMinimalRenderUnit",get:function e(){return this[Zv].isMinimalRenderUnit}},{key:"isModal",get:function e(){return this[Zv].isModal}},{key:"configure",get:function e(){return this[Zv].configure}},{key:"title",get:function e(){return this[Zv].title}},{key:"icon",get:function e(){return this[Zv].icon}},{key:"npm",get:function e(){return this[Zv].npm}},{key:"prototype",get:function e(){return this[Zv].prototype}},{key:"availableActions",get:function e(){return this[Zv].availableActions}},{key:"advanced",get:function e(){return this[Zv].advanced}},{key:"setNpm",value:function e(t){this[Zv].setNpm(t)}},{key:"getMetadata",value:function e(){return this[Zv].getMetadata()}},{key:"checkNestingUp",value:function e(t,n){var r=t.isNode?t[Fv]:t;return this[Zv].checkNestingUp(r,n)}},{key:"checkNestingDown",value:function e(t,n){var r=null!=t&&t.isNode?t[Fv]:t;return this[Zv].checkNestingDown(r,n[Fv]||n)}},{key:"refreshMetadata",value:function e(){this[Zv].refreshMetadata()}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function Ey(e){return(Ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ky(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xy(r.key),r)}}function Py(e,t,n){return t&&_y(e.prototype,t),n&&_y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xy(e){var t=Ny(e,"string");return"symbol"===Ey(t)?t:String(t)}function Ny(e,t){if("object"!==Ey(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ey(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Cy=function(){function e(t){ky(this,e),this[Uv]=void 0,this[Uv]=t}return Py(e,[{key:"id",get:function e(){return this[Uv].id}},{key:"key",get:function e(){return this[Uv].key}},{key:"path",get:function e(){return this[Uv].path}},{key:"node",get:function e(){return Fw.create(this[Uv].getNode())}},{key:"slotNode",get:function e(){return Fw.create(this[Uv].slotNode)}},{key:"isProp",get:function e(){return!0}},{key:"setValue",value:function e(t){this[Uv].setValue(t)}},{key:"getValue",value:function e(){return this[Uv].getValue()}},{key:"remove",value:function e(){this[Uv].remove()}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.h.Render;return this[Uv].export(t)}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function Ty(e){return(Ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ry(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ly(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,My(r.key),r)}}function Ay(e,t,n){return t&&Ly(e.prototype,t),n&&Ly(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function My(e){var t=Dy(e,"string");return"symbol"===Ty(t)?t:String(t)}function Dy(e,t){if("object"!==Ty(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ty(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Iy=function(){function e(t){Ry(this,e),this[$v]=void 0,this[$v]=t}return Ay(e,[{key:"id",get:function e(){return this[$v].id}},{key:"path",get:function e(){return this[$v].path}},{key:"node",get:function e(){return Fw.create(this[$v].getNode())}},{key:"getProp",value:function e(t){return Cy.create(this[$v].getProp(t))}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t))||void 0===n?void 0:n.getValue()}},{key:"getExtraProp",value:function e(t){return Cy.create(this[$v].getProp(q(t)))}},{key:"getExtraPropValue",value:function e(t){var n;return null===(n=this.getExtraProp(t))||void 0===n?void 0:n.getValue()}},{key:"setPropValue",value:function e(t,n){var r;return null===(r=this.getProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"setExtraPropValue",value:function e(t,n){var r;return null===(r=this.getExtraProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"has",value:function e(t){return this[$v].has(t)}},{key:"add",value:function e(t,n){return this[$v].add(t,n)}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function By(e){return(By="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hy(r.key),r)}}function Gy(e,t,n){return t&&Fy(e.prototype,t),n&&Fy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hy(e){var t=Uy(e,"string");return"symbol"===By(t)?t:String(t)}function Uy(e,t){if("object"!==By(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==By(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var zy=function(){function e(t){Vy(this,e),this[Yv]=void 0,this[Yv]=t.selection}return Gy(e,[{key:"selected",get:function e(){return this[Yv].selected}},{key:"node",get:function e(){var t=this.getNodes();return t&&t.length>0?t[0]:null}},{key:"select",value:function e(t){this[Yv].select(t)}},{key:"selectAll",value:function e(t){this[Yv].selectAll(t)}},{key:"remove",value:function e(t){this[Yv].remove(t)}},{key:"clear",value:function e(){this[Yv].clear()}},{key:"has",value:function e(t){return this[Yv].has(t)}},{key:"add",value:function e(t){this[Yv].add(t)}},{key:"getNodes",value:function e(){var t=this[Yv].getNodes(),n=[];return t.forEach((function(e){var t=Fw.create(e);t&&n.push(t)})),n}},{key:"getTopNodes",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this[Yv].getTopNodes(t),r=[];return n.forEach((function(e){var t=Fw.create(e);t&&r.push(t)})),r}},{key:"onSelectionChange",value:function e(t){return this[Yv].onSelectionChange(t)}}]),e}();function Wy(e){return(Wy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ky(r.key),r)}}function Yy(e,t,n){return t&&Xy(e.prototype,t),n&&Xy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ky(e){var t=qy(e,"string");return"symbol"===Wy(t)?t:String(t)}function qy(e,t){if("object"!==Wy(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Wy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Jy=function(){function e(t){$y(this,e),this[Bv]=void 0,this[Bv]=t}return Yy(e,[{key:Kv,get:function e(){return this[Bv].getHistory()}},{key:"go",value:function e(t){this[Kv].go(t)}},{key:"back",value:function e(){this[Kv].back()}},{key:"forward",value:function e(){this[Kv].forward()}},{key:"savePoint",value:function e(){this[Kv].savePoint()}},{key:"isSavePoint",value:function e(){return this[Kv].isSavePoint()}},{key:"getState",value:function e(){return this[Kv].getState()}},{key:"onChangeState",value:function e(t){return this[Kv].onChangeState(t)}},{key:"onChangeCursor",value:function e(t){return this[Kv].onChangeCursor(t)}}]),e}();function Zy(e){return(Zy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function em(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nm(r.key),r)}}function tm(e,t,n){return t&&em(e.prototype,t),n&&em(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nm(e){var t=rm(e,"string");return"symbol"===Zy(t)?t:String(t)}function rm(e,t){if("object"!==Zy(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Zy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var om=function(){function e(t){Qy(this,e),this[Qv]=void 0,this[Qv]=t}return tm(e,[{key:"target",get:function e(){return Fw.create(this[Qv].target)}},{key:"detail",get:function e(){return this[Qv].detail}},{key:"event",get:function e(){return this[Qv].event}},{key:"clone",value:function t(n){return new e(this[Qv].clone(n))}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function im(){return(im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function am(e){return(am="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function um(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lm(r.key),r)}}function sm(e,t,n){return t&&cm(e.prototype,t),n&&cm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lm(e){var t=fm(e,"string");return"symbol"===am(t)?t:String(t)}function fm(e,t){if("object"!==am(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==am(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var pm=function(){function e(t){um(this,e),this[Vv]=void 0,this[ry]=void 0,this[Vv]=t,this[ry]={isDragNodeObject:s.C,isDragAnyObject:s.A,isShaken:bc,contains:nt,LocationDetailType:u.j,isLocationChildrenDetail:s.K,ScrollTarget:tc,isSettingField:s.V,TransformStage:u.h,SettingField:il,LiveEditing:ao,DragObjectType:u.f,isDragNodeDataObject:s.B,isNode:s.N}}return sm(e,[{key:Dv,get:function e(){return this[Vv].get("designer")}},{key:"isSettingField",value:function e(t){return Object(s.V)(t)}},{key:"TransformStage",get:function e(){return u.h}},{key:"SettingField",get:function e(){return il}},{key:"LiveEditing",get:function e(){return ao}},{key:"DragObjectType",get:function e(){return u.f}},{key:"isDragNodeDataObject",value:function e(t){return Object(s.B)(t)}},{key:"isNode",value:function e(t){return Object(s.N)(t)}},{key:"dragon",get:function e(){return bO.create(this[Dv].dragon,!1)}}]),e}(),hm=function(){function e(t){um(this,e),this[Iv]=void 0,this[Iv]=t}return sm(e,[{key:"Workbench",get:function e(){var t=this[Iv];return function(e){return React.createElement(wv,im({},e,{skeleton:t}))}}},{key:"createSettingFieldView",value:function e(t,n){return Q_(t[zv]||t,n)}},{key:"PopupContext",get:function e(){return Lk}},{key:"PopupPipe",get:function e(){return Ak}}]),e}(),dm=function(){function e(){um(this,e)}return sm(e,[{key:"isNodeSchema",value:function e(t){return Object(s.O)(t)}},{key:"isFormEvent",value:function e(t){return Object(s.F)(t)}},{key:"compatibleLegaoSchema",value:function e(t){return Object(s.l)(t)}},{key:"getNodeSchemaById",value:function e(t,n){return Object(s.s)(t,n)}},{key:"getConvertedExtraKey",value:function e(t){return q(t)}},{key:"getOriginalExtraKey",value:function e(t){return J(t)}},{key:"executeTransaction",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.i.REPAINT;s.bb.executeTransaction(t,n)}},{key:"createIntl",value:function e(t){return Object(a.createIntl)(t)}}]),e}(),vm=function(){function e(t){var n=this;um(this,e),this[Vv]=void 0,this.createSetterContent=function(e,t){var r;return n[Vv].get("setters").createSetterContent(e,t)},this[Vv]=t}return sm(e,[{key:"Title",get:function e(){return a.Title}},{key:"Tip",get:function e(){return a.Tip}},{key:"shallowIntl",value:function e(t){return Object(a.shallowIntl)(t)}},{key:"createIntl",value:function e(t){return Object(a.createIntl)(t)}},{key:"intl",value:function e(t,n){return Object(a.intl)(t,n)}},{key:"globalLocale",get:function e(){return a.globalLocale}},{key:"obx",get:function e(){return a.obx}},{key:"action",get:function e(){return a.action}},{key:"engineConfig",get:function e(){return a.engineConfig}},{key:"runInAction",get:function e(){return a.runInAction}},{key:"observable",get:function e(){return a.observable}},{key:"makeObservable",value:function e(t,n,r){return Object(a.makeObservable)(t,n,r)}},{key:"untracked",value:function e(t){return Object(a.untracked)(t)}},{key:"computed",get:function e(){return a.computed}},{key:"observer",value:function e(t){return Object(a.observer)(t)}}]),e}(),ym=function(){function e(t,n){um(this,e),this.__designerCabin=void 0,this.__skeletonCabin=void 0,this.__editorCabin=void 0,this.__utils=void 0,this.__designerCabin=new pm(t),this.__skeletonCabin=new hm(n),this.__editorCabin=new vm(t),this.__utils=new dm}return sm(e,[{key:"utils",get:function e(){return this.__utils}},{key:"editorCabin",get:function e(){return this.__editorCabin}},{key:"designerCabin",get:function e(){return this.__designerCabin}},{key:"skeletonCabin",get:function e(){return this.__skeletonCabin}},{key:"objects",get:function e(){return{TransformStage:u.h}}}]),e}();function mm(e){return(mm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Om(r.key),r)}}function wm(e,t,n){return t&&gm(e.prototype,t),n&&gm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Om(e){var t=jm(e,"string");return"symbol"===mm(t)?t:String(t)}function jm(e,t){if("object"!==mm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==mm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Sm=Object(s.r)({level:"warn",bizName:"shell-event"}),Em=Symbol("eventBus"),km=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];bm(this,e),this.workspaceMode=void 0,this[Em]=void 0,this.options=void 0,this.workspaceMode=r,this[Em]=t,this.options=n,this.options.prefix||Sm.warn("prefix is required while initializing Event")}return wm(e,[{key:"on",value:function e(t,n){return Object(s.Q)(t)?this[Em].on(t,n):(Sm.warn("fail to monitor on event ".concat(t,", event should have a prefix like 'somePrefix:eventName'")),function(){})}},{key:"off",value:function e(t,n){this[Em].off(t,n)}},{key:"emit",value:function e(t){var n;if(this.options.prefix){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this[Em]).emit.apply(n,["".concat(this.options.prefix,":").concat(t)].concat(o))}else Sm.warn("Event#emit has been forbidden while prefix is not specified")}},{key:"__internalEmit__",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this[Em]).emit.apply(n,[t].concat(o))}}]),e}();function _m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{prefix:"common"};return new km(e.eventBus,t)}function Pm(e){return(Pm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tm(r.key),r)}}function Cm(e,t,n){return t&&Nm(e.prototype,t),n&&Nm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tm(e){var t=Rm(e,"string");return"symbol"===Pm(t)?t:String(t)}function Rm(e,t){if("object"!==Pm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Pm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Lm=Symbol("innerHotkey"),Am=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];xm(this,e),this.workspaceMode=void 0,this[Lm]=void 0,this.workspaceMode=n,this[Lm]=t}return Cm(e,[{key:oy,get:function e(){if(this.workspaceMode)return this[Lm];var t=a.globalContext.get("workspace");return t.isActive?t.window.innerHotkey:this[Lm]}},{key:"callbacks",get:function e(){return this[oy].callBacks}},{key:"callBacks",get:function e(){return this.callbacks}},{key:"bind",value:function e(t,n,r){var o=this;return this[oy].bind(t,n,r),function(){o[oy].unbind(t,n,r)}}}]),e}();function Mm(e){return(Mm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Im(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vm(r.key),r)}}function Bm(e,t,n){return t&&Im(e.prototype,t),n&&Im(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vm(e){var t=Fm(e,"string");return"symbol"===Mm(t)?t:String(t)}function Fm(e,t){if("object"!==Mm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Mm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Gm=Symbol("logger"),Hm=function(){function e(t){Dm(this,e),this[Gm]=void 0,this[Gm]=Object(s.r)(t)}return Bm(e,[{key:"debug",value:function e(){var t;(t=this[Gm]).debug.apply(t,arguments)}},{key:"info",value:function e(){var t;(t=this[Gm]).info.apply(t,arguments)}},{key:"warn",value:function e(){var t;(t=this[Gm]).warn.apply(t,arguments)}},{key:"error",value:function e(){var t;(t=this[Gm]).error.apply(t,arguments)}},{key:"log",value:function e(){var t;(t=this[Gm]).log.apply(t,arguments)}}]),e}();function Um(e){return(Um="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zm(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Wm(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function Wm(e,t){if(e){if("string"==typeof e)return $m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$m(e,t):void 0}}function $m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xm(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Xm=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==Um(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,k.prototype={constructor:k,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Ym(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Km(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ym(i,r,o,a,u,"next",e)}function u(e){Ym(i,r,o,a,u,"throw",e)}a(void 0)}))}}function qm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qm(r.key),r)}}function Zm(e,t,n){return t&&Jm(e.prototype,t),n&&Jm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qm(e){var t=eb(e,"string");return"symbol"===Um(t)?t:String(t)}function eb(e,t){if("object"!==Um(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Um(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var tb=Symbol("editor"),nb=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];qm(this,e),this.workspaceMode=void 0,this[tb]=void 0,this.registerMetadataTransducer=function(e,t,r){n[Dv].componentActions.registerMetadataTransducer(e,t,r)},this.addBuiltinComponentAction=function(e){n[Dv].componentActions.addBuiltinComponentAction(e)},this.refreshComponentMetasMap=function(){n[Dv].refreshComponentMetasMap()},this.workspaceMode=r,this[tb]=t}return Zm(e,[{key:Vv,get:function e(){if(this.workspaceMode)return this[tb];var t=a.globalContext.get("workspace");return t.isActive?t.window.editor:this[tb]}},{key:Dv,get:function e(){return this[Vv].get("designer")}},{key:"componentsMap",get:function e(){return this[Dv].componentsMap}},{key:"setAssets",value:function(){var e=Km(Xm().mark((function e(t){return Xm().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this[Vv].setAssets(t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAssets",value:function e(){return this[Vv].get("assets")}},{key:"loadIncrementalAssets",value:function e(t){return this[Dv].loadIncrementalAssets(t)}},{key:"getRegisteredMetadataTransducers",value:function e(){return this[Dv].componentActions.getRegisteredMetadataTransducers()}},{key:"getComponentMeta",value:function e(t){var n=this[Dv].getComponentMeta(t);return Sy.create(n)}},{key:"createComponentMeta",value:function e(t){return Sy.create(this[Dv].createComponentMeta(t))}},{key:"isComponentMeta",value:function e(t){return Nn(t)}},{key:"getComponentMetasMap",value:function e(){var t=new Map,n,r=zm(this[Dv].getComponentMetasMap().keys()),o;try{for(r.s();!(o=r.n()).done;){var i=o.value;t.set(i,this.getComponentMeta(i))}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"removeBuiltinComponentAction",value:function e(t){this[Dv].componentActions.removeBuiltinComponentAction(t)}},{key:"modifyBuiltinComponentAction",value:function e(t,n){this[Dv].componentActions.modifyBuiltinComponentAction(t,n)}},{key:"onChangeAssets",value:function e(t){var n=[this[Vv].onGot("assets",t),this[Vv].eventBus.on("designer.incrementalAssetsReady",t)];return function(){n.forEach((function(e){return e&&e()}))}}}]),e}();function rb(e){return(rb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ob(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ob=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==rb(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,k.prototype={constructor:k,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function ib(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ab(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ib(i,r,o,a,u,"next",e)}function u(e){ib(i,r,o,a,u,"throw",e)}a(void 0)}))}}function ub(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lb(r.key),r)}}function sb(e,t,n){return t&&cb(e.prototype,t),n&&cb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lb(e){var t=fb(e,"string");return"symbol"===rb(t)?t:String(t)}function fb(e,t){if("object"!==rb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==rb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var pb=Symbol("plugin"),hb=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ub(this,e),this.workspaceMode=void 0,this[pb]=void 0,this.workspaceMode=n,this[pb]=t}return sb(e,[{key:iy,get:function e(){if(this.workspaceMode)return this[pb];var t=a.globalContext.get("workspace");return t.isActive?t.window.innerPlugins:this[pb]}},{key:"register",value:function(){var e=ab(ob().mark((function e(t,n,r){return ob().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this[iy].register(t,n,r);case 2:case"end":return o.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=ab(ob().mark((function e(t){return ob().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this[iy].init(t);case 2:case"end":return n.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getPluginPreference",value:function e(t){return this[iy].getPluginPreference(t)}},{key:"get",value:function e(t){var n=this[iy].get(t);return n?new FO(n):null}},{key:"getAll",value:function e(){var t;return null===(t=this[iy].getAll())||void 0===t?void 0:t.map((function(e){return new FO(e)}))}},{key:"has",value:function e(t){return this[iy].has(t)}},{key:"delete",value:function(){var e=ab(ob().mark((function e(t){return ob().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this[iy].delete(t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"toProxy",value:function e(){return new Proxy(this,{get:function e(t,n,r){var o=t[iy];if(o.pluginsMap.has(n)){var i;if(o.pluginsMap.get(n).disabled)return;return null===(i=o.pluginsMap.get(n))||void 0===i?void 0:i.toProxy()}return Reflect.get(t,n,r)}})}}]),e}();function db(e){return(db="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bb(r.key),r)}}function mb(e,t,n){return t&&yb(e.prototype,t),n&&yb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bb(e){var t=gb(e,"string");return"symbol"===db(t)?t:String(t)}function gb(e,t){if("object"!==db(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==db(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var wb=function(){function e(t){vb(this,e),this[ey]=void 0,this[ey]=t}return mb(e,[{key:"contentWindow",get:function e(){return this[ey].contentWindow}},{key:"contentDocument",get:function e(){return this[ey].contentDocument}},{key:"renderer",get:function e(){return this[ey].renderer}},{key:"set",value:function e(t,n){this[ey].set(t,n)}},{key:"get",value:function e(t){return this[ey].get(t)}},{key:"scrollToNode",value:function e(t){this[ey].scrollToNode(t[Fv])}},{key:"rerender",value:function e(){this[ey].rerender()}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function Ob(e){return(Ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jb(Object(n),!0).forEach((function(t){Eb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eb(e,t,n){return(t=xb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xb(r.key),r)}}function Pb(e,t,n){return t&&_b(e.prototype,t),n&&_b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xb(e){var t=Nb(e,"string");return"symbol"===Ob(t)?t:String(t)}function Nb(e,t){if("object"!==Ob(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ob(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Cb=Object(s.r)({level:"warn",bizName:"shell-project"}),Tb=Symbol("innerProject"),Rb=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];kb(this,e),this.workspaceMode=void 0,this[Tb]=void 0,this[ey]=void 0,this.workspaceMode=n,this[Tb]=t}return Pb(e,[{key:Mv,get:function e(){if(this.workspaceMode)return this[Tb];var t=a.globalContext.get("workspace"),n;return t.isActive?null!==(n=t.window)&&void 0!==n&&n.innerProject?t.window.innerProject:(Cb.error("project api \u8c03\u7528\u65f6\u673a\u51fa\u73b0\u95ee\u9898\uff0c\u8bf7\u68c0\u67e5"),this[Tb]):this[Tb]}},{key:Vv,get:function e(){var t;return null===(t=this[Mv])||void 0===t?void 0:t.designer.editor}},{key:"currentDocument",get:function e(){return this.getCurrentDocument()}},{key:"documents",get:function e(){return this[Mv].documents.map((function(e){return rw.create(e)}))}},{key:"simulatorHost",get:function e(){return wb.create(this[Mv].simulator||this[ey])}},{key:"simulator",get:function e(){return this.simulatorHost}},{key:"openDocument",value:function e(t){var n=this[Mv].open(t);return n?rw.create(n):null}},{key:"createDocument",value:function e(t){var n=this[Mv].createDocument(t);return rw.create(n)}},{key:"removeDocument",value:function e(t){this[Mv].removeDocument(t[Bv])}},{key:"getDocumentByFileName",value:function e(t){var n=this[Mv].getDocumentByFileName(t);return rw.create(n)}},{key:"getDocumentById",value:function e(t){return rw.create(this[Mv].getDocument(t))}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.h.Render;return this[Mv].getSchema(t)}},{key:"importSchema",value:function e(t){this[Mv].load(t,!0)}},{key:"getCurrentDocument",value:function e(){return rw.create(this[Mv].currentDocument)}},{key:"addPropsTransducer",value:function e(t,n){this[Mv].designer.addPropsReducer(t,n)}},{key:"onRemoveDocument",value:function e(t){return this[Vv].eventBus.on("designer.document.remove",(function(e){return t(e)}))}},{key:"onChangeDocument",value:function e(t){var n=this[Mv].onCurrentDocumentChange((function(e){t(rw.create(e))}));return this[Mv].currentDocument&&t(rw.create(this[Mv].currentDocument)),n}},{key:"onSimulatorHostReady",value:function e(t){var n;return this[Mv].onSimulatorReady((function(e){t(wb.create(e))}))}},{key:"onSimulatorRendererReady",value:function e(t){var n;return this[Mv].onRendererReady((function(){t()}))}},{key:"setI18n",value:function e(t){this[Mv].set("i18n",t)}},{key:"setConfig",value:function e(){if(2===arguments.length){var t=this[Mv].get("config");this[Mv].set("config",Sb(Sb({},t),{},Eb({},arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])))}else this[Mv].set("config",arguments.length<=0?void 0:arguments[0])}}],[{key:"create",value:function t(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new e(n,r)}}]),e}();function Lb(e){return(Lb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ab(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ib(r.key),r)}}function Db(e,t,n){return t&&Mb(e.prototype,t),n&&Mb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ib(e){var t=Bb(e,"string");return"symbol"===Lb(t)?t:String(t)}function Bb(e,t){if("object"!==Lb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Lb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Vb=Symbol("setters"),Fb=Symbol("setters"),Gb=Object(s.r)({level:"warn",bizName:"shell-setters"}),Hb=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ab(this,e),this.workspaceMode=void 0,this[Vb]=void 0,this.getSetter=function(e){return n[Fb].getSetter(e)},this.registerSetter=function(e,t){return n[Fb].registerSetter(e,t)},this.createSetterContent=function(e,t){return n[Fb].createSetterContent(e,t)},this.workspaceMode=r,this[Vb]=t}return Db(e,[{key:Fb,get:function e(){var t=this;if(this.workspaceMode)return this[Vb];var n=a.globalContext.get("workspace");return n.isActive?Object(a.untracked)((function(){return n.window.innerSetters?n.window.innerSetters:(Gb.error("setter api \u8c03\u7528\u65f6\u673a\u51fa\u73b0\u95ee\u9898\uff0c\u8bf7\u68c0\u67e5"),t[Vb])})):this[Vb]}},{key:"getSettersMap",value:function e(){return this[Fb].getSettersMap()}}]),e}();function Ub(e){return(Ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xb(r.key),r)}}function $b(e,t,n){return t&&Wb(e.prototype,t),n&&Wb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xb(e){var t=Yb(e,"string");return"symbol"===Ub(t)?t:String(t)}function Yb(e,t){if("object"!==Ub(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ub(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Kb=function(){function e(t){zb(this,e),this[yy]=void 0,this[yy]=t}return $b(e,[{key:"name",get:function e(){return this[yy].name}},{key:"disable",value:function e(){var t,n;null===(t=(n=this[yy]).disable)||void 0===t||t.call(n)}},{key:"enable",value:function e(){var t,n;null===(t=(n=this[yy]).enable)||void 0===t||t.call(n)}},{key:"hide",value:function e(){this[yy].hide()}},{key:"show",value:function e(){this[yy].show()}}]),e}(),qb=["skeleton"],Jb=["skeleton"],Zb=["skeleton"],Qb=["skeleton"];function eg(e){return(eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tg(e,t){if(null==e)return{};var n=ng(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ng(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function rg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function og(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rg(Object(n),!0).forEach((function(t){ig(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ig(e,t,n){return(t=sg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ag(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ug(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sg(r.key),r)}}function cg(e,t,n){return t&&ug(e.prototype,t),n&&ug(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sg(e){var t=lg(e,"string");return"symbol"===eg(t)?t:String(t)}function lg(e,t){if("object"!==eg(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var fg=Symbol("skeleton"),pg=Object(s.r)({level:"warn",bizName:"shell-skeleton"}),hg=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];ag(this,e),this.workspaceMode=void 0,this[fg]=void 0,this.pluginName=void 0,this.workspaceMode=r,this[fg]=t,this.pluginName=n}return cg(e,[{key:Iv,get:function e(){if(this.workspaceMode)return this[fg];var t=a.globalContext.get("workspace");return t.isActive?t.window.innerSkeleton?t.window.innerSkeleton:(pg.error("skeleton api \u8c03\u7528\u65f6\u673a\u51fa\u73b0\u95ee\u9898\uff0c\u8bf7\u68c0\u67e5"),this[fg]):this[fg]}},{key:"add",value:function e(t,n){var r=og(og({},t),{},{pluginName:this.pluginName}),o=this[Iv].add(r,n);if(o)return new Kb(o)}},{key:"remove",value:function e(t){var n,r=t.area,o=t.name,i=this[Iv];dg(r)&&(null===(n=i[dg(r)].container)||void 0===n||n.remove(o))}},{key:"getAreaItems",value:function e(t){var n;return null===(n=this[Iv][dg(t)].container.items)||void 0===n?void 0:n.map((function(e){return new Kb(e)}))}},{key:"showPanel",value:function e(t){var n;null===(n=this[Iv].getPanel(t))||void 0===n||n.show()}},{key:"hidePanel",value:function e(t){var n;null===(n=this[Iv].getPanel(t))||void 0===n||n.hide()}},{key:"showWidget",value:function e(t){var n;null===(n=this[Iv].getWidget(t))||void 0===n||n.show()}},{key:"enableWidget",value:function e(t){var n,r;null===(n=this[Iv].getWidget(t))||void 0===n||null===(r=n.enable)||void 0===r||r.call(n)}},{key:"hideWidget",value:function e(t){var n;null===(n=this[Iv].getWidget(t))||void 0===n||n.hide()}},{key:"disableWidget",value:function e(t){var n,r;null===(n=this[Iv].getWidget(t))||void 0===n||null===(r=n.disable)||void 0===r||r.call(n)}},{key:"showArea",value:function e(t){var n;null===(n=this[Iv][t])||void 0===n||n.show()}},{key:"hideArea",value:function e(t){var n;null===(n=this[Iv][t])||void 0===n||n.hide()}},{key:"onShowPanel",value:function e(t){var n=this[Iv].editor;return n.eventBus.on(YE.PANEL_SHOW,(function(e,n){var r=n.skeleton,o=tg(n,qb);t(e,o)})),function(){return n.eventBus.off(YE.PANEL_SHOW,t)}}},{key:"onHidePanel",value:function e(t){var n=this[Iv].editor;return n.eventBus.on(YE.PANEL_HIDE,(function(e,n){var r=n.skeleton,o=tg(n,Jb);t(e,o)})),function(){return n.eventBus.off(YE.PANEL_HIDE,t)}}},{key:"onShowWidget",value:function e(t){var n=this[Iv].editor;return n.eventBus.on(YE.WIDGET_SHOW,(function(e,n){var r=n.skeleton,o=tg(n,Zb);t(e,o)})),function(){return n.eventBus.off(YE.WIDGET_SHOW,t)}}},{key:"onHideWidget",value:function e(t){var n=this[Iv].editor;return n.eventBus.on(YE.WIDGET_HIDE,(function(e,n){var r=n.skeleton,o=tg(n,Qb);t(e,o)})),function(){return n.eventBus.off(YE.WIDGET_HIDE,t)}}}]),e}();function dg(e){switch(e){case"leftArea":case"left":return"leftArea";case"rightArea":case"right":return"rightArea";case"topArea":case"top":return"topArea";case"toolbar":return"toolbar";case"mainArea":case"main":case"center":case"centerArea":return"mainArea";case"bottomArea":case"bottom":return"bottomArea";case"leftFixedArea":return"leftFixedArea";case"leftFloatArea":return"leftFloatArea";case"stages":return"stages";case"subTopArea":return"subTopArea";default:throw new Error("".concat(e," not supported"))}}function vg(e){return(vg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yg(Object(n),!0).forEach((function(t){bg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bg(e,t,n){return(t=jg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jg(r.key),r)}}function Og(e,t,n){return t&&wg(e.prototype,t),n&&wg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jg(e){var t=Sg(e,"string");return"symbol"===vg(t)?t:String(t)}function Sg(e,t){if("object"!==vg(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==vg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Eg=Symbol("clipboardInstace"),kg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];gg(this,e),this.workspaceMode=void 0,this[Vv]=void 0,this[Eg]=void 0,this.workspaceMode=n,this[Vv]=t,this[Eg]=new lj}return Og(e,[{key:Dv,get:function e(){return this[Vv].get("designer")}},{key:"dragon",get:function e(){return bO.create(this[Dv].dragon,this.workspaceMode)}},{key:"activeTracker",get:function e(){var t;return new LO(this[Dv].activeTracker)}},{key:"isInLiveEditing",get:function e(){var t,n,r,o;return Boolean(null===(t=this[Vv].get("designer"))||void 0===t||null===(n=t.project)||void 0===n||null===(r=n.simulator)||void 0===r||null===(o=r.liveEditing)||void 0===o?void 0:o.editing)}},{key:"clipboard",get:function e(){return this[Eg]}},{key:"createScrollTarget",value:function e(t){return new tc(t)}},{key:"createScroller",value:function e(t){return this[Dv].createScroller(t)}},{key:"createLocation",value:function e(t){return new om(this[Dv].createLocation(mg(mg({},t),{},{target:t.target[Fv]})))}},{key:"dropLocation",get:function e(){return om.create(this[Dv].dropLocation||null)}}]),e}();function _g(e){return(_g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cg(r.key),r)}}function Ng(e,t,n){return t&&xg(e.prototype,t),n&&xg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cg(e){var t=Tg(e,"string");return"symbol"===_g(t)?t:String(t)}function Tg(e,t){if("object"!==_g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Rg=function(){function e(t){Pg(this,e),this[ay]=void 0,this[ay]=t}return Ng(e,[{key:"resourceList",get:function e(){return this[ay].getResourceList().map((function(e){return new kO(e)}))}},{key:"setResourceList",value:function e(t){this[ay].setResourceList(t)}},{key:"onResourceListChange",value:function e(t){return this[ay].onResourceListChange(t)}},{key:"isActive",get:function e(){return this[ay].isActive}},{key:"window",get:function e(){return this[ay].window?new rj(this[ay].window):null}},{key:"onWindowRendererReady",value:function e(t){return this[ay].onWindowRendererReady(t)}},{key:"registerResourceType",value:function e(t){this[ay].registerResourceType(t)}},{key:"openEditorWindow",value:function e(t,n,r,o,i){this[ay].openEditorWindow(t,n,r,o,i)}},{key:"openEditorWindowById",value:function e(t){this[ay].openEditorWindowById(t)}},{key:"removeEditorWindow",value:function e(t,n){this[ay].removeEditorWindow(t,n)}},{key:"removeEditorWindowById",value:function e(t){this[ay].removeEditorWindowById(t)}},{key:"plugins",get:function e(){return new hb(this[ay].plugins,!0)}},{key:"windows",get:function e(){return this[ay].windows.map((function(e){return new rj(e)}))}},{key:"onChangeWindows",value:function e(t){return this[ay].onChangeWindows(t)}},{key:"onChangeActiveWindow",value:function e(t){return this[ay].onChangeActiveWindow(t)}},{key:"onChangeActiveEditorView",value:function e(t){return this[ay].onChangeActiveEditorView(t)}}]),e}();function Lg(e){return(Lg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ag(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ig(r.key),r)}}function Dg(e,t,n){return t&&Mg(e.prototype,t),n&&Mg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ig(e){var t=Bg(e,"string");return"symbol"===Lg(t)?t:String(t)}function Bg(e,t){if("object"!==Lg(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Lg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Vg=function(){function e(t){Ag(this,e),this[py]=void 0,this[py]=t}return Dg(e,[{key:"has",value:function e(t){return this[py].has(t)}},{key:"get",value:function e(t,n){return this[py].get(t,n)}},{key:"set",value:function e(t,n){this[py].set(t,n)}},{key:"setConfig",value:function e(t){this[py].setConfig(t)}},{key:"onceGot",value:function e(t){return this[py].onceGot(t)}},{key:"onGot",value:function e(t,n){return this[py].onGot(t,n)}},{key:"getPreference",value:function e(){return this[py].getPreference()}}]),e}();function Fg(e){return(Fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zg(r.key),r)}}function Ug(e,t,n){return t&&Hg(e.prototype,t),n&&Hg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zg(e){var t=Wg(e,"string");return"symbol"===Fg(t)?t:String(t)}function Wg(e,t){if("object"!==Fg(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Fg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var $g=function(){function e(t){Gg(this,e),this[Gv]=void 0,this[Gv]=t}return Ug(e,[{key:"setNodes",value:function e(){this[Gv].setNodes()}},{key:"getModalNodes",value:function e(){var t=this[Gv].getModalNodes(),n=[];return null==t||t.forEach((function(e){var t=Fw.create(e);t&&n.push(t)})),n}},{key:"getVisibleModalNode",value:function e(){return Fw.create(this[Gv].getVisibleModalNode())}},{key:"hideModalNodes",value:function e(){this[Gv].hideModalNodes()}},{key:"setVisible",value:function e(t){this[Gv].setVisible(t[Fv])}},{key:"setInvisible",value:function e(t){this[Gv].setInvisible(t[Fv])}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function Xg(e){return(Xg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yg(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Kg(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function Kg(e,t){if(e){if("string"==typeof e)return qg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qg(e,t):void 0}}function qg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ew(r.key),r)}}function Qg(e,t,n){return t&&Zg(e.prototype,t),n&&Zg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ew(e){var t=tw(e,"string");return"symbol"===Xg(t)?t:String(t)}function tw(e,t){if("object"!==Xg(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Xg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var nw=Symbol("shellDocSymbol"),rw=function(){function e(t){var n;Jg(this,e),this[Bv]=void 0,this[Vv]=void 0,this._focusNode=void 0,this.selection=void 0,this.detecting=void 0,this.history=void 0,this.canvas=void 0,this[Bv]=t,this[Vv]=null===(n=t.designer)||void 0===n?void 0:n.editor,this.selection=new zy(t),this.detecting=new Xw(t),this.history=new Jy(t),this.canvas=new kg(this[Vv]),this._focusNode=Fw.create(this[Bv].focusNode)}return Qg(e,[{key:"id",get:function e(){return this[Bv].id},set:function e(t){this[Bv].id=t}},{key:"project",get:function e(){return Rb.create(this[Bv].project,!0)}},{key:"root",get:function e(){return Fw.create(this[Bv].rootNode)}},{key:"focusNode",get:function e(){return this._focusNode||this.root},set:function e(t){this._focusNode=t,this[Vv].eventBus.emit("shell.document.focusNodeChanged",{document:this,focusNode:t})}},{key:"nodesMap",get:function e(){var t=new Map,n=Yg(this[Bv].nodesMap.keys()),r;try{for(n.s();!(r=n.n()).done;){var o=r.value;t.set(o,this.getNodeById(o))}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"modalNodesManager",get:function e(){return $g.create(this[Bv].modalNodesManager)}},{key:"dropLocation",get:function e(){return om.create(this[Bv].dropLocation)},set:function e(t){this[Bv].dropLocation=t}},{key:"getNodeById",value:function e(t){return Fw.create(this[Bv].getNode(t))}},{key:"importSchema",value:function e(t){this[Bv].import(t),this[Vv].eventBus.emit("shell.document.importSchema",t)}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.h.Render;return this[Bv].export(t)}},{key:"insertNode",value:function e(t,n,r,o){var i=this[Bv].insertNode(t[Fv]?t[Fv]:t,null!=n&&n[Fv]?n[Fv]:n,r,o);return Fw.create(i)}},{key:"createNode",value:function e(t){return Fw.create(this[Bv].createNode(t))}},{key:"removeNode",value:function e(t){this[Bv].removeNode(t)}},{key:"getComponentsMap",value:function e(t){return this[Bv].getComponentsMap(t)}},{key:"checkNesting",value:function e(t,n){var r=n,o;Object(s.C)(n)&&(r.nodes=null===(o=r.nodes)||void 0===o?void 0:o.map((function(e){return e[Fv]||e})));return this[Bv].checkNesting(t[Fv]||t,r)}},{key:"onAddNode",value:function e(t){return this[Bv].onNodeCreate((function(e){t(Fw.create(e))}))}},{key:"onMountNode",value:function e(t){var n=this;return this[Vv].eventBus.on("node.add",t),function(){n[Vv].eventBus.off("node.add",t)}}},{key:"onRemoveNode",value:function e(t){return this[Bv].onNodeDestroy((function(e){t(Fw.create(e))}))}},{key:"onChangeDetecting",value:function e(t){return this[Bv].designer.detecting.onDetectingChange((function(e){t(Fw.create(e))}))}},{key:"onChangeSelection",value:function e(t){return this[Bv].selection.onSelectionChange((function(e){t(e)}))}},{key:"onChangeNodeVisible",value:function e(t){return this[Bv].onChangeNodeVisible((function(e,n){t(Fw.create(e),n)}))}},{key:"onChangeNodeChildren",value:function e(t){return this[Bv].onChangeNodeChildren((function(e){e&&t({type:e.type,node:Fw.create(e.node)})}))}},{key:"onChangeNodeProp",value:function e(t){var n=this,r=function e(n){t({key:n.key,oldValue:n.oldValue,newValue:n.newValue,prop:Cy.create(n.prop),node:Fw.create(n.node)})};return this[Vv].on(u.e.Node.Prop.InnerChange,r),function(){n[Vv].off(u.e.Node.Prop.InnerChange,r)}}},{key:"onImportSchema",value:function e(t){return this[Vv].eventBus.on("shell.document.importSchema",t)}},{key:"isDetectingNode",value:function e(t){return this.detecting.current===t}},{key:"onFocusNodeChanged",value:function e(t){return t?this[Vv].eventBus.on("shell.document.focusNodeChanged",(function(e){var n=e.document,r=e.focusNode;t(n,r)})):function(){}}},{key:"onDropLocationChanged",value:function e(t){return t?this[Vv].eventBus.on("document.dropLocation.changed",(function(e){var n=e.document;t(n)})):function(){}}}],[{key:"create",value:function t(n){if(!n)return null;if(n[nw])return n[nw];var r=new e(n);return n[nw]=r,r}}]),e}();function ow(e){return(ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cw(r.key),r)}}function uw(e,t,n){return t&&aw(e.prototype,t),n&&aw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cw(e){var t=sw(e,"string");return"symbol"===ow(t)?t:String(t)}function sw(e,t){if("object"!==ow(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ow(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var lw=function(){function e(t){iw(this,e),this[Hv]=void 0,this[Hv]=t}return uw(e,[{key:"owner",get:function e(){return Fw.create(this[Hv].owner)}},{key:"size",get:function e(){return this[Hv].size}},{key:"isEmpty",get:function e(){return this[Hv].isEmptyNode}},{key:"isEmptyNode",get:function e(){return this[Hv].isEmptyNode}},{key:"notEmpty",get:function e(){return this[Hv].notEmptyNode}},{key:"notEmptyNode",get:function e(){return this[Hv].notEmptyNode}},{key:"delete",value:function e(t){return this[Hv].delete(null==t?void 0:t[Fv])}},{key:"insert",value:function e(t,n){return this[Hv].insert(null==t?void 0:t[Fv],n)}},{key:"indexOf",value:function e(t){return this[Hv].indexOf(null==t?void 0:t[Fv])}},{key:"splice",value:function e(t,n,r){this[Hv].splice(t,n,null==r?void 0:r[Fv])}},{key:"get",value:function e(t){return Fw.create(this[Hv].get(t))}},{key:"has",value:function e(t){return this[Hv].has(null==t?void 0:t[Fv])}},{key:"forEach",value:function e(t){this[Hv].forEach((function(e,n){t(Fw.create(e),n)}))}},{key:"reverse",value:function e(){return this[Hv].reverse().map((function(e){return Fw.create(e)}))}},{key:"map",value:function e(t){return this[Hv].map((function(e,n){return t(Fw.create(e),n)}))}},{key:"every",value:function e(t){return this[Hv].every((function(e,n){return t(Fw.create(e),n)}))}},{key:"some",value:function e(t){return this[Hv].some((function(e,n){return t(Fw.create(e),n)}))}},{key:"filter",value:function e(t){return this[Hv].filter((function(e,n){return t(Fw.create(e),n)})).map((function(e){return Fw.create(e)}))}},{key:"find",value:function e(t){return Fw.create(this[Hv].find((function(e,n){return t(Fw.create(e),n)})))}},{key:"reduce",value:function e(t,n){return this[Hv].reduce((function(e,n){return t(e,Fw.create(n))}),n)}},{key:"importSchema",value:function e(t){this[Hv].import(t)}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.h.Render;return this[Hv].export(t)}},{key:"mergeChildren",value:function e(t,n,r){var o=r;o||(o=function e(){return 0}),this[Hv].mergeChildren((function(e,n){return t(Fw.create(e),n)}),(function(e){return n(e.map((function(e){return Fw.create(e)})))}),(function(e,t){return o(Fw.create(e),Fw.create(t))}))}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function fw(e){return(fw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vw(r.key),r)}}function dw(e,t,n){return t&&hw(e.prototype,t),n&&hw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vw(e){var t=yw(e,"string");return"symbol"===fw(t)?t:String(t)}function yw(e,t){if("object"!==fw(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==fw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var mw=function(){function e(t){pw(this,e),this[zv]=void 0,this[zv]=t}return dw(e,[{key:"isGroup",get:function e(){return this[zv].isGroup}},{key:"id",get:function e(){return this[zv].id}},{key:"name",get:function e(){return this[zv].name}},{key:"key",get:function e(){return this[zv].getKey()}},{key:"path",get:function e(){return this[zv].path}},{key:"title",get:function e(){return this[zv].title}},{key:"setter",get:function e(){return this[zv].setter}},{key:"expanded",get:function e(){return this[zv].expanded}},{key:"extraProps",get:function e(){return this[zv].extraProps}},{key:"props",get:function e(){return Ew.create(this[zv].props)}},{key:"node",get:function e(){return Fw.create(this[zv].getNode())}},{key:"parent",get:function t(){return al(this[zv].parent)?e.create(this[zv].parent):Ew.create(this[zv].parent)}},{key:"top",get:function e(){return Ew.create(this[zv].top)}},{key:"isSettingField",get:function e(){return this[zv].isSettingField}},{key:"componentMeta",get:function e(){return Sy.create(this[zv].componentMeta)}},{key:"items",get:function e(){var t;return null===(t=this[zv].items)||void 0===t?void 0:t.map((function(e){return Object(s.y)(e)?e:e.internalToShellField()}))}},{key:"setKey",value:function e(t){this[zv].setKey(t)}},{key:"getNode",value:function e(){return this.node}},{key:"getParent",value:function e(){return this.parent}},{key:"setValue",value:function e(t,n){this[zv].setValue(t,!1,!1,n)}},{key:"setPropValue",value:function e(t,n){this[zv].setPropValue(t,n)}},{key:"clearPropValue",value:function e(t){this[zv].clearPropValue(t)}},{key:"getDefaultValue",value:function e(){return this[zv].getDefaultValue()}},{key:"getValue",value:function e(){return this[zv].getValue()}},{key:"getPropValue",value:function e(t){return this[zv].getPropValue(t)}},{key:"getExtraPropValue",value:function e(t){return this[zv].getExtraPropValue(t)}},{key:"setExtraPropValue",value:function e(t,n){this[zv].setExtraPropValue(t,n)}},{key:"getProps",value:function e(){return Ew.create(this[zv].getProps())}},{key:"isUseVariable",value:function e(){return this[zv].isUseVariable()}},{key:"setUseVariable",value:function e(t){this[zv].setUseVariable(t)}},{key:"createField",value:function t(n){return e.create(this[zv].createField(n))}},{key:"getMockOrValue",value:function e(){return this[zv].getMockOrValue()}},{key:"purge",value:function e(){this[zv].purge()}},{key:"remove",value:function e(){this[zv].remove()}},{key:"onEffect",value:function e(t){return this[zv].onEffect(t)}},{key:"internalToShellField",value:function e(){return this}}],[{key:"create",value:function t(n){return new e(n)}}]),e}();function bw(e){return(bw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ww(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jw(r.key),r)}}function Ow(e,t,n){return t&&ww(e.prototype,t),n&&ww(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jw(e){var t=Sw(e,"string");return"symbol"===bw(t)?t:String(t)}function Sw(e,t){if("object"!==bw(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Ew=function(){function e(t){gw(this,e),this[Wv]=void 0,this[Wv]=t}return Ow(e,[{key:"node",get:function e(){return Fw.create(this[Wv].getNode())}},{key:"get",value:function e(t){return mw.create(this[Wv].get(t))}},{key:"getNode",value:function e(){return this.node}},{key:"getPropValue",value:function e(t){return this[Wv].getPropValue(t)}},{key:"setPropValue",value:function e(t,n){this[Wv].setPropValue(t,n)}},{key:"clearPropValue",value:function e(t){this[Wv].clearPropValue(t)}}],[{key:"create",value:function t(n){return new e(n)}}]),e}();function kw(e){return(kw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nw(r.key),r)}}function xw(e,t,n){return t&&Pw(e.prototype,t),n&&Pw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nw(e){var t=Cw(e,"string");return"symbol"===kw(t)?t:String(t)}function Cw(e,t){if("object"!==kw(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==kw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Tw=function(){function e(t){_w(this,e),this[hy]=void 0,this[hy]=t}return xw(e,[{key:"id",get:function e(){var t;return null===(t=this[hy])||void 0===t?void 0:t.id}},{key:"title",get:function e(){var t;return null===(t=this[hy])||void 0===t?void 0:t.title}},{key:"firstNode",get:function e(){var t;return Fw.create(null===(t=this[hy])||void 0===t?void 0:t.firstNode)}},{key:"setVisible",value:function e(t){var n;null===(n=this[hy])||void 0===n||n.setVisible(t[Fv]?t[Fv]:t)}}],[{key:"create",value:function t(n){if(!n)return null;if(n[hy])return n[hy];var r=new e(n);return r[hy]=r,r}}]),e}();function Rw(e){return(Rw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dw(r.key),r)}}function Mw(e,t,n){return t&&Aw(e.prototype,t),n&&Aw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dw(e){var t=Iw(e,"string");return"symbol"===Rw(t)?t:String(t)}function Iw(e,t){if("object"!==Rw(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Rw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Bw=Symbol("shellNodeSymbol");function Vw(e){return e[Bw]}var Fw=function(){function e(t){Lw(this,e),this[Bv]=void 0,this[Fv]=void 0,this._id=void 0,this.isNode=!0,this[Fv]=t,this[Bv]=t.document,this._id=this[Fv].id}return Mw(e,[{key:"id",get:function e(){return this._id},set:function e(t){this._id=t}},{key:"title",get:function e(){return this[Fv].title}},{key:"isContainer",get:function e(){return this[Fv].isContainerNode}},{key:"isContainerNode",get:function e(){return this[Fv].isContainerNode}},{key:"isRoot",get:function e(){return this[Fv].isRootNode}},{key:"isRootNode",get:function e(){return this[Fv].isRootNode}},{key:"isEmpty",get:function e(){return this[Fv].isEmptyNode}},{key:"isEmptyNode",get:function e(){return this[Fv].isEmptyNode}},{key:"isPage",get:function e(){return this[Fv].isPageNode}},{key:"isPageNode",get:function e(){return this[Fv].isPageNode}},{key:"isComponent",get:function e(){return this[Fv].isComponentNode}},{key:"isComponentNode",get:function e(){return this[Fv].isComponentNode}},{key:"isModal",get:function e(){return this[Fv].isModalNode}},{key:"isModalNode",get:function e(){return this[Fv].isModalNode}},{key:"isSlot",get:function e(){return this[Fv].isSlotNode}},{key:"isSlotNode",get:function e(){return this[Fv].isSlotNode}},{key:"isParental",get:function e(){return this[Fv].isParentalNode}},{key:"isParentalNode",get:function e(){return this[Fv].isParentalNode}},{key:"isLeaf",get:function e(){return this[Fv].isLeafNode}},{key:"isLeafNode",get:function e(){return this[Fv].isLeafNode}},{key:"isLocked",get:function e(){return this[Fv].isLocked}},{key:"index",get:function e(){return this[Fv].index}},{key:"icon",get:function e(){return this[Fv].icon}},{key:"zLevel",get:function e(){return this[Fv].zLevel}},{key:"componentName",get:function e(){return this[Fv].componentName}},{key:"componentMeta",get:function e(){return Sy.create(this[Fv].componentMeta)}},{key:"document",get:function e(){return rw.create(this[Bv])}},{key:"prevSibling",get:function t(){return e.create(this[Fv].prevSibling)}},{key:"nextSibling",get:function t(){return e.create(this[Fv].nextSibling)}},{key:"parent",get:function t(){return e.create(this[Fv].parent)}},{key:"children",get:function e(){return lw.create(this[Fv].children)}},{key:"slots",get:function t(){return this[Fv].slots.map((function(t){return e.create(t)}))}},{key:"slotFor",get:function e(){return Cy.create(this[Fv].slotFor)}},{key:"props",get:function e(){return Iy.create(this[Fv].props)}},{key:"propsData",get:function e(){return this[Fv].propsData}},{key:"schema",get:function e(){return this[Fv].schema}},{key:"settingEntry",get:function e(){return Ew.create(this[Fv].settingEntry)}},{key:"getChildren",value:function e(){return this.children}},{key:"getDOMNode",value:function e(){return this[Fv].getDOMNode()}},{key:"mergeChildren",value:function e(t,n,r){var o;return null===(o=this.children)||void 0===o?void 0:o.mergeChildren(t,n,r)}},{key:"getRect",value:function e(){return this[Fv].getRect()}},{key:"hasSlots",value:function e(){return this[Fv].hasSlots()}},{key:"hasCondition",value:function e(){return this[Fv].hasCondition()}},{key:"hasLoop",value:function e(){return this[Fv].hasLoop()}},{key:"visible",get:function e(){return this[Fv].getVisible()},set:function e(t){this[Fv].setVisible(t)}},{key:"getVisible",value:function e(){return this[Fv].getVisible()}},{key:"setVisible",value:function e(t){this[Fv].setVisible(t)}},{key:"isConditionalVisible",value:function e(){return this[Fv].isConditionalVisible()}},{key:"lock",value:function e(t){this[Fv].lock(t)}},{key:"getProps",value:function e(){return this.props}},{key:"contains",value:function e(t){return this[Fv].contains(t[Fv])}},{key:"getProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Cy.create(this[Fv].getProp(t,n))}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t,!1))||void 0===n?void 0:n.getValue()}},{key:"getExtraProp",value:function e(t,n){return Cy.create(this[Fv].getExtraProp(t,n))}},{key:"getExtraPropValue",value:function e(t){var n;return null===(n=this.getExtraProp(t))||void 0===n?void 0:n.getValue()}},{key:"setPropValue",value:function e(t,n){var r;return null===(r=this.getProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"setExtraPropValue",value:function e(t,n){var r;return null===(r=this.getExtraProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"importSchema",value:function e(t){this[Fv].import(t)}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.h.Render,n=arguments.length>1?arguments[1]:void 0;return this[Fv].export(t,n)}},{key:"insertBefore",value:function e(t,n,r){this[Fv].insertBefore(t[Fv]||t,null==n?void 0:n[Fv],r)}},{key:"insertAfter",value:function e(t,n,r){this[Fv].insertAfter(t[Fv]||t,null==n?void 0:n[Fv],r)}},{key:"replaceChild",value:function t(n,r){return e.create(this[Fv].replaceChild(n[Fv],r))}},{key:"replaceWith",value:function e(t){this[Fv].replaceWith(t)}},{key:"select",value:function e(){this[Fv].select()}},{key:"hover",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this[Fv].hover(t)}},{key:"remove",value:function e(){this[Fv].remove()}},{key:"isRGLContainer",get:function e(){return this[Fv].isRGLContainerNode},set:function e(t){this[Fv].isRGLContainerNode=t}},{key:"isRGLContainerNode",get:function e(){return this[Fv].isRGLContainerNode},set:function e(t){this[Fv].isRGLContainerNode=t}},{key:"internalToShellNode",value:function e(){return this}},{key:"canPerformAction",value:function e(t){return this[Fv].canPerformAction(t)}},{key:"conditionGroup",get:function e(){return Tw.create(this[Fv].conditionGroup)}},{key:"setConditionalVisible",value:function e(){this[Fv].setConditionalVisible()}}],[{key:"create",value:function t(n){if(!n)return null;if(Vw(n))return n[Bw];var r=new e(n);return n[Bw]=r,r}}]),e}();function Gw(e){return(Gw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ww(r.key),r)}}function zw(e,t,n){return t&&Uw(e.prototype,t),n&&Uw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ww(e){var t=$w(e,"string");return"symbol"===Gw(t)?t:String(t)}function $w(e,t){if("object"!==Gw(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Gw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Xw=function(){function e(t){var n;Hw(this,e),this[Bv]=void 0,this[Xv]=void 0,this[Bv]=t,this[Xv]=null===(n=t.designer)||void 0===n?void 0:n.detecting}return zw(e,[{key:"enable",get:function e(){return this[Xv].enable}},{key:"current",get:function e(){return Fw.create(this[Xv].current)}},{key:"capture",value:function e(t){this[Xv].capture(this[Bv].getNode(t))}},{key:"release",value:function e(t){this[Xv].release(this[Bv].getNode(t))}},{key:"leave",value:function e(){this[Xv].leave(this[Bv])}},{key:"onDetectingChange",value:function e(t){var n=function e(n){var r=Fw.create(n);t(r)};return this[Xv].onDetectingChange(n)}}]),e}();function Yw(e){return(Yw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zw(r.key),r)}}function Jw(e,t,n){return t&&qw(e.prototype,t),n&&qw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zw(e){var t=Qw(e,"string");return"symbol"===Yw(t)?t:String(t)}function Qw(e,t){if("object"!==Yw(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Yw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var eO=function(){function e(t){Kw(this,e),this[ty]=void 0,this[ty]=t}return Jw(e,[{key:"type",get:function e(){return this[ty].type}},{key:"nodes",get:function e(){var t=this[ty].nodes;return t?t.map(Fw.create):null}},{key:"data",get:function e(){return this[ty].data}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function tO(e){return(tO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iO(r.key),r)}}function oO(e,t,n){return t&&rO(e.prototype,t),n&&rO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function iO(e){var t=aO(e,"string");return"symbol"===tO(t)?t:String(t)}function aO(e,t){if("object"!==tO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var uO=function(){function e(t){nO(this,e),this[ny]=void 0,this[ny]=t}return oO(e,[{key:"type",get:function e(){return this[ny].type}},{key:"globalX",get:function e(){return this[ny].globalX}},{key:"globalY",get:function e(){return this[ny].globalY}},{key:"originalEvent",get:function e(){return this[ny].originalEvent}},{key:"target",get:function e(){return this[ny].target}},{key:"canvasX",get:function e(){return this[ny].canvasX}},{key:"canvasY",get:function e(){return this[ny].canvasY}},{key:"dragObject",get:function e(){return eO.create(this[ny].dragObject)}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function cO(e){return(cO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sO(Object(n),!0).forEach((function(t){fO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fO(e,t,n){return(t=vO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vO(r.key),r)}}function dO(e,t,n){return t&&hO(e.prototype,t),n&&hO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vO(e){var t=yO(e,"string");return"symbol"===cO(t)?t:String(t)}function yO(e,t){if("object"!==cO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==cO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var mO=Symbol("innerDragonSymbol"),bO=function(){function e(t,n){pO(this,e),this.workspaceMode=void 0,this[mO]=void 0,this.workspaceMode=n,this[mO]=t}return dO(e,[{key:Jv,get:function e(){if(this.workspaceMode)return this[mO];var t=a.globalContext.get("workspace"),n=a.globalContext.get("editor"),r;return t.isActive&&(n=t.window.editor),n.get("designer").dragon}},{key:"dragging",get:function e(){return this[Jv].dragging}},{key:"onDragstart",value:function e(t){return this[Jv].onDragstart((function(e){return t(uO.create(e))}))}},{key:"onDrag",value:function e(t){return this[Jv].onDrag((function(e){return t(uO.create(e))}))}},{key:"onDragend",value:function e(t){return this[Jv].onDragend((function(e){var n=eO.create(e.dragObject),r=e.copy;return t({dragObject:n,copy:r})}))}},{key:"from",value:function e(t,n){return this[Jv].from(t,n)}},{key:"boost",value:function e(t,n,r){return this[Jv].boost(lO(lO({},t),{},{nodes:t.nodes.map((function(e){return e[Fv]}))}),n,null==r?void 0:r[Fv])}},{key:"addSensor",value:function e(t){return this[Jv].addSensor(t)}},{key:"removeSensor",value:function e(t){return this[Jv].removeSensor(t)}}],[{key:"create",value:function t(n,r){return n?new e(n,r):null}}]),e}();function gO(e){return(gO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SO(r.key),r)}}function jO(e,t,n){return t&&OO(e.prototype,t),n&&OO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function SO(e){var t=EO(e,"string");return"symbol"===gO(t)?t:String(t)}function EO(e,t){if("object"!==gO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==gO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var kO=function(){function e(t){wO(this,e),this[ly]=void 0,this[ly]=t}return jO(e,[{key:"title",get:function e(){return this[ly].title}},{key:"icon",get:function e(){return this[ly].icon}},{key:"options",get:function e(){return this[ly].options}},{key:"name",get:function e(){return this[ly].resourceType.name}},{key:"config",get:function e(){return this[ly].config}},{key:"type",get:function e(){return this[ly].resourceType.type}},{key:"category",get:function e(){return this[ly].category}},{key:"children",get:function t(){return this[ly].children.map((function(t){return new e(t)}))}},{key:"viewName",get:function e(){return this[ly].viewName}}]),e}();function _O(e){return(_O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CO(r.key),r)}}function NO(e,t,n){return t&&xO(e.prototype,t),n&&xO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function CO(e){var t=TO(e,"string");return"symbol"===_O(t)?t:String(t)}function TO(e,t){if("object"!==_O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var RO=Symbol("activeTracker"),LO=function(){function e(t){PO(this,e),this[RO]=void 0,this[RO]=t}return NO(e,[{key:"onChange",value:function e(t){return t?this[RO].onChange((function(e){var n=e.node,r=e.detail,o=e.instance,i=Fw.create(n),a;t({node:i,detail:r,instance:o})})):function(){}}},{key:"track",value:function e(t){this[RO].track(t[Fv])}}]),e}();function AO(e){return(AO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BO(r.key),r)}}function IO(e,t,n){return t&&DO(e.prototype,t),n&&DO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function BO(e){var t=VO(e,"string");return"symbol"===AO(t)?t:String(t)}function VO(e,t){if("object"!==AO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==AO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var FO=function(){function e(t){MO(this,e),this[cy]=void 0,this[cy]=t}return IO(e,[{key:"pluginName",get:function e(){return this[cy].name}},{key:"dep",get:function e(){return this[cy].dep}},{key:"disabled",get:function e(){return this[cy].disabled},set:function e(t){this[cy].setDisabled(t)}},{key:"meta",get:function e(){return this[cy].meta}}]),e}();function GO(e){return(GO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WO(r.key),r)}}function zO(e,t,n){return t&&UO(e.prototype,t),n&&UO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function WO(e){var t=$O(e,"string");return"symbol"===GO(t)?t:String(t)}function $O(e,t){if("object"!==GO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==GO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var XO=function(){function e(t){HO(this,e),this[dy]=void 0,this[vy]=void 0,this[dy]=t,this[vy]=this[dy].innerPlugins._getLowCodePluginContext({pluginName:t.editorWindow+t.viewName})}return zO(e,[{key:"toProxy",value:function e(){return new Proxy(this,{get:function e(t,n,r){return t[vy][n]?Reflect.get(t[vy],n,r):Reflect.get(t,n,r)}})}}]),e}();function YO(e){return(YO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KO(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */KO=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==YO(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,k.prototype={constructor:k,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function qO(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function JO(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){qO(i,r,o,a,u,"next",e)}function u(e){qO(i,r,o,a,u,"throw",e)}a(void 0)}))}}function ZO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tj(r.key),r)}}function ej(e,t,n){return t&&QO(e.prototype,t),n&&QO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tj(e){var t=nj(e,"string");return"symbol"===YO(t)?t:String(t)}function nj(e,t){if("object"!==YO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==YO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var rj=function(){function e(t){ZO(this,e),this[uy]=void 0,this[uy]=t}return ej(e,[{key:"id",get:function e(){var t;return null===(t=this[uy])||void 0===t?void 0:t.id}},{key:"title",get:function e(){return this[uy].title}},{key:"icon",get:function e(){return this[uy].icon}},{key:"resource",get:function e(){return new kO(this[uy].resource)}},{key:"importSchema",value:function e(t){this[uy].importSchema(t)}},{key:"changeViewType",value:function e(t){this[uy].changeViewType(t,!1)}},{key:"onChangeViewType",value:function e(t){return this[uy].onChangeViewType(t)}},{key:"save",value:function(){var e=JO(KO().mark((function e(){return KO().wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this[uy].save();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"currentEditorView",get:function e(){return this[uy].editorView?new XO(this[uy].editorView).toProxy():null}},{key:"editorViews",get:function e(){return Array.from(this[uy].editorViews.values()).map((function(e){return new XO(e).toProxy()}))}}]),e}();function oj(e){return(oj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ij(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cj(r.key),r)}}function uj(e,t,n){return t&&aj(e.prototype,t),n&&aj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cj(e){var t=sj(e,"string");return"symbol"===oj(t)?t:String(t)}function sj(e,t){if("object"!==oj(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==oj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var lj=function(){function e(){ij(this,e),this[fy]=void 0,this[fy]=Ur}return uj(e,[{key:"setData",value:function e(t){this[fy].setData(t)}},{key:"waitPasteData",value:function e(t,n){this[fy].waitPasteData(t,n)}}]),e}();function fj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fj(Object(n),!0).forEach((function(t){hj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hj(e,t,n){return(t=dj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dj(e){var t=vj(e,"string");return"symbol"===yj(t)?t:String(t)}function vj(e,t){if("object"!==yj(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==yj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function yj(e){return(yj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mj(e,t,n,o,i){var a;return e?a=e:(a={},t&&!o||(a={label:n},n=void 0)),(t||n)&&("object"!==yj(a)||Object(r.isValidElement)(a)||Object(s.G)(a)?(Object(r.isValidElement)(a)&&("svg"===a.type||a.type.getIcon)&&(t||(t=a),o?(a=n,n=null):a=void 0),a={label:a,icon:t,tip:n}):a=pj(pj({},a),{},{icon:t,tip:n})),Object(s.X)(a)&&i&&(Object(r.isValidElement)(a)||(a.icon=void 0)),a}var bj=n(112);function gj(e){return(gj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wj(e,t,n){return(t=Ej(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ej(r.key),r)}}function Sj(e,t,n){return t&&jj(e.prototype,t),n&&jj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ej(e){var t=kj(e,"string");return"symbol"===gj(t)?t:String(t)}function kj(e,t){if("object"!==gj(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==gj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pj(e,t)}function Pj(e,t){return(Pj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function xj(e){var t=Tj();return function n(){var r=Rj(e),o;if(t){var i=Rj(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Nj(this,o)}}function Nj(e,t){if(t&&("object"===gj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Cj(e)}function Cj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tj(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Rj(e){return(Rj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Lj=function(e){_j(n,e);var t=xj(n);function n(e){var r;return Oj(this,n),(r=t.call(this,e)).startDrag=void 0,r.canDrag=void 0,r.offset=void 0,r.currentOffset=void 0,r.offEvent=void 0,r.offDragEvent=void 0,r.startOffset=void 0,r.shell=null,r.startDrag=!1,r.canDrag=!1,r.offset=0,r.currentOffset=0,r}return Sj(n,[{key:"componentDidMount",value:function e(){this.offEvent=this.initEvent()}},{key:"componentWillUnmount",value:function e(){this.offEvent&&this.offEvent()}},{key:"onSelectStart",value:function e(t){this.startDrag&&t.preventDefault()}},{key:"onStartMove",value:function e(t){var n=this.props.onDragStart;this.startDrag||n&&n(),this.startDrag=!0,this.canDrag=!0,this.currentOffset=0,this.offDragEvent=this.initDragEvent(),this.startOffset=this.getClientPosition(t)}},{key:"onEndMove",value:function e(){var t=this.props.onDragEnd;this.startDrag&&(this.offDragEvent&&this.offDragEvent(),this.startDrag=!1,this.offset=this.currentOffset),t&&t()}},{key:"onDrag",value:function e(t){var n=this.props,r=n.position,e=n.onDrag,o=n.maxIncrement,i=void 0===o?100:o,a=n.maxDecrement,u=void 0===a?0:a;this.startDrag&&(this.currentOffset="left"===r||"top"===r?this.offset+this.startOffset-this.getClientPosition(t):this.offset+this.getClientPosition(t)-this.startOffset,this.currentOffset<-u?this.currentOffset=-u:this.currentOffset>i&&(this.currentOffset=i),e(this.currentOffset,t))}},{key:"getClientPosition",value:function e(t){var n=this.props.position;return"left"===n||"right"===n?t.clientX:t.clientY}},{key:"initEvent",value:function e(){var t=this.onSelectStart.bind(this);return document.addEventListener("selectstart",t),function(){return document.removeEventListener("selectstart",t)}}},{key:"initDragEvent",value:function e(){var t=this.onDrag.bind(this),n=this.onEndMove.bind(this);return document.addEventListener("mousemove",t),document.addEventListener("mouseup",n),function(){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)}}},{key:"getParent",value:function e(){var t;return null===(t=this.shell)||void 0===t?void 0:t.parentElement}},{key:"render",value:function e(){var t=this,n=this.props,r=n.className,o=void 0===r?"":r,i=n.position;return React.createElement("div",{ref:function e(n){t.shell=n},className:Jo()("left"===i||"right"===i?"lc-draggable-line-vertical":"lc-draggable-line-horizontal",wj({},o,!!o)),onMouseDown:function e(n){return t.onStartMove(n)}})}}]),n}(r.Component);function Aj(){return(Aj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Mj(e){var t={width:13,height:13};return React.createElement(s.f,Aj({viewBox:"0 0 1024 1024"},e,t),React.createElement("path",{d:"M750.848 28.928l245.248 242.944a66.048 66.048 0 1 1-93.184 93.184l-25.6-19.456-249.6 353.792 78.336 78.336a66.048 66.048 0 0 1-93.184 92.672l-460.8-464.64a66.048 66.048 0 0 1 93.184-93.184l76.8 78.336 354.048-249.856-18.176-18.944a66.048 66.048 0 1 1 93.184-93.184zM380.672 732.416l-91.904-90.88c-74.24 89.6-191.488 219.904-212.736 247.04a419.84 419.84 0 0 0-70.656 128 419.84 419.84 0 0 0 128-70.144c27.136-21.248 157.44-138.496 246.528-214.016z"}))}function Dj(){return(Dj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ij(e){return React.createElement(s.f,Dj({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M160.256 816.64C116.224 872.448 102.4 921.6 102.4 921.6s49.152-13.824 104.96-57.856c22.016-17.408 128-112.64 200.704-174.08l-73.728-73.728c-61.44 72.704-157.184 178.688-174.08 200.704zM648.704 209.408L442.368 355.328l226.304 226.304 145.92-206.336 15.872 15.872c20.992 20.992 54.784 20.992 75.776 0s20.992-54.784 0-75.776l-197.12-197.12c-20.992-20.992-54.784-20.992-75.776 0-20.992 20.992-20.992 54.784 0 75.776l15.36 15.36zM247.808 334.848c-9.728 2.048-18.944 6.656-26.624 14.336-20.992 20.992-20.992 54.784 0 75.776l377.856 377.856c20.992 20.992 54.784 20.992 75.776 0 7.68-7.68 12.288-16.896 14.336-26.624L247.808 334.848z"}),React.createElement("path",{d:"M840.704 879.104c-9.728 0-19.456-3.584-27.136-11.264L155.648 210.432c-14.848-14.848-14.848-39.424 0-54.272 14.848-14.848 39.424-14.848 54.272 0L867.84 814.08c14.848 14.848 14.848 39.424 0 54.272-7.168 7.168-16.896 10.752-27.136 10.752z"}))}function Bj(e){return(Bj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hj(r.key),r)}}function Gj(e,t,n){return t&&Fj(e.prototype,t),n&&Fj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hj(e){var t=Uj(e,"string");return"symbol"===Bj(t)?t:String(t)}function Uj(e,t){if("object"!==Bj(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Bj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function zj(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wj(e,t)}function Wj(e,t){return(Wj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function $j(e){var t=Kj();return function n(){var r=qj(e),o;if(t){var i=qj(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Xj(this,o)}}function Xj(e,t){if(t&&("object"===Bj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yj(e)}function Yj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kj(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function qj(e){return(qj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Lj.displayName="DraggableLine",Lj.defaultProps={onDrag:function e(){},position:"right",className:"",maxIncrement:100,maxDecrement:0},Mj.displayName="Fix",Ij.displayName="Float";var Jj=function(e){zj(n,e);var t=$j(n);function n(e){var r;return Vj(this,n),r=t.call(this,e),Object(a.makeObservable)(Yj(r)),r}return Gj(n,[{key:"setDisplay",value:function e(){var t=this.props.panel,n;t&&t.skeleton.toggleFloatStatus(t)}},{key:"render",value:function e(){var t,n,o,i,a=this.props.panel,u;if("rightArea"===(null===(t=this.props.panel.config)||void 0===t?void 0:t.area))return null;var c=!0;!1===(null==a||null===(n=a.config.props)||void 0===n?void 0:n.canSetFixed)&&(c=!1);var s=null==a||null===(o=a.config.props)||void 0===o?void 0:o.hideTitleBar,l=null==a||null===(i=a.parent)||void 0===i?void 0:i.name,f=a.skeleton[l];return React.createElement(r.Fragment,null,!s&&React.createElement(r.Fragment,null,c&&React.createElement(Ni.Button,{text:!0,className:"lc-pane-icon-fix",onClick:this.setDisplay.bind(this)},"leftFloatArea"===l?React.createElement(Mj,null):React.createElement(Ij,null)),React.createElement(Ni.Button,{text:!0,className:"lc-pane-icon-close",onClick:function e(){f&&f.setVisible(!1)}},React.createElement(Ni.Icon,{type:"close"}))))}}]),n}(r.Component);Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[]),Object(c.d)("design:returntype",void 0)],Jj.prototype,"setDisplay",null);var Zj=n(113),Qj=["dock","className","onClick"];function eS(e){return(eS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tS(Object(n),!0).forEach((function(t){vS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rS(e,t){if(null==e)return{};var n=oS(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oS(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function iS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yS(r.key),r)}}function uS(e,t,n){return t&&aS(e.prototype,t),n&&aS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cS(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sS(e,t)}function sS(e,t){return(sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function lS(e){var t=hS();return function n(){var r=dS(e),o;if(t){var i=dS(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return fS(this,o)}}function fS(e,t){if(t&&("object"===eS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pS(e)}function pS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hS(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function dS(e){return(dS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function vS(e,t,n){return(t=yS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yS(e){var t=mS(e,"string");return"symbol"===eS(t)?t:String(t)}function mS(e,t){if("object"!==eS(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function bS(e){var t=e.title,n=e.icon,r=e.description,o=e.size,i=e.className,u=e.onClick;return React.createElement(a.Title,{title:mj(t,n,r),className:Jo()("lc-dock",i,vS({},"lc-dock-".concat(o),o)),onClick:u})}function gS(e){var t=e.tip;return t&&t.url?React.createElement("div",null,React.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},React.createElement(Ni.Icon,{type:"help",size:"small",className:"lc-help-tip"})),React.createElement(a.Tip,null,t.content)):React.createElement("div",null,React.createElement(Ni.Icon,{type:"help",size:"small",className:"lc-help-tip"}),React.createElement(a.Tip,null,t.content))}var wS=function(e){cS(n,e);var t=lS(n);function n(){var e;iS(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lastActived=!1,e}return uS(n,[{key:"componentDidMount",value:function e(){this.checkActived()}},{key:"componentDidUpdate",value:function e(){this.checkActived()}},{key:"checkActived",value:function e(){var t=this.props.dock;t.actived!==this.lastActived&&(this.lastActived=t.actived,this.lastActived?t.skeleton.postEvent(YE.PANEL_DOCK_ACTIVE,t.name,t):t.skeleton.postEvent(YE.PANEL_DOCK_UNACTIVE,t.name,t))}},{key:"render",value:function e(){var t=this.props,n=t.dock,r=t.className,o=t.onClick,i;return bS(nS(nS({},rS(t,Qj)),{},{className:Jo()(r,{actived:n.actived}),onClick:function e(){o&&o(),n.togglePanel()}}))}}]),n}(r.Component);wS=Object(c.b)([a.observer],wS);var OS=function(e){cS(n,e);var t=lS(n);function n(){return iS(this,n),t.apply(this,arguments)}return uS(n)}(r.Component),jS=function(e){cS(n,e);var t=lS(n);function n(){var e;iS(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).shell=void 0,e.defaultWidth=void 0,e}return uS(n,[{key:"getDefaultWidth",value:function e(){var t,n,r,o=null===(t=this.props.panel)||void 0===t||null===(n=t.config.props)||void 0===n?void 0:n.width;if(o)return o;if(this.defaultWidth)return this.defaultWidth;var i=null===(r=this.shell)||void 0===r?void 0:r.getParent();return i?(this.defaultWidth=i.offsetWidth,this.defaultWidth):300}},{key:"onDrag",value:function e(t){var n,r,o=this.getDefaultWidth()+t,i=null===(n=this.shell)||void 0===n?void 0:n.getParent();i&&(i.style.width="".concat(o,"px"));var a=this.props.panel.skeleton.editor;null==a||a.eventBus.emit("dockpane.drag",o)}},{key:"onDragChange",value:function e(t){var n=this.props.panel.skeleton.editor;null==n||n.eventBus.emit("dockpane.dragchange",t),null==n||n.eventBus.emit("designer.builtinSimulator.disabledEvents","start"===t)}},{key:"render",value:function e(){var t,n,r,o,i=this,a=null===(t=this.props.panel.config.props)||void 0===t?void 0:t.enableDrag,u;return"rightArea"===(null===(n=this.props.panel.config)||void 0===n?void 0:n.area)||!a||"leftFixedArea"===(null===(r=this.props.panel)||void 0===r||null===(o=r.parent)||void 0===o?void 0:o.name)?null:React.createElement(Lj,{ref:function e(t){i.shell=t},position:"right",className:"lc-engine-slate-draggable-line-right",onDrag:function e(t){return i.onDrag(t)},onDragStart:function e(){return i.onDragChange("start")},onDragEnd:function e(){return i.onDragChange("end")},maxIncrement:500,maxDecrement:0})}}]),n}(r.Component),SS=function(e){cS(n,e);var t=lS(n);function n(){var e;iS(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lastVisible=!1,e}return uS(n,[{key:"componentDidMount",value:function e(){this.checkVisible()}},{key:"componentDidUpdate",value:function e(){this.checkVisible()}},{key:"checkVisible",value:function e(){var t=this.props.panel,n=t.inited&&t.visible;n!==this.lastVisible&&(this.lastVisible=n,this.lastVisible?t.skeleton.postEvent(YE.PANEL_SHOW,t.name,t):t.skeleton.postEvent(YE.PANEL_HIDE,t.name,t))}},{key:"render",value:function e(){var t,n=this.props,r=n.panel,o=n.area;if(!r.inited)return null;var i=r.skeleton.editor,a=o?"".concat(o,"-").concat(r.name):r.name;return null==i||i.eventBus.emit("skeleton.panel.toggle",{name:a||"",status:r.visible?"show":"hide"}),React.createElement("div",{className:Jo()("lc-titled-panel",{hidden:!r.visible}),id:a,"data-keep-visible-while-dragging":null===(t=r.config.props)||void 0===t?void 0:t.keepVisibleWhileDragging},React.createElement(Jj,{panel:r}),React.createElement(_S,{panel:r}),React.createElement("div",{className:"lc-panel-body"},r.body),React.createElement(jS,{panel:r}))}}]),n}(r.Component);SS=Object(c.b)([a.observer],SS);var ES=function(e){cS(n,e);var t=lS(n);function n(){var e;iS(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lastVisible=!1,e}return uS(n,[{key:"componentDidMount",value:function e(){this.checkVisible()}},{key:"componentDidUpdate",value:function e(){this.checkVisible()}},{key:"checkVisible",value:function e(){var t=this.props.panel,n=t.inited&&t.visible;n!==this.lastVisible&&(this.lastVisible=n,this.lastVisible?(t.skeleton.postEvent(YE.PANEL_SHOW,t.name,t),t.skeleton.postEvent("leftPanel.show",t.name,t)):(t.skeleton.postEvent(YE.PANEL_HIDE,t.name,t),t.skeleton.postEvent("leftPanel.hide",t.name,t)))}},{key:"render",value:function e(){var t,n=this.props,r=n.panel,o=n.area,i=n.hideOperationRow,a=n.hideDragLine;if(!r.inited)return null;var u=r.skeleton.editor,c=o?"".concat(o,"-").concat(r.name):r.name;return null==u||u.eventBus.emit("skeleton.panel.toggle",{name:c||"",status:r.visible?"show":"hide"}),React.createElement("div",{className:Jo()("lc-panel",{hidden:!r.visible}),id:c,"data-keep-visible-while-dragging":null===(t=r.config.props)||void 0===t?void 0:t.keepVisibleWhileDragging},!i&&React.createElement(Jj,{panel:r}),r.body,!a&&React.createElement(jS,{panel:r}))}}]),n}(r.Component);ES=Object(c.b)([a.observer],ES);var kS=function(e){cS(n,e);var t=lS(n);function n(){return iS(this,n),t.apply(this,arguments)}return uS(n,[{key:"render",value:function e(){var t=this.props.container,n=[],r=[];return t.items.forEach((function(e){n.push(React.createElement(_S,{key:e.id,panel:e,className:"lc-tab-title"})),r.push(React.createElement(ES,{key:e.id,panel:e,hideOperationRow:!0,hideDragLine:!0}))})),React.createElement("div",{className:"lc-tabs"},React.createElement("div",{className:"lc-tabs-title",onClick:function e(n){for(var r=n.currentTarget,o=n.target,i=r.firstElementChild;i&&!i.contains(o);)i=i.nextElementSibling;i&&t.active(i.dataset.name)}},n),React.createElement("div",{className:"lc-tabs-content"},r))}}]),n}(r.Component);kS=Object(c.b)([a.observer],kS);var _S=function(e){cS(n,e);var t=lS(n);function n(){return iS(this,n),t.apply(this,arguments)}return uS(n,[{key:"render",value:function e(){var t=this.props,n=t.panel,r=t.className;return React.createElement("div",{className:Jo()("lc-panel-title",r,{actived:n.actived}),"data-name":n.name},React.createElement(a.Title,{title:n.title||n.name}),n.help?React.createElement(gS,{tip:n.help}):null)}}]),n}(r.Component);_S=Object(c.b)([a.observer],_S);var PS=function(e){cS(n,e);var t=lS(n);function n(){var e;iS(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lastVisible=!1,e.lastDisabled=!1,e}return uS(n,[{key:"componentDidMount",value:function e(){this.checkVisible(),this.checkDisabled()}},{key:"componentDidUpdate",value:function e(){this.checkVisible(),this.checkDisabled()}},{key:"checkVisible",value:function e(){var t=this.props.widget,n=t.visible;n!==this.lastVisible&&(this.lastVisible=n,this.lastVisible,t.skeleton.postEvent(YE.WIDGET_SHOW,t.name,t))}},{key:"checkDisabled",value:function e(){var t=this.props.widget,n=t.disabled;n!==this.lastDisabled&&(this.lastDisabled=n,this.lastDisabled?t.skeleton.postEvent(YE.WIDGET_DISABLE,t.name,t):t.skeleton.postEvent(YE.WIDGET_ENABLE,t.name,t))}},{key:"render",value:function e(){var t=this.props.widget;return t.visible?t.disabled?React.createElement("div",{className:"lc-widget-disabled"},t.body):t.body:null}}]),n}(r.Component);function xS(e){return(xS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NS(Object(n),!0).forEach((function(t){TS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TS(e,t,n){return(t=MS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MS(r.key),r)}}function AS(e,t,n){return t&&LS(e.prototype,t),n&&LS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function MS(e){var t=DS(e,"string");return"symbol"===xS(t)?t:String(t)}function DS(e,t){if("object"!==xS(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}PS=Object(c.b)([a.observer],PS);var IS=function(){function e(t,n){RS(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.isPanelDock=!0,this.id=void 0,this.name=void 0,this.align=void 0,this.inited=!1,this._body=void 0,this._shell=null,this._visible=!0,this.panelName=void 0,this._panel=void 0,this._disabled=!1,this.skeleton=t,this.config=n,Object(a.makeObservable)(this);var r=n.content,o=n.contentProps,i=n.panelProps,u=n.name,c=n.props;if(this.name=u,this.id=Object(s.cb)("dock:".concat(u,"$")),this.panelName=n.panelName||u,this.align=null==c?void 0:c.align,r){var l=CS({},i);null==l.title&&c&&(l.title=mj(c.title,void 0,c.description,!0,!0)),this._panel=this.skeleton.add({type:"Panel",name:this.panelName,props:l,contentProps:o,content:r,area:null==i?void 0:i.area})}null!=c&&c.onInit&&c.onInit.call(this,this)}return AS(e,[{key:"body",get:function e(){if(this.inited)return this._body;this.inited=!0;var t=this.config.props;return this._body=Object(r.createElement)(wS,CS(CS({},t),{},{dock:this})),this._body}},{key:"content",get:function e(){var t=this;return Object(r.createElement)(PS,{widget:this,ref:function e(n){t._shell=n},key:this.id})}},{key:"visible",get:function e(){return this._visible}},{key:"actived",get:function e(){var t;return(null===(t=this.panel)||void 0===t?void 0:t.visible)||!1}},{key:"panel",get:function e(){return this._panel||this.skeleton.getPanel(this.panelName)}},{key:"getDOMNode",value:function e(){return this._shell?Object(i.findDOMNode)(this._shell):null}},{key:"setVisible",value:function e(t){t!==this._visible&&(t?this._visible=!0:this.inited&&(this._visible=!1))}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"toggle",value:function e(){this.setVisible(!this._visible)}},{key:"setDisabled",value:function e(t){this._disabled!==t&&(this._disabled=t)}},{key:"disable",value:function e(){this.setDisabled(!0)}},{key:"enable",value:function e(){this.setDisabled(!1)}},{key:"disabled",get:function e(){return this._disabled}},{key:"togglePanel",value:function e(){var t;null===(t=this.panel)||void 0===t||t.toggle()}},{key:"getName",value:function e(){return this.name}},{key:"getContent",value:function e(){return this.content}},{key:"hidePanel",value:function e(){var t;null===(t=this.panel)||void 0===t||t.setActive(!1)}},{key:"showPanel",value:function e(){var t;null===(t=this.panel)||void 0===t||t.setActive(!0)}},{key:"onActiveChange",value:function e(t){var n;return null===(n=this.panel)||void 0===n?void 0:n.onActiveChange(t)}}]),e}(),BS;function VS(e){return e&&e.isPanelDock}function FS(e){return(FS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GS(Object(n),!0).forEach((function(t){US(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function US(e,t,n){return(t=XS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XS(r.key),r)}}function $S(e,t,n){return t&&WS(e.prototype,t),n&&WS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function XS(e){var t=YS(e,"string");return"symbol"===FS(t)?t:String(t)}function YS(e,t){if("object"!==FS(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==FS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],IS.prototype,"_visible",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Boolean),Object(c.d)("design:paramtypes",[])],IS.prototype,"actived",null),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],IS.prototype,"_disabled",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],IS.prototype,"panel",null);var KS=function(){function e(t,n){var r=this;zS(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.name=void 0,this.id=void 0,this.inited=!1,this._actived=!1,this.emitter=Object(a.createModuleEventBus)("Panel"),this.isPanel=!0,this.title=void 0,this.help=void 0,this.plain=!1,this.container=void 0,this.parent=void 0,this.skeleton=t,this.config=n,Object(a.makeObservable)(this);var o=n.name,i=n.content,u=n.props,c=void 0===u?{}:u,l=c.hideTitleBar,f=c.title,p=c.icon,h=c.description,d=c.help;this.name=o,this.id=Object(s.cb)("pane:".concat(o,"$")),this.title=mj(f||o,p,h),this.plain=l||!f,this.help=d,Array.isArray(i)&&(i.length,this.container=this.skeleton.createContainer(o,(function(e){return qS(e)?e:r.skeleton.createPanel(e)}),!0,(function(){return r.visible}),!0),i.forEach((function(e){return r.add(e)}))),c.onInit&&c.onInit.call(this,this),"string"!=typeof i&&i&&i.onInit&&i.onInit.call(this,this)}return $S(e,[{key:"actived",get:function e(){return this._actived}},{key:"visible",get:function e(){if(!this.parent||this.parent.visible){var t=this.config.props;return null!=t&&t.condition?t.condition(this):this._actived}return!1}},{key:"body",get:function e(){if(this.container)return Object(r.createElement)(kS,{container:this.container});var t=this.config,n=t.content,o=t.contentProps;return Object(s.m)(n,HS(HS({},o),{},{editor:_m(this.skeleton.editor),config:this.config,panel:this,pane:this}))}},{key:"content",get:function e(){var t,n,o=(null===(t=this.config)||void 0===t?void 0:t.area)||(null===(n=this.parent)||void 0===n?void 0:n.name);return this.plain?Object(r.createElement)(ES,{panel:this,key:this.id,area:o}):Object(r.createElement)(SS,{panel:this,key:this.id,area:o})}},{key:"setParent",value:function e(t){t!==this.parent&&(this.parent&&this.parent.remove(this),this.parent=t)}},{key:"add",value:function e(t){var n;return null===(n=this.container)||void 0===n?void 0:n.add(t)}},{key:"getPane",value:function e(t){var n;return(null===(n=this.container)||void 0===n?void 0:n.get(t))||null}},{key:"remove",value:function e(t){var n;return null===(n=this.container)||void 0===n?void 0:n.remove(t)}},{key:"active",value:function e(t){var n;t?null===(n=this.container)||void 0===n||n.active(t):this.setActive(!0)}},{key:"getName",value:function e(){return this.name}},{key:"getContent",value:function e(){return this.content}},{key:"isChildOfFloatArea",value:function e(){var t;return"leftFloatArea"===(null===(t=this.parent)||void 0===t?void 0:t.name)}},{key:"isChildOfFixedArea",value:function e(){var t;return"leftFixedArea"===(null===(t=this.parent)||void 0===t?void 0:t.name)}},{key:"setActive",value:function e(t){var n;if(t!==this._actived)if(t)this.isChildOfFloatArea()?this.skeleton.leftFixedArea.container.unactiveAll():this.isChildOfFixedArea()&&this.skeleton.leftFloatArea.container.unactiveAll(),this._actived=!0,null===(n=this.parent)||void 0===n||n.active(this),this.inited||(this.inited=!0),this.emitter.emit("activechange",!0);else if(this.inited){var r,o;null!==(r=this.parent)&&void 0!==r&&r.name&&this.name.startsWith(this.parent.name)&&(this.inited=!1),this._actived=!1,null===(o=this.parent)||void 0===o||o.unactive(this),this.emitter.emit("activechange",!1)}}},{key:"toggle",value:function e(){this.setActive(!this._actived)}},{key:"hide",value:function e(){this.setActive(!1)}},{key:"disable",value:function e(){}},{key:"enable",value:function e(){}},{key:"show",value:function e(){this.setActive(!0)}},{key:"getAssocDocks",value:function e(){var t=this;return this.skeleton.widgets.filter((function(e){return VS(e)&&e.panelName===t.name}))}},{key:"getSupportedPositions",value:function e(){return["default"]}},{key:"getCurrentPosition",value:function e(){return"default"}},{key:"setPosition",value:function e(){}},{key:"onActiveChange",value:function e(t){var n=this;return this.emitter.on("activechange",t),function(){n.emitter.removeListener("activechange",t)}}}]),e}();function qS(e){return e&&e.isPanel}function JS(e){return(JS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZS(Object(n),!0).forEach((function(t){eE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eE(e,t,n){return(t=oE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oE(r.key),r)}}function rE(e,t,n){return t&&nE(e.prototype,t),n&&nE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oE(e){var t=iE(e,"string");return"symbol"===JS(t)?t:String(t)}function iE(e,t){if("object"!==JS(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==JS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],KS.prototype,"inited",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],KS.prototype,"_actived",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Boolean),Object(c.d)("design:paramtypes",[])],KS.prototype,"actived",null),Object(c.b)([a.computed,Object(c.d)("design:type",Boolean),Object(c.d)("design:paramtypes",[])],KS.prototype,"visible",null),Object(c.b)([a.obx.ref,Object(c.d)("design:type","function"==typeof(BS=void 0!==Av&&Av)?BS:Object)],KS.prototype,"parent",void 0);var aE=function(){function e(t,n){tE(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.id=Object(s.cb)("widget"),this.name=void 0,this.align=void 0,this._visible=!0,this.inited=!1,this._disabled=!1,this._body=void 0,this.title=void 0,this.skeleton=t,this.config=n,Object(a.makeObservable)(this);var r=n.props,o=void 0===r?{}:r,i=n.name;this.name=i,this.align=o.align,this.title=o.title||i,o.onInit&&o.onInit.call(this,this)}return rE(e,[{key:"visible",get:function e(){return this._visible}},{key:"body",get:function e(){if(this.inited)return this._body;this.inited=!0;var t=this.config,n=t.content,r=t.contentProps;return this._body=Object(s.m)(n,QS(QS({},r),{},{config:this.config,editor:_m(this.skeleton.editor)})),this._body}},{key:"content",get:function e(){return Object(r.createElement)(PS,{widget:this,key:this.id})}},{key:"getId",value:function e(){return this.id}},{key:"getName",value:function e(){return this.name}},{key:"getContent",value:function e(){return this.content}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"setVisible",value:function e(t){t!==this._visible&&(t?this._visible=!0:this.inited&&(this._visible=!1))}},{key:"toggle",value:function e(){this.setVisible(!this._visible)}},{key:"setDisabled",value:function e(t){this._disabled!==t&&(this._disabled=t)}},{key:"disable",value:function e(){this.setDisabled(!0)}},{key:"enable",value:function e(){this.setDisabled(!1)}},{key:"disabled",get:function e(){return this._disabled}}]),e}();function uE(e){return e&&e.isWidget}function cE(e){return(cE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sE(Object(n),!0).forEach((function(t){fE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fE(e,t,n){return(t=vE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vE(r.key),r)}}function dE(e,t,n){return t&&hE(e.prototype,t),n&&hE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vE(e){var t=yE(e,"string");return"symbol"===cE(t)?t:String(t)}function yE(e,t){if("object"!==cE(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==cE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],aE.prototype,"_visible",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],aE.prototype,"inited",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],aE.prototype,"_disabled",void 0);var mE=function(){function e(t,n){pE(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.id=Object(s.cb)("dock"),this.name=void 0,this.align=void 0,this._visible=!0,this._disabled=!1,this.inited=!1,this._body=void 0,this.skeleton=t,this.config=n,Object(a.makeObservable)(this);var r=n.props,o=void 0===r?{}:r,i=n.name;this.name=i,this.align=o.align,o.onInit&&o.onInit.call(this,this)}return dE(e,[{key:"visible",get:function e(){return this._visible}},{key:"content",get:function e(){return Object(r.createElement)(PS,{widget:this,key:this.id})}},{key:"body",get:function e(){if(this.inited)return this._body;var t=this.config,n=t.props,o=t.content,i=t.contentProps;return this._body=o?Object(s.m)(o,lE(lE({},i),{},{config:this.config,editor:_m(this.skeleton.editor)})):Object(r.createElement)(bS,n),this.inited=!0,this._body}},{key:"setVisible",value:function e(t){t!==this._visible&&(t?this._visible=!0:this.inited&&(this._visible=!1))}},{key:"setDisabled",value:function e(t){this._disabled!==t&&(this._disabled=t)}},{key:"disable",value:function e(){this.setDisabled(!0)}},{key:"enable",value:function e(){this.setDisabled(!1)}},{key:"disabled",get:function e(){return this._disabled}},{key:"getContent",value:function e(){return this.content}},{key:"getName",value:function e(){return this.name}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"toggle",value:function e(){this.setVisible(!this._visible)}}]),e}();function bE(e){return(bE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jE(r.key),r)}}function OE(e,t,n){return t&&wE(e.prototype,t),n&&wE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jE(e){var t=SE(e,"string");return"symbol"===bE(t)?t:String(t)}function SE(e,t){if("object"!==bE(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function EE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kE(e,t)}function kE(e,t){return(kE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function _E(e){var t=NE();return function n(){var r=CE(e),o;if(t){var i=CE(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return PE(this,o)}}function PE(e,t){if(t&&("object"===bE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xE(e)}function xE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NE(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function CE(e){return(CE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],mE.prototype,"_visible",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],mE.prototype,"_disabled",void 0);var TE=function(e){EE(n,e);var t=_E(n);function n(e,r){var o;return gE(this,n),(o=t.call(this,e,r)).isRoot=void 0,o.previous=void 0,o.refer=void 0,o.isRoot=r.isRoot||!1,o}return OE(n,[{key:"setPrevious",value:function e(t){this.previous=t}},{key:"getPrevious",value:function e(){return this.previous}},{key:"hasBack",value:function e(){return!(!this.previous||this.isRoot)}},{key:"setRefer",value:function e(t,n){this.refer={stage:t,direction:n}}},{key:"setReferRight",value:function e(t){this.setRefer(t,"right")}},{key:"setReferLeft",value:function e(t){this.setRefer(t,"left")}},{key:"getRefer",value:function e(){var t=this.refer;return this.refer=void 0,t}}]),n}(aE),RE=["dialogProps","balloonProps","panelProps","linkProps"],LE=["content"],AE,ME;function DE(e){return(DE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IE(Object(n),!0).forEach((function(t){VE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VE(e,t,n){return(t=WE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FE(e,t){if(null==e)return{};var n=GE(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function GE(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function HE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WE(r.key),r)}}function zE(e,t,n){return t&&UE(e.prototype,t),n&&UE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function WE(e){var t=$E(e,"string");return"symbol"===DE(t)?t:String(t)}function $E(e,t){if("object"!==DE(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==DE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var XE=new s.e({level:"warn",bizName:"skeleton"}),YE;!function(e){e.PANEL_DOCK_ACTIVE="skeleton.panel-dock.active",e.PANEL_DOCK_UNACTIVE="skeleton.panel-dock.unactive",e.PANEL_SHOW="skeleton.panel.show",e.PANEL_HIDE="skeleton.panel.hide",e.WIDGET_SHOW="skeleton.widget.show",e.WIDGET_HIDE="skeleton.widget.hide",e.WIDGET_DISABLE="skeleton.widget.disable",e.WIDGET_ENABLE="skeleton.widget.enable"}(YE||(YE={}));var KE=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";HE(this,e),this.editor=void 0,this.viewName=void 0,this.panels=new Map,this.containers=new Map,this.leftArea=void 0,this.topArea=void 0,this.subTopArea=void 0,this.toolbar=void 0,this.leftFixedArea=void 0,this.leftFloatArea=void 0,this.rightArea=void 0,this.mainArea=void 0,this.bottomArea=void 0,this.stages=void 0,this.widgets=[],this.editor=t,this.viewName=r,Object(a.makeObservable)(this),this.leftArea=new Vp(this,"leftArea",(function(e){return uE(e)?e:n.createWidget(e)}),!1),this.topArea=new Vp(this,"topArea",(function(e){return uE(e)?e:n.createWidget(e)}),!1),this.subTopArea=new Vp(this,"subTopArea",(function(e){return uE(e)?e:n.createWidget(e)}),!1),this.toolbar=new Vp(this,"toolbar",(function(e){return uE(e)?e:n.createWidget(e)}),!1),this.leftFixedArea=new Vp(this,"leftFixedArea",(function(e){return qS(e)?e:n.createPanel(e)}),!0),this.leftFloatArea=new Vp(this,"leftFloatArea",(function(e){return qS(e)?e:n.createPanel(e)}),!0),this.rightArea=new Vp(this,"rightArea",(function(e){return qS(e)?e:n.createPanel(e)}),!1,!0),this.mainArea=new Vp(this,"mainArea",(function(e){return uE(e)?e:n.createWidget(e)}),!0,!0),this.bottomArea=new Vp(this,"bottomArea",(function(e){return qS(e)?e:n.createPanel(e)}),!0),this.stages=new Vp(this,"stages",(function(e){return uE(e)?e:new TE(n,e)})),this.setupPlugins(),this.setupEvents()}return zE(e,[{key:"setupEvents",value:function e(){var t=this;this.editor.eventBus.on(YE.PANEL_SHOW,(function(e,n){var r,o="".concat(e,"-pinned-status-isFloat"),i,u,c,s;(null===(r=a.engineConfig.getPreference())||void 0===r?void 0:r.contains(o,"skeleton"))&&((null===(u=a.engineConfig.getPreference())||void 0===u?void 0:u.get(o,"skeleton"))!==(null==n?void 0:n.isChildOfFloatArea())&&t.toggleFloatStatus(n))}))}},{key:"toggleFloatStatus",value:function e(t){var n,r="leftFloatArea"===(null==t||null===(n=t.parent)||void 0===n?void 0:n.name);r?(this.leftFloatArea.remove(t),this.leftFixedArea.add(t),this.leftFixedArea.container.active(t)):(this.leftFixedArea.remove(t),this.leftFloatArea.add(t),this.leftFloatArea.container.active(t)),a.engineConfig.getPreference().set("".concat(t.name,"-pinned-status-isFloat"),!r,"skeleton")}},{key:"buildFromConfig",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&this.editor.init(t,n),this.setupPlugins()}},{key:"setupPlugins",value:function e(){var t=this,n=this.editor,r=n.config,o=n.components,i=void 0===o?{}:o;if(r){var a=r.plugins;a&&Object.keys(a).forEach((function(e){a[e].forEach((function(n){var r=n.pluginKey,o=n.type,a=n.props,u=void 0===a?{}:a,c=n.pluginProps,s={area:e,type:"Widget",name:r,contentProps:c},l=u.dialogProps,f=u.balloonProps,p=u.panelProps,h=u.linkProps,d=FE(u,RE);s.props=d,l&&(s.dialogProps=l),f&&(s.balloonProps=f),p&&(s.panelProps=p),h&&(s.linkProps=h),"TabPanel"===o?s.type="Panel":/Icon$/.test(o)&&(s.type=o.replace("Icon","Dock")),r in i&&(s.content=i[r]),t.add(s)}))}))}}},{key:"postEvent",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this.editor.eventBus).emit.apply(n,[t].concat(o))}},{key:"createWidget",value:function e(t){return uE(t)?t:(n=Sv(t=this.parseConfig(t))?_v(t)?new IS(this,t):new mE(this,t):jv(t)?new aE(this,BE(BE({},t),{},{type:"Widget",content:Ni.Divider})):kv(t)?this.createPanel(t):new aE(this,t),this.widgets.push(n),n);var n}},{key:"getWidget",value:function e(t){return this.widgets.find((function(e){return e.name===t}))}},{key:"createPanel",value:function e(t){var n=this.parseConfig(t),r=new KS(this,n);return this.panels.set(r.name,r),XE.debug("Panel created with name: ".concat(r.name," \nconfig:"),t,"\n current panels: ",this.panels),r}},{key:"getPanel",value:function e(t){return this.panels.get(t)}},{key:"getStage",value:function e(t){return this.stages.container.get(t)}},{key:"createStage",value:function e(t){var n,r=this.add(BE({name:Object(s.cb)("stage"),area:"stages"},t));return null==r||null===(n=r.getName)||void 0===n?void 0:n.call(r)}},{key:"createContainer",value:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=new Av(t,n,r,o,i);return this.containers.set(t,a),a}},{key:"parseConfig",value:function e(t){if(t.parsed)return t;var n=t.content,o=FE(t,LE);return n&&(Object(s.P)(n)&&!Object(r.isValidElement)(n)?Object.keys(n).forEach((function(e){/props$/i.test(e)&&o[e]?o[e]=BE(BE({},o[e]),n[e]):o[e]=n[e]})):o.content=n),o.pluginKey=o.name,o.parsed=!0,o}},{key:"add",value:function e(t,n){var r=BE(BE({},this.parseConfig(t)),n),o=r.area;switch(o||(o="Panel"===r.type?"leftFloatArea":"Widget"===r.type?"mainArea":"leftArea"),o){case"leftArea":case"left":return this.leftArea.add(r);case"rightArea":case"right":return this.rightArea.add(r);case"topArea":case"top":return this.topArea.add(r);case"subTopArea":return this.subTopArea.add(r);case"toolbar":return this.toolbar.add(r);case"mainArea":case"main":case"center":case"centerArea":return this.mainArea.add(r);case"bottomArea":case"bottom":return this.bottomArea.add(r);case"leftFixedArea":return this.leftFixedArea.add(r);case"leftFloatArea":return this.leftFloatArea.add(r);case"stages":return this.stages.add(r)}}}]),e}();Object(c.b)([a.obx,Object(c.d)("design:type","function"==typeof(AE=void 0!==Vp&&Vp)?AE:Object)],KE.prototype,"mainArea",void 0),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",["function"==typeof(ME=void 0!==KS&&KS)?ME:Object]),Object(c.d)("design:returntype",void 0)],KE.prototype,"toggleFloatStatus",null);var qE=n(114),JE;function ZE(e){return(ZE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QE(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */QE=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==ZE(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,k.prototype={constructor:k,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function ek(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function tk(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ek(i,r,o,a,u,"next",e)}function u(e){ek(i,r,o,a,u,"throw",e)}a(void 0)}))}}function nk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ik(r.key),r)}}function ok(e,t,n){return t&&rk(e.prototype,t),n&&rk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ik(e){var t=ak(e,"string");return"symbol"===ZE(t)?t:String(t)}function ak(e,t){if("object"!==ZE(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ZE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function uk(e){return e.map((function(e){return e.id})).sort().join(",")}var ck=function(){function e(t){nk(this,e),this.editor=void 0,this.emitter=Object(a.createModuleEventBus)("SettingsMain"),this._sessionId="",this._settings=void 0,this.disposeListener=void 0,this.designer=void 0,this.editor=t,Object(a.makeObservable)(this),this.init()}return ok(e,[{key:"length",get:function e(){var t;return null===(t=this._settings)||void 0===t?void 0:t.nodes.length}},{key:"componentMeta",get:function e(){var t;return null===(t=this._settings)||void 0===t?void 0:t.componentMeta}},{key:"settings",get:function e(){return this._settings}},{key:"init",value:function(){var e=tk(QE().mark((function e(){var t=this,n,r;return QE().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return n=function e(n){n?t.setup(n.getNodes()):t.setup([])},this.editor.eventBus.on("designer.selection.change",n),this.disposeListener=function(){t.editor.removeListener("designer.selection.change",n)},o.next=5,this.editor.onceGot("designer");case 5:r=o.sent,this.designer=r,n(r.currentSelection);case 8:case"end":return o.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setup",value:function e(t){var n=uk(t);n!==this._sessionId&&(this._sessionId=n,t.length<1?this._settings=void 0:(this.designer||(this.designer=t[0].document.designer),1===t.length?this._settings=t[0].settingEntry:this._settings=this.designer.createSettingEntry(t)))}},{key:"purge",value:function e(){this.disposeListener(),this.emitter.removeAllListeners()}}]),e}();Object(c.b)([a.obx.ref,Object(c.d)("design:type","function"==typeof(JE=void 0!==dl&&dl)?JE:Object)],ck.prototype,"_settings",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],ck.prototype,"length",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],ck.prototype,"componentMeta",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],ck.prototype,"settings",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Array]),Object(c.d)("design:returntype",void 0)],ck.prototype,"setup",null);var sk=n(47),lk=n(115);function fk(e){return(fk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pk(e){return yk(e)||vk(e)||dk(e)||hk()}function hk(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function dk(e,t){if(e){if("string"==typeof e)return mk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mk(e,t):void 0}}function vk(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function yk(e){if(Array.isArray(e))return mk(e)}function mk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bk(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gk(e,t)}function gk(e,t){return(gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function wk(e){var t=Sk();return function n(){var r=Ek(e),o;if(t){var i=Ek(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Ok(this,o)}}function Ok(e,t){if(t&&("object"===fk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jk(e)}function jk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sk(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ek(e){return(Ek=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function kk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kk(Object(n),!0).forEach((function(t){Pk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pk(e,t,n){return(t=Tk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tk(r.key),r)}}function Ck(e,t,n){return t&&Nk(e.prototype,t),n&&Nk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tk(e){var t=Rk(e,"string");return"symbol"===fk(t)?t:String(t)}function Rk(e,t){if("object"!==fk(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==fk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Lk=Object(r.createContext)({}),Ak=function(){function e(){xk(this,e),this.emitter=Object(a.createModuleEventBus)("PopupPipe"),this.currentId=void 0}return Ck(e,[{key:"create",value:function e(t){var n=this,r=null,o=null,i=Object(s.cb)("popup");return{send:function e(a,u){r=a,o=u,n.currentId===i&&n.popup(_k(_k({},t),{},{content:a,title:u}))},show:function e(a,u){n.currentId=i,n.popup(_k(_k({},t),{},{actionKey:u,content:r,title:o}),a)}}}},{key:"popup",value:function e(t,n){var r=this;Promise.resolve().then((function(){r.emitter.emit("popupchange",t,n)}))}},{key:"onPopupChange",value:function e(t){var n=this;return this.emitter.on("popupchange",t),function(){n.emitter.removeListener("popupchange",t)}}},{key:"purge",value:function e(){this.emitter.removeAllListeners()}}]),e}(),Mk=function(e){bk(n,e);var t=wk(n);function n(){var e;xk(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).popupPipe=e.props.popupPipe||new Ak,e}return Ck(n,[{key:"componentWillUnmount",value:function e(){this.popupPipe.purge()}},{key:"render",value:function e(){var t=this.props,n=t.children,r=t.actionKey,o=t.safeId,i=t.popupContainer;return React.createElement(Lk.Provider,{value:this.popupPipe},n,React.createElement(Dk,{key:"pop".concat(r),safeId:o,popupContainer:i}))}}]),n}(r.Component),Dk=function(e){bk(n,e);var t=wk(n);function n(){var e;xk(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).popupContainerId=Object(s.cb)("popupContainer"),e.state={visible:!1,offsetX:-300},e.dispose=e.context.onPopupChange((function(t,n){var r=_k(_k({},t),{},{visible:!0});if(n){var o=n.getBoundingClientRect();r.pos={top:o.top,height:o.height}}e.setState(r)})),e.onClose=function(){e.setState({visible:!1})},e}return Ck(n,[{key:"componentDidMount",value:function e(){var t;(document.documentElement.clientWidth||document.body.clientWidth)>=1860&&this.setState({offsetX:-400})}},{key:"componentWillUnmount",value:function e(){this.dispose()}},{key:"render",value:function e(){var t=this,n=this.state,r=n.content,o=n.visible,i=n.title,a=n.actionKey,u=n.pos,c=n.offsetX,l=n.width,f=void 0===l?360:l,p=n.hasMask,h=void 0!==p&&p,d=n.canCloseByOutSideClick,v=void 0===d||d,y=n.safeNode,m=void 0===y?[]:y;if(!o)return null;var b=!0;setTimeout((function(){b=!1}),10);var g=Object(s.cb)("ball");return React.createElement(Ni.Drawer,{width:f,visible:o,offset:[c,0],hasMask:h,onVisibleChange:function e(n,r){b||n||"closeClick"!==r||t.setState({visible:!1})},trigger:React.createElement("div",{className:"lc-popup-placeholder",style:u}),triggerType:"click",canCloseByOutSideClick:v,animation:!1,onClose:this.onClose,id:this.props.safeId,safeNode:[g].concat(pk(m)),closeable:!0,container:this.props.popupContainer},React.createElement("div",{className:"lc-ballon-title"},i),React.createElement("div",{className:"lc-ballon-content"},React.createElement(Mk,{actionKey:a,safeId:g,popupContainer:this.popupContainerId},React.createElement(Ni.ConfigProvider,{popupContainer:this.popupContainerId},r))),React.createElement("div",{id:this.popupContainerId}),React.createElement("div",{id:"engine-variable-setter-dialog"}),React.createElement("div",{id:"engine-popup-container"}))}}]),n}(r.PureComponent);function Ik(e){return(Ik="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gk(r.key),r)}}function Fk(e,t,n){return t&&Vk(e.prototype,t),n&&Vk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gk(e){var t=Hk(e,"string");return"symbol"===Ik(t)?t:String(t)}function Hk(e,t){if("object"!==Ik(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ik(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Uk(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zk(e,t)}function zk(e,t){return(zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Wk(e){var t=Yk();return function n(){var r=Kk(e),o;if(t){var i=Kk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return $k(this,o)}}function $k(e,t){if(t&&("object"===Ik(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xk(e)}function Xk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yk(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Kk(e){return(Kk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Dk.contextType=Lk;var qk=function(e){Uk(n,e);var t=Wk(n);function n(){return Bk(this,n),t.apply(this,arguments)}return Fk(n,[{key:"render",value:function e(){var t=this.props,n=t.position,o=t.theme,i=t.children;return r.createElement("div",{style:{display:"none"},"data-role":"tip","data-position":n,"data-theme":o},i)}}]),n}(r.Component);qk.displayName="InlineTip",qk.defaultProps={position:"auto",theme:"black"};var Jk=n(57),Zk=n(58),Qk=Object(a.createIntl)({"en-US":Jk,"zh-CN":Zk}),e_=Qk.intl,t_=Qk.intlNode,n_=Qk.getLocale,r_=Qk.setLocale;function o_(e){return(o_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c_(r.key),r)}}function u_(e,t,n){return t&&a_(e.prototype,t),n&&a_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c_(e){var t=s_(e,"string");return"symbol"===o_(t)?t:String(t)}function s_(e,t){if("object"!==o_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function l_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f_(e,t)}function f_(e,t){return(f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function p_(e){var t=v_();return function n(){var r=y_(e),o;if(t){var i=y_(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return h_(this,o)}}function h_(e,t){if(t&&("object"===o_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d_(e)}function d_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v_(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y_(e){return(y_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var m_=function(e){l_(n,e);var t=p_(n);function n(e){var r;return i_(this,n),(r=t.call(this,e)).state={collapsed:r.props.collapsed,display:r.props.defaultDisplay||"inline",hasError:!1},r.toggleExpand=function(){var e=r.props.onExpandChange,t=!r.state.collapsed;r.setState({collapsed:t}),e&&e(!t)},r.body=null,r.dispose=void 0,r.handleClear=r.handleClear.bind(d_(r)),r.clickHandler=r.clickHandler.bind(d_(r)),r}return u_(n,[{key:"deployBlockTesting",value:function e(){var t=this;this.dispose&&this.dispose();var n=this.body;if(n){var r=function e(){var r=n.firstElementChild;r&&r.classList.contains("lc-block-setter")?t.setState({display:"block"}):t.setState({display:"inline"})},o=new MutationObserver(r);r(),o.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]}),this.dispose=function(){return o.disconnect()}}}},{key:"handleClear",value:function e(t){t.stopPropagation(),this.props.onClear&&this.props.onClear()}},{key:"componentDidMount",value:function e(){var t=this.props.defaultDisplay;t&&"inline"!==t||this.deployBlockTesting()}},{key:"componentWillUnmount",value:function e(){this.dispose&&this.dispose()}},{key:"getTipContent",value:function e(t,n){var r=React.createElement("div",null,React.createElement("div",null,e_("Attribute: "),t));return Object(vo.isObject)(n)?r=React.createElement("div",null,React.createElement("div",null,e_("Attribute: "),t),React.createElement("div",null,e_("Description: "),n.content)):n&&(r=React.createElement("div",null,React.createElement("div",null,e_("Attribute: "),t),React.createElement("div",null,e_("Description: "),n))),r}},{key:"clickHandler",value:function e(t){var n=this.props,r=n.editor,o=n.name,i=n.title,a=n.meta;null==r||r.eventBus.emit("setting.setter.field.click",{name:o,title:i,meta:a,event:t})}},{key:"render",value:function e(){var t=this,n;if(this.state.hasError)return null;var r=this.props,o=r.className,i=r.children,u=r.meta,c=r.title,s=r.valueState,l=r.name,f=r.tip,p=this.state,h=p.display,d=p.collapsed,v="accordion"===h,y="";"object"===o_(u)?y="".concat((null==u?void 0:u.package)||"","-").concat(u.componentName||""):"string"==typeof u&&(y=u);var m="".concat(y,"-").concat(l||c["en-US"]||c["zh-CN"]),b=this.getTipContent(l,f);return React.createElement("div",{className:Jo()("lc-field lc-".concat(h,"-field"),o,{"lc-field-is-collapsed":v&&d}),id:m},"plain"!==h&&React.createElement("div",{className:"lc-field-head",onClick:v?this.toggleExpand:void 0},React.createElement("div",{className:"lc-field-title"},(this.handleClear,null),React.createElement(a.Title,{title:c||"",onClick:this.clickHandler}),React.createElement(qk,{position:"top"},b)),v&&React.createElement(Ni.Icon,{className:"lc-field-icon",type:"arrow-up",size:"xs"})),React.createElement("div",{key:"body",ref:function e(n){t.body=n},className:"lc-field-body"},i))}}],[{key:"getDerivedStateFromError",value:function e(){return{hasError:!0}}}]),n}(r.Component);function b_(){return null}var g_=function(e){l_(n,e);var t=p_(n);function n(){var e;i_(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).pipe=void 0,e}return u_(n,[{key:"render",value:function e(){var t=this,n=this.props,r=n.className,o=n.children,i=n.title,u=n.width;this.pipe||(this.pipe=this.context.create({width:u}));var c=i&&React.createElement("div",{className:"lc-field-title"},React.createElement(a.Title,{title:i}));return this.pipe.send(React.createElement("div",{className:"lc-field-body"},o),c),React.createElement("div",{className:Jo()("lc-field lc-popup-field",r)},i&&React.createElement("div",{className:"lc-field-head",onClick:function e(n){t.pipe.show(n.target)}},React.createElement("div",{className:"lc-field-title"},React.createElement(a.Title,{title:i})),React.createElement(Ni.Icon,{className:"lc-field-icon",type:"arrow-left",size:"xs"})))}}]),n}(r.Component);g_.contextType=Lk,g_.defaultProps={width:300};var w_=function(e){l_(n,e);var t=p_(n);function n(){return i_(this,n),t.apply(this,arguments)}return u_(n,[{key:"render",value:function e(){var t=this.props,n=t.title,r=t.className,o=t.stageName,i=Jo()("lc-field","lc-entry-field",r);return React.createElement("div",{className:i},React.createElement("div",{className:"lc-field-head","data-stage-target":o},React.createElement("div",{className:"lc-field-title"},React.createElement(a.Title,{title:n||""})),React.createElement(Ni.Icon,{className:"lc-field-icon",type:"arrow-right",size:"xs"})))}}]),n}(r.Component),O_=function(e){l_(n,e);var t=p_(n);function n(){return i_(this,n),t.apply(this,arguments)}return u_(n,[{key:"render",value:function e(){var t=this.props,n=t.className,r=t.children;return React.createElement("div",{className:Jo()("lc-field lc-plain-field",n)},React.createElement("div",{className:"lc-field-body"},r))}}]),n}(r.Component),j_,S_,E_,k_;function __(e){return(__="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P_(Object(n),!0).forEach((function(t){N_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N_(e,t,n){return(t=C_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C_(e){var t=T_(e,"string");return"symbol"===__(t)?t:String(t)}function T_(e,t){if("object"!==__(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==__(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function R_(e,t,n){return"popup"===n?Object(r.createElement)(g_,e,t):"entry"===n?Object(r.createElement)(w_,e,t):"plain"!==n&&e.title?Object(r.createElement)(m_,x_(x_({},e),{},{defaultDisplay:n}),t):Object(r.createElement)(O_,e,t)}function L_(e){return(L_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A_(Object(n),!0).forEach((function(t){D_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D_(e,t,n){return(t=F_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F_(r.key),r)}}function V_(e,t,n){return t&&B_(e.prototype,t),n&&B_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function F_(e){var t=G_(e,"string");return"symbol"===L_(t)?t:String(t)}function G_(e,t){if("object"!==L_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==L_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function H_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U_(e,t)}function U_(e,t){return(U_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function z_(e){var t=X_();return function n(){var r=Y_(e),o;if(t){var i=Y_(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return W_(this,o)}}function W_(e,t){if(t&&("object"===L_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $_(e)}function $_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X_(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Y_(e){return(Y_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function K_(e){return!!e&&null==e.prototype;var t}function q_(e){return Object(s.J)(e)?!1!==e.visible&&Array.isArray(e.value)&&e.value.length>0:null!=e}var J_=((j_=function(e){H_(n,e);var t=z_(n);function n(e){var o,i;I_(this,n),(i=t.call(this,e)).stageName=void 0,i.setters=void 0;var u=i.props.field,c,s=u.extraProps.display,l=null===(o=u.designer)||void 0===o?void 0:o.editor,f,p,h=((null==l?void 0:l.get("skeleton"))||{}).stages,d;return i.setters=null==l?void 0:l.get("setters"),"entry"===s&&Object(a.runInAction)((function(){var e;d="".concat(u.getNode().id,"_").concat(null===(e=u.name)||void 0===e?void 0:e.toString()),h.container.remove(d),h.add({type:"Widget",name:d,content:React.createElement(r.Fragment,null,u.items.map((function(e,t){return Q_(e,u,t)}))),props:{title:u.title}})})),i.stageName=d,i}return V_(n,[{key:"field",get:function e(){return this.props.field}},{key:"visible",get:function e(){var t,n=this.field.extraProps.condition;try{return"function"!=typeof n||!1!==n(this.field.internalToShellField())}catch(e){console.error("exception when condition (hidden) is excuted",e)}return!0}},{key:"ignoreDefaultValue",get:function e(){var t,n=this.field.extraProps.ignoreDefaultValue;try{return"function"==typeof n&&n(this.field.internalToShellField())}catch(e){console.error("exception when ignoreDefaultValue is excuted",e)}return!1}},{key:"setterInfo",get:function e(){var t,n=this.field,r=n.extraProps,o=n.componentMeta,i=r.defaultValue,u=this.field.setter,c={},l,f=null;Array.isArray(u)?(l="MixedSetter",c={setters:u}):Object(s.U)(u)?(l=u.componentName,u.props&&"function"==typeof(c=u.props)&&(c=c(this.field.internalToShellField())),null!=u.initialValue&&(f=u.initialValue)):u&&(l=u),null==i||"defaultValue"in c||(c.defaultValue=i,null==f&&(f=i)),-1===this.field.valueState&&(c.multiValue=!0,"placeholder"in c||(c.placeholder=e_("Multiple Value")));var p=null===(t=this.field.extraProps)||void 0===t?void 0:t.supportVariable,h=a.engineConfig.get("supportVariableGlobally",!1)&&K_(o);return(p||h)&&("MixedSetter"===l?Array.isArray(c.setters)&&!c.setters.includes("VariableSetter")&&c.setters.push("VariableSetter"):(l="MixedSetter",c={setters:[u,"VariableSetter"]})),{setterProps:c,initialValue:f,setterType:l}}},{key:"value",get:function e(){return-1===this.field.valueState?null:this.field.getValue()}},{key:"initDefaultValue",value:function e(){var t,n=this.setterInfo.initialValue;if(!(null!==(t=this.state)&&void 0!==t&&t.fromOnChange||!q_(n)||this.ignoreDefaultValue||void 0!==this.value)){var r="function"==typeof n?n(this.field.internalToShellField()):n;this.field.setValue(r)}}},{key:"componentDidMount",value:function e(){this.initDefaultValue()}},{key:"render",value:function e(){var t,n,r,o,i,u=this,c=this.field,s=c.extraProps,l;if(!this.visible)return null;var f=this.setterInfo,p=f.setterProps,h=void 0===p?{}:p,d=f.setterType,v=f.initialValue,y=void 0===v?null:v,m=this.value,b=null==s?void 0:s.onChange,g=this.stageName;return R_(M_({meta:(null==c||null===(t=c.componentMeta)||void 0===t?void 0:t.npm)||(null==c||null===(n=c.componentMeta)||void 0===n?void 0:n.componentName)||"",title:c.title,collapsed:!c.expanded,valueState:c.isRequired?10:c.valueState,onExpandChange:function e(t){return c.setExpanded(t)},onClear:function e(){return c.clearValue()},stageName:g},s),!g&&(null===(r=this.setters)||void 0===r?void 0:r.createSetterContent(d,M_(M_({},Object(a.shallowIntl)(h)),{},{forceInline:s.forceInline,key:c.id,prop:c.internalToShellField(),selected:null===(o=c.top)||void 0===o||null===(i=o.getNode())||void 0===i?void 0:i.internalToShellNode(),field:c.internalToShellField(),value:m,initialValue:y,onChange:function e(t){u.setState({fromOnChange:!0,value:t}),c.setValue(t,!0),b&&b(t,c)},onInitial:function e(){if(null!=y){var t="function"==typeof y?y(c.internalToShellField()):y;u.setState({value:t}),c.setValue(t,!0)}},removeProp:function e(){c.name&&c.parent.clearPropValue(c.name)}}))),s.forceInline?"plain":s.display)}}]),n}(r.Component)).contextType=av,j_);J_=Object(c.b)([a.observer,Object(c.d)("design:paramtypes",[Object])],J_);var Z_=((S_=function(e){H_(n,e);var t=z_(n);function n(e){var o,i;I_(this,n),(i=t.call(this,e)).stageName=void 0;var u=i.props.field,c,s=u.extraProps.display,l=null===(o=i.props.field.designer)||void 0===o?void 0:o.editor,f,p=(null==l?void 0:l.get("skeleton")).stages,h;return"entry"===s&&Object(a.runInAction)((function(){var e;h="".concat(u.getNode().id,"_").concat(null===(e=u.name)||void 0===e?void 0:e.toString()),p.container.remove(h),p.add({type:"Widget",name:h,content:React.createElement(r.Fragment,null,u.items.map((function(e,t){return Q_(e,u,t)}))),props:{title:u.title}})})),i.stageName=h,i}return V_(n,[{key:"render",value:function e(){var t,n,r=this.props.field,o=r.extraProps,i=o.condition,a=o.display,u;return!r.isSingle||"function"!=typeof i||!1!==i(r.internalToShellField())?R_({meta:(null===(t=r.componentMeta)||void 0===t?void 0:t.npm)||(null===(n=r.componentMeta)||void 0===n?void 0:n.componentName)||"",title:r.title,collapsed:!r.expanded,onExpandChange:function e(t){return r.setExpanded(t)},stageName:this.stageName},r.items.map((function(e,t){return Q_(e,r,t)})),a):null}}]),n}(r.Component)).contextType=av,S_);function Q_(e,t,n){return al(e)?e.isGroup?React.createElement(Z_,{field:e,key:e.id}):React.createElement(J_,{field:e,key:e.id}):Object(s.m)(e,{key:n,field:t})}Z_=Object(c.b)([a.observer,Object(c.d)("design:paramtypes",[Object])],Z_);var eP=((E_=function(e){H_(n,e);var t=z_(n);function n(){var e;I_(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).currentStage=void 0,e.popupPipe=new Ak,e.pipe=e.popupPipe.create(),e.handleClick=function(t){var n=e.props.usePopup,r;if(void 0===n||n){var o=t.currentTarget,i=c(t.target);if(i){var a=e.context;if(a&&a.stages){var u=a.stages.container.get(i);u&&(e.currentStage&&u.setPrevious(e.currentStage),e.currentStage=u)}}}function c(e){if(!o.contains(e)||"A"===e.nodeName&&e.getAttribute("href"))return null;var t=e.dataset?e.dataset.stageTarget:null;return t||c(e.parentNode)}},e}return V_(n,[{key:"popStage",value:function e(){var t;this.currentStage=null===(t=this.currentStage)||void 0===t?void 0:t.getPrevious()}},{key:"render",value:function e(){var t=this.props.target,n=t.items;return React.createElement("div",{className:"lc-settings-pane",onClick:this.handleClick},React.createElement(Mk,{popupPipe:this.popupPipe},React.createElement("div",{className:"lc-settings-content"},n.map((function(e,n){return Q_(e,t,n)})))))}}]),n}(r.Component)).contextType=av,E_);function tP(e){return(tP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iP(r.key),r)}}function oP(e,t,n){return t&&rP(e.prototype,t),n&&rP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function iP(e){var t=aP(e,"string");return"symbol"===tP(t)?t:String(t)}function aP(e,t){if("object"!==tP(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx,Object(c.d)("design:type","function"==typeof(k_=void 0!==TE&&TE)?k_:Object)],eP.prototype,"currentStage",void 0),eP=Object(c.b)([a.observer],eP);var uP=function(){function e(t){nP(this,e),this.emitter=void 0,this.stage=void 0,this.emitter=Object(a.createModuleEventBus)("StageChain"),this.stage=t}return oP(e,[{key:"stagePush",value:function e(t){t&&(t.setPrevious(this.stage),t.setReferLeft(this.stage),this.stage=t,this.emitter.emit("stagechange"))}},{key:"stageBack",value:function e(){var t=this.stage.getPrevious();t&&(t.setReferRight(this.stage),this.stage=t,this.emitter.emit("stagechange"))}},{key:"stageBackToRoot",value:function e(){for(var t=this.stage.getPrevious();t&&!t.isRoot;)t=t.getPrevious();t&&(t.setReferRight(this.stage),this.stage=t,this.emitter.emit("stagechange"))}},{key:"getCurrentStage",value:function e(){return this.stage}},{key:"onStageChange",value:function e(t){var n=this;return this.emitter.on("stagechange",t),function(){n.emitter.removeListener("stagechange",t)}}}]),e}();function cP(){return(cP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function sP(e){return React.createElement(s.f,cP({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512.002047 771.904425c-10.152221 0.518816-20.442588-2.800789-28.202319-10.598382L77.902254 315.937602c-14.548344-14.618952-14.548344-38.318724 0-52.933583 14.544251-14.614859 38.118156-14.614859 52.662407 0l381.437385 418.531212L893.432269 263.004019c14.544251-14.614859 38.125319-14.614859 52.662407 0 14.552437 14.614859 14.552437 38.314631 0 52.933583L540.205389 761.307066C532.451798 769.103636 522.158361 772.424264 512.002047 771.904425z"}))}function lP(){return(lP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fP(e){return React.createElement(s.f,lP({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M723.872 478.4l-81.12-81.152L688 352l135.776 135.776L846.4 510.4 688 668.8l-45.248-45.28 81.12-81.12H384v-64h339.872zM576 896H256.192A64.16 64.16 0 0 1 192 831.84V192.16c0-35.424 28.704-64.16 64.192-64.16H576v64H288.224A31.968 31.968 0 0 0 256 223.744v576.512C256 817.44 270.4 832 288.224 832H576v64z"}))}function pP(e){return(pP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yP(r.key),r)}}function vP(e,t,n){return t&&dP(e.prototype,t),n&&dP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yP(e){var t=mP(e,"string");return"symbol"===pP(t)?t:String(t)}function mP(e,t){if("object"!==pP(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==pP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function bP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gP(e,t)}function gP(e,t){return(gP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function wP(e){var t=SP();return function n(){var r=EP(e),o;if(t){var i=EP(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return OP(this,o)}}function OP(e,t){if(t&&("object"===pP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jP(e)}function jP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SP(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function EP(e){return(EP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}sP.displayName="Arrow",fP.displayName="Exit";var kP={current:!1},_P=function(e){bP(n,e);var t=wP(n);function n(){var e;hP(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).timer=void 0,e.additionClassName=void 0,e.shell=void 0,e}return vP(n,[{key:"componentDidMount",value:function e(){this.doSkate()}},{key:"componentDidUpdate",value:function e(){this.doSkate()}},{key:"componentWillUnmount",value:function e(){window.clearTimeout(this.timer)}},{key:"doSkate",value:function e(){var t=this;window.clearTimeout(this.timer),this.additionClassName&&(this.timer=window.setTimeout((function(){var e=t.shell;e&&(t.props.current?e.classList.remove(t.additionClassName):e.classList.add(t.additionClassName),t.additionClassName=null)}),15))}},{key:"render",value:function e(){var t=this,n=this.props,r=n.stage,i=n.current,a=n.direction,u=null==r?void 0:r.getContent(),c=r.title,l=Object(s.X)(c)?c.label:c;i?a&&(this.additionClassName="skeleton-stagebox-stagein-".concat(a)):a&&(this.additionClassName="skeleton-stagebox-stageout-".concat(a));var f=Jo()("skeleton-stagebox-stage",{"skeleton-stagebox-refer":!i},this.additionClassName),p=null!=r&&r.hasBack()?o.a.createElement("div",{className:"skeleton-stagebox-stagebacker"},o.a.createElement(sP,{className:"skeleton-stagebox-stage-arrow",size:"medium","data-stage-target":"stageback"}),o.a.createElement("span",{className:"skeleton-stagebox-stage-title"},l),o.a.createElement(fP,{className:"skeleton-stagebox-stage-exit",size:"medium","data-stage-target":"stageexit"})):null;return o.a.createElement("div",{ref:function e(n){t.shell=n},className:f},p,o.a.createElement("div",{className:"skeleton-stagebox-stage-content"},u))}}]),n}(r.Component),PP;function xP(e){return(xP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RP(r.key),r)}}function TP(e,t,n){return t&&CP(e.prototype,t),n&&CP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function RP(e){var t=LP(e,"string");return"symbol"===xP(t)?t:String(t)}function LP(e,t){if("object"!==xP(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function AP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MP(e,t)}function MP(e,t){return(MP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function DP(e){var t=VP();return function n(){var r=FP(e),o;if(t){var i=FP(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return IP(this,o)}}function IP(e,t){if(t&&("object"===xP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return BP(e)}function BP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VP(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function FP(e){return(FP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}_P.defaultProps=kP;var GP={},HP=((PP=function(e){AP(n,e);var t=DP(n);function n(e){var r;NP(this,n),(r=t.call(this,e)).stageChain=void 0,r.willDetach=[],r.shell=void 0,r.popupPipe=new Ak,r.pipe=r.popupPipe.create();var o=r.props,i=o.stageChain,a=o.children,u=o.skeleton;if(i)r.stageChain=i;else{var c=u.createStage({content:a,isRoot:!0});r.stageChain=new uP(u.getStage(c))}return r.willDetach.push(r.stageChain.onStageChange((function(){return r.forceUpdate()}))),r}return TP(n,[{key:"componentDidMount",value:function e(){var t=this,n=this.shell,r=function e(t){if(!t||null==n||!n.contains(t)||"A"===t.nodeName&&t.getAttribute("href"))return null;var r=t.dataset?t.dataset.stageTarget:null;return r||e(t.parentNode)},o=function e(n){var o=r(n.target);if(o)if("stageback"===o)t.stageChain.stageBack();else if("stageexit"===o)t.stageChain.stageBackToRoot();else{var i=t.props.skeleton;t.stageChain.stagePush(i.getStage(o))}};null==n||n.addEventListener("click",o,!1),this.willDetach.push((function(){return null==n?void 0:n.removeEventListener("click",o,!1)}))}},{key:"componentWillUnmount",value:function e(){this.willDetach&&this.willDetach.forEach((function(e){return e()}))}},{key:"render",value:function e(){var t=this,n=Jo()("skeleton-stagebox",this.props.className),r=this.stageChain.getCurrentStage(),i=null==r?void 0:r.getRefer(),a=null,u=null,c;i?(a=o.a.createElement(_P,{key:r.getId(),stage:r,direction:i.direction,current:!0}),u=o.a.createElement(_P,{key:null==i||null===(c=i.stage)||void 0===c?void 0:c.getId(),stage:null==i?void 0:i.stage,direction:i.direction})):a=o.a.createElement(_P,{key:r.getId(),stage:r,current:!0});return o.a.createElement("div",{ref:function e(n){t.shell=n},className:n},o.a.createElement(Mk,{popupPipe:this.popupPipe},u,a))}}]),n}(r.Component)).defaultProps=GP,PP.displayName="StageBox",PP),UP=HP=Object(c.b)([a.observer,Object(c.d)("design:paramtypes",[Object])],HP),zP=n(116);function WP(e){return(WP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $P(){return($P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function XP(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */XP=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==WP(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,k.prototype={constructor:k,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function YP(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function KP(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){YP(i,r,o,a,u,"next",e)}function u(e){YP(i,r,o,a,u,"throw",e)}a(void 0)}))}}function qP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QP(r.key),r)}}function ZP(e,t,n){return t&&JP(e.prototype,t),n&&JP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function QP(e){var t=ex(e,"string");return"symbol"===WP(t)?t:String(t)}function ex(e,t){if("object"!==WP(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==WP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function tx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nx(e,t)}function nx(e,t){return(nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function rx(e){var t=ax();return function n(){var r=ux(e),o;if(t){var i=ux(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ox(this,o)}}function ox(e,t){if(t&&("object"===WP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ix(e)}function ix(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ax(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ux(e){return(ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var cx=function(e){tx(n,e);var t=rx(n);function n(e){var r;return qP(this,n),(r=t.call(this,e)).state={shouldIgnoreRoot:!1},r.main=new ck(r.props.engineEditor),r._activeKey=void 0,Object(a.makeObservable)(ix(r)),r}return ZP(n,[{key:"componentDidMount",value:function e(){var t=this,n;this.setShouldIgnoreRoot(),this.props.engineEditor.eventBus.on("designer.selection.change",(function(){a.engineConfig.get("stayOnTheSameSettingTab",!1)||(t._activeKey=null)}))}},{key:"setShouldIgnoreRoot",value:function(){var e=KP(XP().mark((function e(){var t;return XP().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.globalContext.get("editor").get("designMode");case 2:t=n.sent,this.setState({shouldIgnoreRoot:"live"===t});case 4:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"componentWillUnmount",value:function e(){this.main.purge()}},{key:"renderBreadcrumb",value:function e(){var t,n,r,i,u=this.main,c=u.settings,l=u.editor,f=this.state.shouldIgnoreRoot,p;if(!c)return null;if(c.isMultiple)return o.a.createElement("div",{className:"lc-settings-navigator"},Object(s.n)(null===(p=c.componentMeta)||void 0===p?void 0:p.icon,{className:"lc-settings-navigator-icon",class:"lc-settings-navigator-icon"}),o.a.createElement(a.Title,{title:c.componentMeta.title}),o.a.createElement("span",null," x ",c.nodes.length));for(var h=l.get("designer"),d=null==h||null===(t=h.currentSelection)||void 0===t||null===(n=t.getNodes())||void 0===n?void 0:n[0],v=c.first,y=null===(r=v.document)||void 0===r?void 0:r.focusNode,m=[],b=3,g=function e(){var t=v;if(f&&v.isRoot())return"break";y&&v.contains(y)&&(b=0);var n=2===b?{}:{onMouseOver:sx.bind(null,t,!0),onMouseOut:sx.bind(null,t,!1),onClick:function e(){if(t){lx.call(null,t);var n=function e(t){var n,r,o=null==t||null===(n=t.componentMeta)||void 0===n?void 0:n.npm;return[null==o?void 0:o.package,null==o?void 0:o.componentName].filter((function(e){return!!e})).join("-")||(null==t||null===(r=t.componentMeta)||void 0===r?void 0:r.componentName)||""},r=n(d),o=n(t);null==l||l.eventBus.emit("skeleton.settingsPane.Breadcrumb",{selected:r,target:o})}}};m.unshift(o.a.createElement(Ni.Breadcrumb.Item,$P({},n,{key:v.id}),o.a.createElement(a.Title,{title:v.title}))),v=v.parent};b-- >0&&v;){var w;if("break"===g())break}return o.a.createElement("div",{className:"lc-settings-navigator"},Object(s.n)(null===(i=this.main.componentMeta)||void 0===i?void 0:i.icon,{className:"lc-settings-navigator-icon",class:"lc-settings-navigator-icon"}),o.a.createElement(Ni.Breadcrumb,{className:"lc-settings-node-breadcrumb"},m))}},{key:"render",value:function e(){var t=this,n=this.main.settings,r=this.props.engineEditor;if(!n)return o.a.createElement("div",{className:"lc-settings-main"},o.a.createElement("div",{className:"lc-settings-notice"},o.a.createElement("p",null,e_("Please select a node in canvas"))));if(n.isLocked&&!a.engineConfig.get("enableLockedNodeSetting",!1))return o.a.createElement("div",{className:"lc-settings-main"},o.a.createElement("div",{className:"lc-settings-notice"},o.a.createElement("p",null,e_("Current node is locked"))));if(Array.isArray(n.items)&&0===n.items.length)return o.a.createElement("div",{className:"lc-settings-main"},o.a.createElement("div",{className:"lc-settings-notice"},o.a.createElement("p",null,e_("No config found for this type of component"))));if(!n.isSameComponent)return o.a.createElement("div",{className:"lc-settings-main"},o.a.createElement("div",{className:"lc-settings-notice"},o.a.createElement("p",null,e_("Please select same kind of components"))));var i=n.items;if(i.length>5||i.some((function(e){return!al(e)||!e.isGroup})))return o.a.createElement("div",{className:"lc-settings-main"},this.renderBreadcrumb(),o.a.createElement("div",{className:"lc-settings-body"},o.a.createElement(av.Consumer,null,(function(e){return e?o.a.createElement(UP,{skeleton:e,target:n,key:n.id},o.a.createElement(eP,{target:n,usePopup:!1})):null}))));var u=!1,c=i.map((function(e){return t._activeKey===e.name&&(u=!0),o.a.createElement(Ni.Tab.Item,{className:"lc-settings-tab-item",title:o.a.createElement(a.Title,{title:e.title}),key:e.name,onClick:function t(){null==r||r.eventBus.emit("skeleton.settingsPane.change",{name:e.name,title:e.title})}},o.a.createElement(av.Consumer,null,(function(t){return t?o.a.createElement(UP,{skeleton:t,target:e,key:e.id},o.a.createElement(eP,{target:e,key:e.id,usePopup:!1})):null})))})),s=u?this._activeKey:i[0].name,l=Jo()("lc-settings-main",{"lc-settings-hide-tabs":1===i.length&&a.engineConfig.get("hideSettingsTabsWhenOnlyOneItem",!1)});return o.a.createElement("div",{className:l},this.renderBreadcrumb(),o.a.createElement(Ni.Tab,{activeKey:s,onChange:function e(n){t._activeKey=n},navClassName:"lc-settings-tabs",animation:!1,excessMode:"dropdown",contentClassName:"lc-settings-tabs-content"},c))}}]),n}(r.Component);function sx(e,t){e.hover(t)}function lx(e){null==e||e.select()}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],cx.prototype,"_activeKey",void 0),cx=Object(c.b)([a.observer,Object(c.d)("design:paramtypes",[Object])],cx);var fx=/^function/,px=/^\w+\s*\(/,hx=Object(s.r)({level:"warn",bizName:"skeleton:transducers"});function dx(e){if("string"!=typeof e)return e;var t;px.test(e)&&!fx.test(e)&&(e="function ".concat(e));var n="\n    return function() {\n      const self = this;\n      try {\n        return (".concat(e,").apply(self, arguments);\n      } catch(e) {\n        logger.warn('call function which parsed by lowcode failed: ', e);\n        return e.message;\n      }\n    };\n  ");try{t=new Function(n)()}catch(t){hx.error(e),hx.error(t.message)}return t}function vx(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&Object.keys(e).forEach((function(n){var r=e[n];Object(s.I)(r)?e[n]=dx(r.value):Array.isArray(r)?r.forEach((function(e){return vx(e,t)})):Object(s.P)(r)&&vx(r,t)}))}var yx=function(e){return vx(e,!1),e};function mx(e){return Ox(e)||wx(e)||gx(e)||bx()}function bx(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gx(e,t){if(e){if("string"==typeof e)return jx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jx(e,t):void 0}}function wx(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ox(e){if(Array.isArray(e))return jx(e)}function jx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sx(e){return(Sx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ex(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ex(Object(n),!0).forEach((function(t){_x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ex(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _x(e,t,n){return(t=Px(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Px(e){var t=xx(e,"string");return"symbol"===Sx(t)?t:String(t)}function xx(e,t){if("object"!==Sx(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Sx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Nx(e){var t=e.name,n=e.description,r;return kx(kx({title:{label:{type:"i18n","en-US":t,"zh-CN":(null==n?void 0:n.slice(0,10))||t},tip:n?"".concat(t," | ").concat(n):void 0}},e),{},{setter:e.setter?e.setter:Cx(e.propType)})}function Cx(e){var t,n=!1;switch("string"==typeof e?t=e:"object"===Sx(e)?(t=e.type,n=e.isRequired):t="string",t){case"string":return{componentName:"StringSetter",isRequired:n,initialValue:""};case"number":return{componentName:"NumberSetter",isRequired:n,initialValue:0};case"bool":return{componentName:"BoolSetter",isRequired:n,initialValue:!1};case"oneOf":var r=(e.value||[]).map((function(e,t){var n=Sx(e);return{label:"string"===n||"number"===n||"boolean"===n?String(e):"value ".concat(t),value:e}})),o;return{componentName:r.length>=4?"SelectSetter":"RadioGroupSetter",props:{dataSource:r,options:r},isRequired:n,initialValue:r[0]?r[0].value:null};case"element":case"node":return{componentName:"SlotSetter",props:{mode:t},isRequired:n,initialValue:{type:"JSSlot",value:[]}};case"shape":case"exact":var i=(e.value||[]).map((function(e){return Nx(e)}));return{componentName:"ObjectSetter",props:{config:{items:i,extraSetter:"shape"===t?Cx("any"):null}},isRequired:n,initialValue:function e(t){var n={};return i.forEach((function(e){var r=e.defaultValue;null==r&&e.setter&&"object"===Sx(e.setter)&&(r=e.setter.initialValue),n[e.name]=r?"function"==typeof r?r(t):r:null})),n}};case"object":case"objectOf":return{componentName:"ObjectSetter",props:{config:{extraSetter:Cx("objectOf"===t?e.value:"any")}},isRequired:n,initialValue:{}};case"array":case"arrayOf":return{componentName:"ArraySetter",props:{itemSetter:Cx("arrayOf"===t?e.value:"any")},isRequired:n,initialValue:[]};case"func":return{componentName:"FunctionSetter",isRequired:n};case"color":return{componentName:"ColorSetter",isRequired:n};case"oneOfType":return{componentName:"MixedSetter",props:{setters:e.value.map((function(e){return Cx(e)}))},isRequired:n}}return{componentName:"MixedSetter",isRequired:n,props:{}}}var Tx=/^on|after|before[A-Z][\w]*$/,Rx=function(e){var t=e.configure,n=void 0===t?{}:t,r=null;if(n.props){if(Array.isArray(n.props))return e;var o=n.props,i=o.isExtends,a=o.override,u=void 0===a?[]:a;if(!i)return kx(kx({},e),{},{configure:kx(kx({},n),{},{props:mx(u)})});r={},u.forEach((function(e){r[e.name]=e}))}if(!e.props)return kx(kx({},e),{},{configure:kx(kx({},n),{},{props:[]})});var c=n.component,s=void 0===c?{}:c,l=n.supports,f=void 0===l?{}:l,p=f.events?null:[],h=[];return e.props.forEach((function(e){var t=e,n=t.name,o=t.propType,i=t.description;if("children"===n&&(s.isContainer||"node"===o||"element"===o||"any"===o)&&!1!==s.isContainer)return s.isContainer=!0,void h.push(Nx(e));!Tx.test(n)||"func"!==o&&"any"!==o?"className"!==n||"string"!==o&&"any"!==o?"style"!==n||"object"!==o&&"any"!==o?(r&&n in r&&(e=r[n]),h.push(Nx(e))):null==f.style&&(f.style=!0):null==f.className&&(f.className=!0):p&&(p.push({name:n,description:i}),f.events=p)})),kx(kx({},e),{},{configure:kx(kx({},n),{},{props:h,supports:f,component:s})})};function Lx(){return(Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ax(e){return React.createElement(s.f,Lx({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M682.325333 135.509333V204.8H819.2v613.376h-614.741333V204.8h136.874666v-69.290667h-206.165333v752.298667h754.346667V135.509333z",c:"Q29weXJpZ2h0IChjKSAyMDIwLXByZXNlbnQgQWxpYmFiYSBJbmMu"}),React.createElement("path",{d:"M512 512m-170.325333 0a170.325333 170.325333 0 1 0 340.650666 0 170.325333 170.325333 0 1 0-340.650666 0Z"}))}function Mx(e){return(Mx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dx(e){return Fx(e)||Vx(e)||Bx(e)||Ix()}function Ix(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Bx(e,t){if(e){if("string"==typeof e)return Gx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gx(e,t):void 0}}function Vx(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Fx(e){if(Array.isArray(e))return Gx(e)}function Gx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ux(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hx(Object(n),!0).forEach((function(t){zx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zx(e,t,n){return(t=Wx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wx(e){var t=$x(e,"string");return"symbol"===Mx(t)?t:String(t)}function $x(e,t){if("object"!==Mx(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Mx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Ax.displayName="IconSlot";var Xx=function(e){var t=e.componentName,n=e.configure,r=void 0===n?{}:n;if(r.combined)return e;if("Leaf"===t)return Ux(Ux({},e),{},{configure:Ux(Ux({},r),{},{combined:[{name:"children",title:{type:"i18n","zh-CN":"\u5185\u5bb9\u8bbe\u7f6e","en-US":"Content"},setter:{componentName:"MixedSetter",props:{setters:[{componentName:"StringSetter",props:{multiline:!0},initialValue:""},{componentName:"ExpressionSetter",initialValue:{type:"JSExpression",value:""}}]}}}]})});var o=r.props,i=r.supports,a=void 0===i?{}:i,u="Page"===t||"Component"===t,c=[],s=a.lifecycles||null;s&&c.push({type:"lifeCycleEvent",title:"\u751f\u547d\u5468\u671f",list:s.map((function(e){return"string"==typeof e?{name:e}:e}))}),a.events&&c.push({type:"events",title:"\u4e8b\u4ef6",list:(a.events||[]).map((function(e){return"string"==typeof e?{name:e}:e}))});var l=o?Dx(o):[],f={};"Slot"===t&&(r.component?"object"===Mx(r.component)&&(r.component.isContainer=!0):r.component={isContainer:!0},f.icon=Ax,l=[{name:q("title"),title:{type:"i18n","en-US":"Slot Title","zh-CN":"\u63d2\u69fd\u6807\u9898"},setter:"StringSetter",defaultValue:"\u63d2\u69fd\u5bb9\u5668"}]);var p=[],h=[];if(l)for(var d=l.length;d-- >0;){var v=l[d],y;if("__style__"===v.name||"style"===v.name||"containerStyle"===v.name||"pageStyle"===v.name)l.splice(d,1),p.push(v),null!==(y=v.extraProps)&&void 0!==y&&y.defaultCollapsed&&"containerStyle"!==v.name&&(v.extraProps.defaultCollapsed=!1)}var m=[{title:{type:"i18n","zh-CN":"\u5c5e\u6027","en-US":"Props"},name:"#props",items:l}];return a.className&&p.push({name:"className",title:{type:"i18n","zh-CN":"\u7c7b\u540d\u7ed1\u5b9a","en-US":"ClassName"},setter:"ClassNameSetter"}),a.style&&p.push({name:"style",title:{type:"i18n","zh-CN":"\u884c\u5185\u6837\u5f0f","en-US":"Style"},setter:"StyleSetter",extraProps:{display:"block"}}),p.length>0&&m.push({name:"#styles",title:{type:"i18n","zh-CN":"\u6837\u5f0f","en-US":"Styles"},items:p}),c.length>0&&m.push({name:"#events",title:{type:"i18n","zh-CN":"\u4e8b\u4ef6","en-US":"Events"},items:[{name:"__events",title:{type:"i18n","zh-CN":"\u4e8b\u4ef6\u8bbe\u7f6e","en-US":"Events"},setter:{componentName:"EventsSetter",props:{definition:c}},getValue:function e(t,n){return n},setValue:function e(t,n){var r=n.eventDataList,o=n.eventList;Array.isArray(o)&&o.map((function(e){return t.parent.clearPropValue(e.name),e})),Array.isArray(r)&&r.map((function(e){return t.parent.setPropValue(e.name,{type:"JSFunction",value:"function(){return this.".concat(e.relatedEventName,".apply(this,Array.prototype.slice.call(arguments).concat([").concat(e.paramStr?e.paramStr:"","])) }")}),e}))}}]}),u||(!1!==a.condition&&h.push({name:q("condition"),title:{type:"i18n","zh-CN":"\u662f\u5426\u6e32\u67d3","en-US":"Condition"},defaultValue:!0,setter:[{componentName:"BoolSetter"},{componentName:"VariableSetter"}],extraProps:{display:"block"}}),!1!==a.loop&&h.push({name:"#loop",title:{type:"i18n","zh-CN":"\u5faa\u73af","en-US":"Loop"},items:[{name:q("loop"),title:{type:"i18n","zh-CN":"\u5faa\u73af\u6570\u636e","en-US":"Loop Data"},setter:[{componentName:"JsonSetter",props:{label:{type:"i18n","zh-CN":"\u7f16\u8f91\u6570\u636e","en-US":"Edit Data"},defaultValue:"[]"}},{componentName:"VariableSetter"}]},{name:q("loopArgs.0"),title:{type:"i18n","zh-CN":"\u8fed\u4ee3\u53d8\u91cf\u540d","en-US":"Loop Item"},setter:{componentName:"StringSetter",props:{placeholder:{type:"i18n","zh-CN":"\u9ed8\u8ba4\u4e3a: item","en-US":"Defaults: item"}}}},{name:q("loopArgs.1"),title:{type:"i18n","zh-CN":"\u7d22\u5f15\u53d8\u91cf\u540d","en-US":"Loop Index"},setter:{componentName:"StringSetter",props:{placeholder:{type:"i18n","zh-CN":"\u9ed8\u8ba4\u4e3a: index","en-US":"Defaults: index"}}}},{name:"key",title:{type:"i18n","zh-CN":"\u5faa\u73af Key","en-US":"Loop Key"},setter:[{componentName:"StringSetter"},{componentName:"VariableSetter"}]}],extraProps:{display:"accordion"}}),!1===a.condition&&!1===a.loop||h.push({name:"key",title:{label:{type:"i18n","zh-CN":"\u6e32\u67d3\u552f\u4e00\u6807\u8bc6 (key)","en-US":"Render unique identifier (key)"},tip:{type:"i18n","zh-CN":"\u642d\u914d\u300c\u6761\u4ef6\u6e32\u67d3\u300d\u6216\u300c\u5faa\u73af\u6e32\u67d3\u300d\u65f6\u4f7f\u7528\uff0c\u548c react \u7ec4\u4ef6\u4e2d\u7684 key \u539f\u7406\u76f8\u540c\uff0c\u70b9\u51fb\u67e5\u770b\u5e2e\u52a9","en-US":"Used with \u300cConditional Rendering\u300dor\u300cCycle Rendering\u300d, the same principle as the key in the react component, click to view the help"},docUrl:"https://www.yuque.com/lce/doc/qm75w3"},setter:[{componentName:"StringSetter"},{componentName:"VariableSetter"}],extraProps:{display:"block"}})),h.length>0&&m.push({name:"#advanced",title:{type:"i18n","zh-CN":"\u9ad8\u7ea7","en-US":"Advanced"},items:h}),Ux(Ux(Ux({},e),f),{},{configure:Ux(Ux({},r),{},{combined:m})})},Yx=function e(t){var n=t.material;return{init:function e(){n.registerMetadataTransducer(yx,1,"parse-func"),n.registerMetadataTransducer(Rx,5,"parse-props"),n.registerMetadataTransducer(Xx,10,"combine-props")}}};function Kx(e){return(Kx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qx(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */qx=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==Kx(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,k.prototype={constructor:k,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Jx(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Zx(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Jx(i,r,o,a,u,"next",e)}function u(e){Jx(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Qx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tN(r.key),r)}}function eN(e,t,n){return t&&Qx(e.prototype,t),n&&Qx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tN(e){var t=nN(e,"string");return"symbol"===Kx(t)?t:String(t)}function nN(e,t){if("object"!==Kx(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Kx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function rN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Yx.pluginName="___register_defaults___";var oN=eN((function e(t,n,r,o){rN(this,e),this.registerLevel=void 0,this.editorWindow=void 0,this.skeleton=void 0,this.plugins=void 0,this.project=void 0,this.setters=void 0,this.material=void 0,this.common=void 0,this.config=void 0,this.event=void 0,this.logger=void 0,this.hotkey=void 0,this.innerProject=void 0,this.editor=void 0,this.designer=void 0,this.registerInnerPlugins=void 0,this.innerSetters=void 0,this.innerSkeleton=void 0,this.innerHotkey=void 0,this.innerPlugins=void 0,this.canvas=void 0,this.pluginEvent=void 0,this.preference=void 0,this.workspace=void 0,this.registerLevel=r,this.editorWindow=o;var i=new a.Editor(n,!0),u=new KE(i,n);i.set("skeleton",u);var c=new pf({editor:i,viewName:n,shellModelFactory:null==t?void 0:t.shellModelFactory});i.set("designer",c);var l=c.project,f=new Rg(t),p=new a.Hotkey(n),h=new Am(p,!0),d=new a.Setters(n),v=new Hb(d,!0),y=new nb(i,!0),m=new Rb(l,!0),b=a.engineConfig,g=new km(a.commonEvent,{prefix:"common"}),w=Object(s.r)({level:"warn",bizName:"common"}),O=new hg(u,"any",!0),j=new kg(i,!0);i.set("setters",v),i.set("project",m),i.set("material",y),i.set("hotkey",h),i.set("innerHotkey",p),this.innerSetters=d,this.innerSkeleton=u,this.skeleton=O,this.innerProject=l,this.project=m,this.setters=v,this.material=y,this.config=b,this.event=g,this.logger=w,this.hotkey=h,this.innerHotkey=p,this.editor=i,this.designer=c,this.canvas=j;var S=new ym(i,u),E;this.common=S;var k,_=new Tp({assembleApis:function e(t,n,i){t.workspace=f,t.hotkey=h,t.project=m,t.skeleton=new hg(u,n,!0),t.setters=v,t.material=y;var c=(null==i?void 0:i.eventPrefix)||"common";t.event=new km(a.commonEvent,{prefix:c}),t.config=b,t.common=S,t.plugins=E,t.logger=new Hm({level:"warn",bizName:"plugin:".concat(n)}),t.canvas=j,o&&(t.editorWindow=new rj(o)),t.registerLevel=r}},n);this.innerPlugins=_,E=new hb(_,!0).toProxy(),i.set("plugins",E),i.set("innerPlugins",_),this.plugins=E,this.registerInnerPlugins=function(){var e=Zx(qx().mark((function e(){return qx().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,null==t?void 0:t.registryInnerPlugin(c,i,E);case 2:case"end":return n.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})),iN=n(6);function aN(e){return React.createElement("div",{className:"lc-designer lowcode-plugin-designer"},React.createElement("div",{className:"lc-project"},React.createElement("div",{className:"lc-simulator-shell"},React.createElement("iframe",{name:"webview-view-".concat(e.viewName),className:"lc-simulator-content-frame",style:{height:"100%",width:"100%"},src:e.url}))))}function uN(e,t){function n(n){var r=n.skeleton;return{init:function o(){r.add({area:"mainArea",name:"designer",type:"Widget",content:aN,contentProps:{ctx:n,url:e,viewName:t}})}}}return n.pluginName="___webview_plugin___",n}function cN(e){return(cN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sN(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function lN(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){sN(i,r,o,a,u,"next",e)}function u(e){sN(i,r,o,a,u,"throw",e)}a(void 0)}))}}function fN(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */fN=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==cN(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,k.prototype={constructor:k,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function pN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vN(r.key),r)}}function dN(e,t,n){return t&&hN(e.prototype,t),n&&hN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vN(e){var t=yN(e,"string");return"symbol"===cN(t)?t:String(t)}function yN(e,t){if("object"!==cN(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==cN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function mN(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bN(e,t)}function bN(e,t){return(bN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function gN(e){var t=jN();return function n(){var r=SN(e),o;if(t){var i=SN(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return wN(this,o)}}function wN(e,t){if(t&&("object"===cN(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ON(e)}function ON(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jN(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function SN(e){return(SN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var EN=function(e){mN(n,e);var t=gN(n);function n(e,r,o,i){var c;return pN(this,n),(c=t.call(this,e,o.viewName,u.g.EditorView,r)).workspace=void 0,c.editorWindow=void 0,c.editorView=void 0,c.viewName="editor-view",c.instance=void 0,c.viewType=void 0,c._activate=!1,c.isInit=!1,c.init=Object(iN.flow)(fN().mark((function e(){var t,n,r,o,i;return fN().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:if("webview"!==this.viewType){a.next=8;break}return a.next=3,null===(r=this.instance)||void 0===r||null===(o=r.url)||void 0===o?void 0:o.call(r);case 3:return i=a.sent,a.next=6,this.plugins.register(uN(i,this.viewName));case 6:a.next=10;break;case 8:return a.next=10,this.registerInnerPlugins();case 10:return a.next=12,null===(t=this.instance)||void 0===t||null===(n=t.init)||void 0===n?void 0:n.call(t);case 12:return a.next=14,this.innerPlugins.init();case 14:this.isInit=!0;case 15:case"end":return a.stop()}}),e,this)}))),c.onSimulatorRendererReady=function(){return new Promise((function(e){c.project.onSimulatorRendererReady((function(){e()}))}))},c.setActivate=function(e){c._activate=e,c.innerHotkey.activate(c._activate)},c.workspace=e,c.editorWindow=r,c.editorView=o,c.viewType=o.viewType||"editor",c.viewName=o.viewName,c.instance=o(c.innerPlugins._getLowCodePluginContext({pluginName:"any"}),i),Object(a.makeObservable)(ON(c)),c}return dN(n,[{key:"active",get:function e(){return this._activate}},{key:"save",value:function(){var e=lN(fN().mark((function e(){var t,n;return fN().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,null===(t=this.instance)||void 0===t||null===(n=t.save)||void 0===n?void 0:n.call(t);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(oN),kN,_N;function PN(e){return(PN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xN(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */xN=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==PN(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,k.prototype={constructor:k,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function NN(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function CN(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){NN(i,r,o,a,u,"next",e)}function u(e){NN(i,r,o,a,u,"throw",e)}a(void 0)}))}}function TN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AN(r.key),r)}}function LN(e,t,n){return t&&RN(e.prototype,t),n&&RN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function AN(e){var t=MN(e,"string");return"symbol"===PN(t)?t:String(t)}function MN(e,t){if("object"!==PN(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==PN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx,Object(c.d)("design:type",Object)],EN.prototype,"_activate",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Boolean)],EN.prototype,"isInit",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],EN.prototype,"active",null);var DN=function(){function e(t,n,r){var o=this;TN(this,e),this.resource=void 0,this.workspace=void 0,this.config=void 0,this.id=Object(s.cb)("window"),this.icon=void 0,this.emitter=Object(a.createModuleEventBus)("Project"),this.title=void 0,this.url=void 0,this.editorView=void 0,this.editorViews=new Map,this.initReady=!1,this.sleep=void 0,this.initViewTypes=CN(xN().mark((function e(){var t,n,r;return xN().wrap((function e(i){for(;;)switch(i.prev=i.next){case 0:if(t=o.resource.editorViews){i.next=3;break}return i.abrupt("return");case 3:n=0;case 4:if(!(n<t.length)){i.next=12;break}return r=t[n].viewName,i.next=8,o.initViewType(r);case 8:o.editorView||o.changeViewType(r);case 9:n++,i.next=4;break;case 12:case"end":return i.stop()}}),e)}))),this.execViewTypesInit=CN(xN().mark((function e(){var t,n,r,i;return xN().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:if(t=o.resource.editorViews){a.next=3;break}return a.abrupt("return");case 3:n=0;case 4:if(!(n<t.length)){a.next=12;break}return i=t[n].viewName,o.changeViewType(i),a.next=9,null===(r=o.editorViews.get(i))||void 0===r?void 0:r.init();case 9:n++,a.next=4;break;case 12:case"end":return a.stop()}}),e)}))),this.setDefaultViewType=function(){var e;o.changeViewType(null!==(e=o.config.viewType)&&void 0!==e?e:o.resource.defaultViewType)},this.initViewType=function(){var e=CN(xN().mark((function e(t){var n,r;return xN().wrap((function e(i){for(;;)switch(i.prev=i.next){case 0:if(n=o.resource.getEditorView(t),!o.editorViews.get(t)){i.next=3;break}return i.abrupt("return");case 3:r=new EN(o.workspace,o,n,o.config.options),o.editorViews.set(t,r);case 5:case"end":return i.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.changeViewType=function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];null===(t=o.editorView)||void 0===t||t.setActivate(!1),o.editorView=o.editorViews.get(e),o.editorView&&(n||(o.emitter.emit("window.change.view.type",e),o.id===o.workspace.window.id&&o.workspace.emitChangeActiveEditorView()),o.editorView.setActivate(!0))},this.resource=t,this.workspace=n,this.config=r,Object(a.makeObservable)(this),this.title=r.title,this.icon=t.icon,this.sleep=r.sleep,r.sleep||this.init()}return LN(e,[{key:"importSchema",value:function(){var e=CN(xN().mark((function e(t){var n=this,r;return xN().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.resource.import(t);case 2:if(r=o.sent){o.next=5;break}return o.abrupt("return");case 5:Object.keys(r).forEach((function(e){var t=n.editorViews.get(e);null==t||t.project.importSchema(r[e])}));case 6:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=CN(xN().mark((function e(){var t,n,r,o,i,a;return xN().wrap((function e(u){for(;;)switch(u.prev=u.next){case 0:if(t={},n=this.resource.editorViews){u.next=4;break}return u.abrupt("return");case 4:r=0;case 5:if(!(r<n.length)){u.next=14;break}return i=n[r].viewName,u.next=9,null===(o=this.editorViews.get(i))||void 0===o?void 0:o.save();case 9:a=u.sent,t[i]=a;case 11:r++,u.next=5;break;case 14:return u.next=16,this.resource.save(t);case 16:return u.abrupt("return",u.sent);case 17:case"end":return u.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=CN(xN().mark((function e(){var t=this;return xN().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.initViewTypes();case 2:return n.next=4,this.execViewTypesInit();case 4:return Promise.all(Array.from(this.editorViews.values()).map((function(e){return e.onSimulatorRendererReady}))).then((function(){t.workspace.emitWindowRendererReady()})),n.next=7,this.resource.url();case 7:this.url=n.sent,this.setDefaultViewType(),this.initReady=!0,this.workspace.checkWindowQueue(),this.sleep=!1;case 12:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onChangeViewType",value:function e(t){var n=this;return this.emitter.on("window.change.view.type",t),function(){n.emitter.off("window.change.view.type",t)}}},{key:"resourceType",get:function e(){return this.resource.resourceType.type}},{key:"project",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.project}},{key:"innerProject",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerProject}},{key:"innerSkeleton",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerSkeleton}},{key:"innerSetters",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerSetters}},{key:"innerHotkey",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerHotkey}},{key:"editor",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.editor}},{key:"designer",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.designer}},{key:"plugins",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.plugins}},{key:"innerPlugins",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerPlugins}}]),e}();function IN(e){return(IN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BN(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */BN=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==IN(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,k.prototype={constructor:k,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function VN(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function FN(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){VN(i,r,o,a,u,"next",e)}function u(e){VN(i,r,o,a,u,"throw",e)}a(void 0)}))}}function GN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zN(r.key),r)}}function UN(e,t,n){return t&&HN(e.prototype,t),n&&HN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zN(e){var t=WN(e,"string");return"symbol"===IN(t)?t:String(t)}function WN(e,t){if("object"!==IN(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==IN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx.ref,Object(c.d)("design:type","function"==typeof(kN=void 0!==EN&&EN)?kN:Object)],DN.prototype,"editorView",void 0),Object(c.b)([a.obx,Object(c.d)("design:type","function"==typeof(_N="undefined"!=typeof Map&&Map)?_N:Object)],DN.prototype,"editorViews",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],DN.prototype,"initReady",void 0);var $N=new s.e({level:"warn",bizName:"workspace:resource"}),XN=function(){function e(t,n,r){var o=this;GN(this,e),this.resourceData=void 0,this.resourceType=void 0,this.workspace=void 0,this.context=void 0,this.resourceTypeInstance=void 0,this.editorViewMap=new Map,this.resourceData=t,this.resourceType=n,this.workspace=r,this.context=new oN(r,"resource-".concat(t.resourceName||n.name),u.g.Resource),this.resourceTypeInstance=n.resourceTypeModel(this.context.innerPlugins._getLowCodePluginContext({pluginName:""}),this.options),this.init(),this.resourceTypeInstance.editorViews&&this.resourceTypeInstance.editorViews.forEach((function(e){o.editorViewMap.set(e.viewName,e)})),n||$N.error("resourceType[".concat(n,"] is unValid."))}return UN(e,[{key:"name",get:function e(){return this.resourceType.name}},{key:"viewName",get:function e(){return this.resourceData.viewName||this.resourceData.viewType||this.defaultViewType}},{key:"description",get:function e(){var t;return null===(t=this.resourceTypeInstance)||void 0===t?void 0:t.description}},{key:"icon",get:function e(){var t;return this.resourceData.icon||(null===(t=this.resourceTypeInstance)||void 0===t?void 0:t.icon)}},{key:"type",get:function e(){return this.resourceType.type}},{key:"title",get:function e(){return this.resourceData.title||this.resourceTypeInstance.defaultTitle}},{key:"options",get:function e(){return this.resourceData.options}},{key:"category",get:function e(){var t;return null===(t=this.resourceData)||void 0===t?void 0:t.category}},{key:"skeleton",get:function e(){return this.context.innerSkeleton}},{key:"children",get:function t(){var n,r,o=this;return(null===(n=this.resourceData)||void 0===n||null===(r=n.children)||void 0===r?void 0:r.map((function(t){return new e(t,o.workspace.getResourceType(t.resourceName||o.resourceType.name),o.workspace)})))||[]}},{key:"config",get:function e(){return this.resourceData.config}},{key:"init",value:function(){var e=FN(BN().mark((function e(){var t,n;return BN().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,null===(t=(n=this.resourceTypeInstance).init)||void 0===t?void 0:t.call(n);case 2:return r.next=4,this.context.innerPlugins.init();case 4:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"import",value:function(){var e=FN(BN().mark((function e(t){var n,r;return BN().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,null===(n=(r=this.resourceTypeInstance).import)||void 0===n?void 0:n.call(r,t);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"url",value:function(){var e=FN(BN().mark((function e(){var t,n;return BN().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,null===(t=(n=this.resourceTypeInstance).url)||void 0===t?void 0:t.call(n);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=FN(BN().mark((function e(t){var n,r;return BN().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,null===(n=(r=this.resourceTypeInstance).save)||void 0===n?void 0:n.call(r,t);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"editorViews",get:function e(){return this.resourceTypeInstance.editorViews}},{key:"defaultViewType",get:function e(){return this.resourceTypeInstance.defaultViewType}},{key:"getEditorView",value:function e(t){return this.editorViewMap.get(t)}}]),e}();function YN(e){return(YN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZN(r.key),r)}}function JN(e,t,n){return t&&qN(e.prototype,t),n&&qN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZN(e){var t=QN(e,"string");return"symbol"===YN(t)?t:String(t)}function QN(e,t){if("object"!==YN(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==YN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var eC=function(){function e(t){KN(this,e),this.resourceTypeModel=void 0,this.resourceTypeModel=t}return JN(e,[{key:"name",get:function e(){return this.resourceTypeModel.resourceName}},{key:"type",get:function e(){return this.resourceTypeModel.resourceType}}]),e}(),tC;function nC(e){return(nC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rC(e){return uC(e)||aC(e)||iC(e)||oC()}function oC(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function iC(e,t){if(e){if("string"==typeof e)return cC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cC(e,t):void 0}}function aC(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function uC(e){if(Array.isArray(e))return cC(e)}function cC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sC(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */sC=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==nC(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,k.prototype={constructor:k,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function lC(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function fC(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){lC(i,r,o,a,u,"next",e)}function u(e){lC(i,r,o,a,u,"throw",e)}a(void 0)}))}}function pC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vC(r.key),r)}}function dC(e,t,n){return t&&hC(e.prototype,t),n&&hC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vC(e){var t=yC(e,"string");return"symbol"===nC(t)?t:String(t)}function yC(e,t){if("object"!==nC(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}!function(e){e.CHANGE_WINDOW="change_window",e.CHANGE_ACTIVE_WINDOW="change_active_window",e.WINDOW_RENDER_READY="window_render_ready",e.CHANGE_ACTIVE_EDITOR_VIEW="change_active_editor_view"}(tC||(tC={}));var mC="resource.list.change",bC=function(){function e(t,n){pC(this,e),this.registryInnerPlugin=void 0,this.shellModelFactory=void 0,this.context=void 0,this.enableAutoOpenFirstWindow=void 0,this.emitter=Object(a.createModuleEventBus)("workspace"),this._isActive=!1,this.resourceTypeMap=new Map,this.resourceList=[],this.windows=[],this.editorWindowMap=new Map,this.window=void 0,this.windowQueue=[],this.registryInnerPlugin=t,this.shellModelFactory=n,this.context=new oN(this,"",u.g.Workspace),Object(a.makeObservable)(this)}return dC(e,[{key:"skeleton",get:function e(){return this.context.innerSkeleton}},{key:"plugins",get:function e(){return this.context.innerPlugins}},{key:"isActive",get:function e(){return this._isActive}},{key:"defaultResourceType",get:function e(){return this.resourceTypeMap.size>=1?Array.from(this.resourceTypeMap.values())[0]:null}},{key:"checkWindowQueue",value:function e(){if(this.windowQueue&&this.windowQueue.length){var t=this.windowQueue.shift();t&&this.openEditorWindow(t.name,t.title,t.options,t.viewType)}}},{key:"initWindow",value:function e(){if(this.defaultResourceType&&!1!==this.enableAutoOpenFirstWindow){var t=this.defaultResourceType.name,n=new XN({resourceName:t,options:{}},this.defaultResourceType,this);this.window=new DN(n,this,{title:n.title}),this.editorWindowMap.set(this.window.id,this.window),this.windows.push(this.window),this.emitChangeWindow(),this.emitChangeActiveWindow()}}},{key:"setActive",value:function e(t){this._isActive=t}},{key:"registerResourceType",value:function(){var e=fC(sC().mark((function e(t){var n;return sC().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:n=new eC(t),this.resourceTypeMap.set(t.resourceName,n),!this.window&&this.defaultResourceType&&this._isActive&&this.initWindow();case 3:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getResourceList",value:function e(){return this.resourceList}},{key:"setResourceList",value:function e(t){var n=this;this.resourceList=t.map((function(e){return new XN(e,n.getResourceType(e.resourceName),n)})),this.emitter.emit(mC,t)}},{key:"onResourceListChange",value:function e(t){var n=this;return this.emitter.on(mC,t),function(){n.emitter.off(mC,t)}}},{key:"onWindowRendererReady",value:function e(t){var n=this;return this.emitter.on(tC.WINDOW_RENDER_READY,t),function(){n.emitter.off(tC.WINDOW_RENDER_READY,t)}}},{key:"emitWindowRendererReady",value:function e(){this.emitter.emit(tC.WINDOW_RENDER_READY)}},{key:"getResourceType",value:function e(t){return this.resourceTypeMap.get(t)}},{key:"removeResourceType",value:function e(t){this.resourceTypeMap.has(t)&&this.resourceTypeMap.delete(t)}},{key:"removeEditorWindowById",value:function e(t){var n=this.windows.findIndex((function(e){return e.id===t}));this.remove(n)}},{key:"remove",value:function e(t){if(!(t<0)){var n=this.windows[t];this.windows.splice(t,1),this.window===n&&(this.window=this.windows[t]||this.windows[t+1]||this.windows[t-1],this.emitChangeActiveWindow()),this.emitChangeWindow()}}},{key:"removeEditorWindow",value:function e(t,n){var r=this.windows.findIndex((function(e){var r;return(null===(r=e.resource)||void 0===r?void 0:r.name)===t&&e.title===n}));this.remove(r)}},{key:"openEditorWindowById",value:function e(t){var n=this.editorWindowMap.get(t);n&&(this.window=n,this.emitChangeActiveWindow())}},{key:"openEditorWindow",value:function e(t,n,r,o,i){var a;if(!this.window||null!==(a=this.window)&&void 0!==a&&a.initReady||i){var u=this.resourceTypeMap.get(t);if(u){var c=this.windows.filter((function(e){var r;return(null===(r=e.resource)||void 0===r?void 0:r.name)===t&&e.resource.title==n}));if(c&&c.length)return this.window=c[0],!i&&this.window.sleep?this.window.init():this.checkWindowQueue(),void this.emitChangeActiveWindow();var s=new XN({resourceName:t,title:n,options:r},u,this),l=new DN(s,this,{title:n,options:r,viewType:o,sleep:i});this.windows=[].concat(rC(this.windows),[l]),this.editorWindowMap.set(l.id,l),i||(this.window=l),this.emitChangeWindow(),this.emitChangeActiveWindow()}else console.error("".concat(t," resourceType is not available"))}else this.windowQueue.push({name:t,title:n,options:r,viewType:o})}},{key:"onChangeWindows",value:function e(t){var n=this;return this.emitter.on(tC.CHANGE_WINDOW,t),function(){n.emitter.removeListener(tC.CHANGE_WINDOW,t)}}},{key:"onChangeActiveEditorView",value:function e(t){var n=this;return this.emitter.on(tC.CHANGE_ACTIVE_EDITOR_VIEW,t),function(){n.emitter.removeListener(tC.CHANGE_ACTIVE_EDITOR_VIEW,t)}}},{key:"emitChangeActiveEditorView",value:function e(){this.emitter.emit(tC.CHANGE_ACTIVE_EDITOR_VIEW)}},{key:"emitChangeWindow",value:function e(){this.emitter.emit(tC.CHANGE_WINDOW)}},{key:"emitChangeActiveWindow",value:function e(){this.emitter.emit(tC.CHANGE_ACTIVE_WINDOW),this.emitChangeActiveEditorView()}},{key:"onChangeActiveWindow",value:function e(t){var n=this;return this.emitter.on(tC.CHANGE_ACTIVE_WINDOW,t),function(){n.emitter.removeListener(tC.CHANGE_ACTIVE_WINDOW,t)}}}]),e}();function gC(e){return(gC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SC(r.key),r)}}function jC(e,t,n){return t&&OC(e.prototype,t),n&&OC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function SC(e){var t=EC(e,"string");return"symbol"===gC(t)?t:String(t)}function EC(e,t){if("object"!==gC(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==gC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function kC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_C(e,t)}function _C(e,t){return(_C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function PC(e){var t=CC();return function n(){var r=TC(e),o;if(t){var i=TC(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return xC(this,o)}}function xC(e,t){if(t&&("object"===gC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return NC(e)}function NC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CC(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function TC(e){return(TC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Array)],bC.prototype,"windows",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],bC.prototype,"window",void 0);var RC=function(e){kC(n,e);var t=PC(n);function n(){return wC(this,n),t.apply(this,arguments)}return jC(n,[{key:"render",value:function e(){var t=this.props.active,n=this.props.editorView,r=n.innerSkeleton;if(!n.isInit){var o=a.engineConfig.get("loadingComponent",Xu);return React.createElement(o,null)}return React.createElement(wv,{skeleton:r,className:t?"active engine-editor-view":"engine-editor-view",topAreaItemClassName:"engine-actionitem"})}}]),n}(r.PureComponent);function LC(e){return(LC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IC(r.key),r)}}function DC(e,t,n){return t&&MC(e.prototype,t),n&&MC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function IC(e){var t=BC(e,"string");return"symbol"===LC(t)?t:String(t)}function BC(e,t){if("object"!==LC(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==LC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function VC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FC(e,t)}function FC(e,t){return(FC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function GC(e){var t=zC();return function n(){var r=WC(e),o;if(t){var i=WC(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return HC(this,o)}}function HC(e,t){if(t&&("object"===LC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return UC(e)}function UC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zC(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function WC(e){return(WC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}RC=Object(c.b)([a.observer],RC);var $C=function(e){VC(n,e);var t=GC(n);function n(){return AC(this,n),t.apply(this,arguments)}return DC(n,[{key:"render",value:function e(){var t=this.props,n=t.area,r=t.itemClassName;return n.isEmpty()?null:React.createElement("div",{className:Jo()("lc-top-area engine-actionpane",{"lc-area-visible":n.visible})},React.createElement(YC,{area:n,itemClassName:r}))}}]),n}(r.Component),XC=$C=Object(c.b)([a.observer],$C),YC=function(e){VC(n,e);var t=GC(n);function n(){return AC(this,n),t.apply(this,arguments)}return DC(n,[{key:"render",value:function e(){var t=this.props,n=t.area,o=t.itemClassName,i=[],a=[],u=[];return n.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).forEach((function(e){var t=React.createElement("div",{className:o||"",key:"top-area-".concat(e.name)},e.content);"center"===e.align?a.push(t):"left"===e.align?i.push(t):u.push(t)})),React.createElement(r.Fragment,null,React.createElement("div",{className:"lc-top-area-left"},i),React.createElement("div",{className:"lc-top-area-center"},a),React.createElement("div",{className:"lc-top-area-right"},u))}}]),n}(r.Component);YC=Object(c.b)([a.observer],YC);var KC=n(117);function qC(e){return(qC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eT(r.key),r)}}function QC(e,t,n){return t&&ZC(e.prototype,t),n&&ZC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function eT(e){var t=tT(e,"string");return"symbol"===qC(t)?t:String(t)}function tT(e,t){if("object"!==qC(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==qC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function nT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rT(e,t)}function rT(e,t){return(rT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function oT(e){var t=uT();return function n(){var r=cT(e),o;if(t){var i=cT(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return iT(this,o)}}function iT(e,t){if(t&&("object"===qC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return aT(e)}function aT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uT(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function cT(e){return(cT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var sT=function(e){nT(n,e);var t=oT(n);function n(){return JC(this,n),t.apply(this,arguments)}return QC(n,[{key:"render",value:function e(){var t=this.props.resource.skeleton,n=this.props.window.editorViews;return React.createElement("div",{className:"workspace-resource-view"},React.createElement(XC,{area:t.topArea,itemClassName:"engine-actionitem"}),React.createElement("div",{className:"workspace-editor-body"},Array.from(n.values()).map((function(e){return React.createElement(RC,{key:e.name,active:e.active,editorView:e})}))))}}]),n}(r.PureComponent);function lT(e){return(lT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dT(r.key),r)}}function hT(e,t,n){return t&&pT(e.prototype,t),n&&pT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dT(e){var t=vT(e,"string");return"symbol"===lT(t)?t:String(t)}function vT(e,t){if("object"!==lT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==lT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function yT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mT(e,t)}function mT(e,t){return(mT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function bT(e){var t=OT();return function n(){var r=jT(e),o;if(t){var i=jT(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return gT(this,o)}}function gT(e,t){if(t&&("object"===lT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wT(e)}function wT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OT(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function jT(e){return(jT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}sT=Object(c.b)([a.observer],sT);var ST=function(e){yT(n,e);var t=bT(n);function n(){return fT(this,n),t.apply(this,arguments)}return hT(n,[{key:"render",value:function e(){var t=this.props.active,n=this.props.window,r=n.resource,o=n.initReady,i=n.url;if(!o){var u=a.engineConfig.get("loadingComponent",Xu);return React.createElement("div",{className:"workspace-engine-main ".concat(t?"active":"")},React.createElement(u,null))}return"webview"===r.type&&i?React.createElement(aN,{url:i,viewName:r.name}):React.createElement("div",{className:"workspace-engine-main ".concat(t?"active":"")},React.createElement(sT,{resource:r,window:this.props.window}))}}]),n}(r.PureComponent);function ET(e){return(ET="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xT(r.key),r)}}function PT(e,t,n){return t&&_T(e.prototype,t),n&&_T(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xT(e){var t=NT(e,"string");return"symbol"===ET(t)?t:String(t)}function NT(e,t){if("object"!==ET(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ET(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function CT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TT(e,t)}function TT(e,t){return(TT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function RT(e){var t=MT();return function n(){var r=DT(e),o;if(t){var i=DT(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return LT(this,o)}}function LT(e,t){if(t&&("object"===ET(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return AT(e)}function AT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MT(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function DT(e){return(DT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}ST=Object(c.b)([a.observer],ST);var IT=function(e){CT(n,e);var t=RT(n);function n(){return kT(this,n),t.apply(this,arguments)}return PT(n,[{key:"render",value:function e(){var t=this.props.area;return t.isEmpty()?null:React.createElement("div",{className:Jo()("lc-left-area",{"lc-area-visible":t.visible})},React.createElement(VT,{area:t}))}}]),n}(r.Component),BT=IT=Object(c.b)([a.observer],IT),VT=function(e){CT(n,e);var t=RT(n);function n(){return kT(this,n),t.apply(this,arguments)}return PT(n,[{key:"render",value:function e(){var t=this.props.area,n=[],o=[];return t.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).forEach((function(e){var t=React.createElement("div",{key:"left-area-".concat(e.name)},e.content);"bottom"===e.align?o.push(t):n.push(t)})),React.createElement(r.Fragment,null,React.createElement("div",{className:"lc-left-area-top"},n),React.createElement("div",{className:"lc-left-area-bottom"},o))}}]),n}(r.Component);function FT(e){return(FT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zT(r.key),r)}}function UT(e,t,n){return t&&HT(e.prototype,t),n&&HT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zT(e){var t=WT(e,"string");return"symbol"===FT(t)?t:String(t)}function WT(e,t){if("object"!==FT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==FT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function $T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XT(e,t)}function XT(e,t){return(XT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function YT(e){var t=JT();return function n(){var r=ZT(e),o;if(t){var i=ZT(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return KT(this,o)}}function KT(e,t){if(t&&("object"===FT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qT(e)}function qT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JT(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ZT(e){return(ZT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}VT=Object(c.b)([a.observer],VT);var QT=function(e){$T(n,e);var t=YT(n);function n(){return GT(this,n),t.apply(this,arguments)}return UT(n,[{key:"componentDidUpdate",value:function e(){var t;null===(t=this.props.area.skeleton.editor.get("designer"))||void 0===t||t.touchOffsetObserver()}},{key:"render",value:function e(){var t,n,r=this.props.area,o=null===(t=r.current)||void 0===t||null===(n=t.config.props)||void 0===n?void 0:n.width,i=o?{width:o}:void 0;return React.createElement("div",{className:Jo()("lc-left-fixed-pane",{"lc-area-visible":r.visible}),style:i},React.createElement(tR,{area:r}))}}]),n}(r.Component),eR=QT=Object(c.b)([a.observer],QT),tR=function(e){$T(n,e);var t=YT(n);function n(){return GT(this,n),t.apply(this,arguments)}return UT(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(r.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(r.Component);function nR(e){return(nR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aR(r.key),r)}}function iR(e,t,n){return t&&oR(e.prototype,t),n&&oR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function aR(e){var t=uR(e,"string");return"symbol"===nR(t)?t:String(t)}function uR(e,t){if("object"!==nR(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function cR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sR(e,t)}function sR(e,t){return(sR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function lR(e){var t=hR();return function n(){var r=dR(e),o;if(t){var i=dR(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return fR(this,o)}}function fR(e,t){if(t&&("object"===nR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pR(e)}function pR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hR(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function dR(e){return(dR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}tR=Object(c.b)([a.observer],tR);var vR=function(e){cR(n,e);var t=lR(n);function n(){var e;rR(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).dispose=void 0,e.focusing=void 0,e.shell=null,e}return iR(n,[{key:"componentDidMount",value:function e(){var t=this,n=this.props.area,r=function e(t){var r,o,i,a;n.visible&&(null!==(r=t.originalEvent)&&void 0!==r&&null!==(o=r.target)&&void 0!==o&&o.classList.contains("insertion")||(null===(i=t.originalEvent)||void 0===i?void 0:i.target.closest('div[data-keep-visible-while-dragging="true"]'))||n.setVisible(!1))};n.skeleton.editor.eventBus.on("designer.drag",r),this.dispose=function(){n.skeleton.editor.removeListener("designer.drag",r)},this.focusing=a.focusTracker.create({range:function e(r){var o,i,a,u,c,s,l,f=r.target;if(!f)return!1;if(null!==(o=t.shell)&&void 0!==o&&o.contains(f))return!0;if(null!==(i=document.querySelector(".lc-simulator-content-frame"))&&void 0!==i&&null!==(a=i.contentWindow)&&void 0!==a&&a.document.documentElement.contains(f))return!1;if(null!==(u=document.querySelector(".lc-right-area"))&&void 0!==u&&u.contains(f))return!1;if(null===(c=document.querySelector(".lc-workbench"))||void 0===c||!c.contains(f))return!0;if(null!==(s=document.querySelector(".lc-workbench-body"))&&void 0!==s&&s.contains(f))return!0;var p=null===(l=n.current)||void 0===l?void 0:l.getAssocDocks();return!(!p||null==p||!p.length)&&p.some((function(e){var t;return null===(t=e.getDOMNode())||void 0===t?void 0:t.contains(f)}))},onEsc:function e(){t.props.area.setVisible(!1)},onBlur:function e(){t.props.area.setVisible(!1)}}),this.onEffect()}},{key:"onEffect",value:function e(){var t=this.props.area;if(t.visible){var n,r,o;null===(n=this.focusing)||void 0===n||n.active();var i=null==t||null===(r=t.skeleton)||void 0===r||null===(o=r.leftFixedArea)||void 0===o?void 0:o.container,a=null==i?void 0:i.current;a&&i.unactive(a)}else{var u;null===(u=this.focusing)||void 0===u||u.suspense()}}},{key:"componentDidUpdate",value:function e(){this.onEffect()}},{key:"componentWillUnmount",value:function e(){var t,n;null===(t=this.focusing)||void 0===t||t.purge(),null===(n=this.dispose)||void 0===n||n.call(this)}},{key:"render",value:function e(){var t,n,r=this,o=this.props.area,i=null===(t=o.current)||void 0===t||null===(n=t.config.props)||void 0===n?void 0:n.width,a=i?{width:i}:void 0;return React.createElement("div",{ref:function e(t){r.shell=t},className:Jo()("lc-left-float-pane",{"lc-area-visible":o.visible}),style:a},React.createElement(mR,{area:o}))}}]),n}(r.Component),yR=vR=Object(c.b)([a.observer],vR),mR=function(e){cR(n,e);var t=lR(n);function n(){return rR(this,n),t.apply(this,arguments)}return iR(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(r.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(r.Component);function bR(e){return(bR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jR(r.key),r)}}function OR(e,t,n){return t&&wR(e.prototype,t),n&&wR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jR(e){var t=SR(e,"string");return"symbol"===bR(t)?t:String(t)}function SR(e,t){if("object"!==bR(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ER(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kR(e,t)}function kR(e,t){return(kR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function _R(e){var t=NR();return function n(){var r=CR(e),o;if(t){var i=CR(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return PR(this,o)}}function PR(e,t){if(t&&("object"===bR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xR(e)}function xR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NR(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function CR(e){return(CR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}mR=Object(c.b)([a.observer],mR);var TR=function(e){ER(n,e);var t=_R(n);function n(){return gR(this,n),t.apply(this,arguments)}return OR(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement("div",{className:Jo()("lc-main-area engine-workspacepane")},t.container.items.map((function(e){return e.content})))}}]),n}(r.Component),RR=TR=Object(c.b)([a.observer],TR);function LR(e){return(LR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IR(r.key),r)}}function DR(e,t,n){return t&&MR(e.prototype,t),n&&MR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function IR(e){var t=BR(e,"string");return"symbol"===LR(t)?t:String(t)}function BR(e,t){if("object"!==LR(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==LR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function VR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FR(e,t)}function FR(e,t){return(FR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function GR(e){var t=zR();return function n(){var r=WR(e),o;if(t){var i=WR(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return HR(this,o)}}function HR(e,t){if(t&&("object"===LR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return UR(e)}function UR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zR(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function WR(e){return(WR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var $R=function(e){VR(n,e);var t=GR(n);function n(){return AR(this,n),t.apply(this,arguments)}return DR(n,[{key:"render",value:function e(){var t=this.props.area;return t.isEmpty()?null:React.createElement("div",{className:Jo()("lc-bottom-area",{"lc-area-visible":t.visible})},React.createElement(YR,{area:t}))}}]),n}(r.Component),XR=$R=Object(c.b)([a.observer],$R),YR=function(e){VR(n,e);var t=GR(n);function n(){return AR(this,n),t.apply(this,arguments)}return DR(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(r.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(r.Component);YR=Object(c.b)([a.observer],YR);var KR=n(118),qR=Object(r.createContext)({});function JR(e){return(JR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tL(r.key),r)}}function eL(e,t,n){return t&&QR(e.prototype,t),n&&QR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tL(e){var t=nL(e,"string");return"symbol"===JR(t)?t:String(t)}function nL(e,t){if("object"!==JR(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==JR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function rL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oL(e,t)}function oL(e,t){return(oL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function iL(e){var t=cL();return function n(){var r=sL(e),o;if(t){var i=sL(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return aL(this,o)}}function aL(e,t){if(t&&("object"===JR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return uL(e)}function uL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cL(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function sL(e){return(sL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var lL=function(e){rL(n,e);var t=iL(n);function n(){return ZR(this,n),t.apply(this,arguments)}return eL(n,[{key:"render",value:function e(){var t=this.props,n=t.area,r=t.itemClassName;return n.isEmpty()?null:React.createElement("div",{className:Jo()("lc-sub-top-area engine-actionpane",{"lc-area-visible":n.visible})},React.createElement(pL,{area:n,itemClassName:r}))}}]),n}(r.Component),fL=lL=Object(c.b)([a.observer],lL),pL=function(e){rL(n,e);var t=iL(n);function n(){return ZR(this,n),t.apply(this,arguments)}return eL(n,[{key:"render",value:function e(){var t=this.props,n=t.area,o=t.itemClassName,i=[],a=[],u=[];n.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).forEach((function(e){var t=React.createElement("div",{className:o||"",key:"top-area-".concat(e.name)},e.content);"center"===e.align?a.push(t):"left"===e.align?i.push(t):u.push(t)}));var c=[];return i&&i.length&&c.push(React.createElement("div",{className:"lc-sub-top-area-left"},i)),a&&a.length&&c.push(React.createElement("div",{className:"lc-sub-top-area-center"},a)),u&&u.length&&c.push(React.createElement("div",{className:"lc-sub-top-area-right"},u)),React.createElement(r.Fragment,null,c)}}]),n}(r.Component);function hL(e){return(hL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mL(r.key),r)}}function yL(e,t,n){return t&&vL(e.prototype,t),n&&vL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mL(e){var t=bL(e,"string");return"symbol"===hL(t)?t:String(t)}function bL(e,t){if("object"!==hL(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==hL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function gL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wL(e,t)}function wL(e,t){return(wL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function OL(e){var t=EL();return function n(){var r=kL(e),o;if(t){var i=kL(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return jL(this,o)}}function jL(e,t){if(t&&("object"===hL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return SL(e)}function SL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EL(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function kL(e){return(kL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}pL=Object(c.b)([a.observer],pL);var _L=function(e){gL(n,e);var t=OL(n);function n(e){var r;dL(this,n);var o=(r=t.call(this,e)).props,i=o.config,a=o.components,u,c;return o.workspace.skeleton.buildFromConfig(i,a),r}return yL(n,[{key:"render",value:function e(){var t=this.props,n=t.workspace,r=t.className,o=t.topAreaItemClassName,i=n.skeleton;return React.createElement("div",{className:Jo()("lc-workspace-workbench",r)},React.createElement(qR.Provider,{value:i},React.createElement(XC,{area:i.topArea,itemClassName:o}),React.createElement("div",{className:"lc-workspace-workbench-body"},React.createElement(BT,{area:i.leftArea}),React.createElement(yR,{area:i.leftFloatArea}),React.createElement(eR,{area:i.leftFixedArea}),React.createElement("div",{className:"lc-workspace-workbench-center"},React.createElement("div",{className:"lc-workspace-workbench-center-content"},React.createElement(fL,{area:i.subTopArea,itemClassName:o}),React.createElement("div",{className:"lc-workspace-workbench-window"},n.windows.map((function(e){var t;return React.createElement(ST,{active:e.id===(null===(t=n.window)||void 0===t?void 0:t.id),window:e,key:e.id})})))),React.createElement(RR,{area:i.mainArea}),React.createElement(XR,{area:i.bottomArea}))),React.createElement(a.TipContainer,null)))}}]),n}(r.Component);function PL(e,t){var n=e.getProp(t,!1);if(!n||n.isUnset())return null;var r=n.getValue();return Object(s.H)(r)&&(r=r.mock),null==r?null:"literal"===n.type?r:Symbol.for("not-literal")}function xL(e){var t=e.node,n,r=e.event.target;if(!Array.from(r.childNodes).every((function(e){return e.nodeType===Node.TEXT_NODE})))return null;var o=r.innerText,i=["title","label","text","content","children"].find((function(e){return NL(PL(t,e),o)}));return i?{propElement:r,propTarget:i}:null}function NL(e,t){return"string"==typeof e&&e.trim()===t}_L=Object(c.b)([a.observer,Object(c.d)("design:paramtypes",[Object])],_L);var CL={condition:function e(t){return"expression"===t.type},onSaveContent:function e(t,n){var r=n.getValue(),o=r;Object(s.H)(r)&&(o=r.mock),o=t,Object(s.H)(r)?n.setValue({type:"JSExpression",value:r.value,mock:o}):n.setValue(o)}};ao.addLiveEditingSpecificRule(xL),ao.addLiveEditingSaveHandler(CL);var TL={Project:Rb,Skeleton:hg,DocumentModel:rw,Node:Fw,NodeChildren:lw,History:Jy,SettingPropEntry:mw,SettingTopEntry:Ew,InnerNode:qe,Selection:zy,Prop:Cy,SimulatorHost:wb,SkeletonItem:Kb},RL={projectSymbol:Mv,documentSymbol:Bv,nodeSymbol:Fv,nodeChildrenSymbol:Hv,skeletonSymbol:Iv,editorSymbol:Vv,designerSymbol:Dv,settingPropEntrySymbol:zv,settingTopEntrySymbol:Wv,designerCabinSymbol:ry,propSymbol:Uv,simulatorHostSymbol:ey,skeletonItemSymbol:yy},LL=function e(t){var n=function e(n){return{init:function e(){var r=n.material;r.onChangeAssets((function(){var e,n=r.getAssets().components,o=void 0===n?[]:n;t.buildComponentMetasMap(o)}))}}};return n.pluginName="___component_meta_parser___",n},AL=function e(t){return{init:function e(){var r,o;if(!t.config.get("disableDefaultSetters")){var i=null===(r=n(119))||void 0===r?void 0:r.setters;i&&t.setters.registerSetter(i)}}}};AL.pluginName="___setter_registry___";var ML=n(120);function DL(e){return(DL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IL(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */IL=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==DL(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,k.prototype={constructor:k,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function BL(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function VL(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){BL(i,r,o,a,u,"next",e)}function u(e){BL(i,r,o,a,u,"throw",e)}a(void 0)}))}}function FL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UL(r.key),r)}}function HL(e,t,n){return t&&GL(e.prototype,t),n&&GL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function UL(e){var t=zL(e,"string");return"symbol"===DL(t)?t:String(t)}function zL(e,t){if("object"!==DL(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==DL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function WL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$L(e,t)}function $L(e,t){return($L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function XL(e){var t=qL();return function n(){var r=JL(e),o;if(t){var i=JL(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return YL(this,o)}}function YL(e,t){if(t&&("object"===DL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return KL(e)}function KL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qL(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function JL(e){return(JL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var ZL=Object(s.r)({level:"warn",bizName:"plugin:plugin-designer"}),QL=function(e){WL(n,e);var t=XL(n);function n(e){var r;return FL(this,n),(r=t.call(this,e)).state={componentMetadatas:null,library:null,extraEnvironment:null,renderEnv:"default",device:"default",locale:"",designMode:"live",deviceClassName:"",simulatorUrl:null,requestHandlersMap:null},r._mounted=!0,r.handleDesignerMount=function(e){var t=r.props.engineEditor;t.set("designer",e),t.eventBus.emit("designer.ready",e),t.onGot("schema",(function(t){e.project.open(t)}))},r.setupAssets(),r}return HL(n,[{key:"setupAssets",value:function(){var e=VL(IL().mark((function e(){var t=this,n,r,o,i,u,c,s,l,f,p,h,d,v,y;return IL().wrap((function e(m){for(;;)switch(m.prev=m.next){case 0:return n=this.props.engineEditor,m.prev=1,m.next=4,n.onceGot("assets");case 4:if(r=m.sent,o=a.engineConfig.get("renderEnv")||n.get("renderEnv"),i=a.engineConfig.get("device")||n.get("device"),u=a.engineConfig.get("locale")||n.get("locale"),c=a.engineConfig.get("designMode")||n.get("designMode"),s=a.engineConfig.get("deviceClassName")||n.get("deviceClassName"),l=a.engineConfig.get("simulatorUrl")||n.get("simulatorUrl"),f=a.engineConfig.get("requestHandlersMap")||n.get("requestHandlersMap"),this._mounted){m.next=14;break}return m.abrupt("return");case 14:a.engineConfig.onGot("locale",(function(e){t.setState({locale:e})})),p=r.components,h=r.packages,d=r.extraEnvironment,v=r.utils,y={componentMetadatas:p||[],library:h||[],utilsMetadata:v||[],extraEnvironment:d,renderEnv:o,device:i,designMode:c,deviceClassName:s,simulatorUrl:l,requestHandlersMap:f,locale:u},this.setState(y),m.next=23;break;case 20:m.prev=20,m.t0=m.catch(1),ZL.error(m.t0);case 23:case"end":return m.stop()}}),e,this,[[1,20]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"componentWillUnmount",value:function e(){this._mounted=!1}},{key:"render",value:function e(){var t=this.props.engineEditor,n=this.state,r=n.componentMetadatas,i=n.utilsMetadata,a=n.library,u=n.extraEnvironment,c=n.renderEnv,s=n.device,l=n.designMode,f=n.deviceClassName,p=n.simulatorUrl,h=n.requestHandlersMap,d=n.locale;return a&&r?o.a.createElement($f,{onMount:this.handleDesignerMount,className:"lowcode-plugin-designer",editor:t,name:t.viewName,designer:t.get("designer"),componentMetadatas:r,simulatorProps:{library:a,utilsMetadata:i,extraEnvironment:u,renderEnv:c,device:s,locale:d,designMode:l,deviceClassName:f,simulatorUrl:p,requestHandlersMap:h}}):null}}]),n}(r.PureComponent);QL.displayName=void 0;var eA=function e(t){var n=function e(n){return{init:function e(){var r=n.skeleton,o=n.config;r.add({area:"mainArea",name:"designer",type:"Widget",content:React.createElement(QL,{engineConfig:o,engineEditor:t})}),o.get("disableDefaultSettingPanel")||r.add({area:"rightArea",name:"settingsPane",type:"Panel",content:React.createElement(cx,{engineEditor:t}),props:{ignoreRoot:!0}})}}};return n.pluginName="___default_panel___",n},tA=eA;function nA(e){return(nA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aA(r.key),r)}}function iA(e,t,n){return t&&oA(e.prototype,t),n&&oA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function aA(e){var t=uA(e,"string");return"symbol"===nA(t)?t:String(t)}function uA(e,t){if("object"!==nA(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var cA,sA=new(function(){function e(){rA(this,e)}return iA(e,[{key:"createNode",value:function e(t){return Fw.create(t)}},{key:"createSettingField",value:function e(t){return mw.create(t)}}]),e}());function lA(e,t,n){var r=t;Object(s.N)(r)&&r.isSlotNode&&(r=r.exportSchema(u.h.Clone));var o=null,i,a,c;Object(s.N)(r)?(o=r,null===(i=e.children)||void 0===i||i.insert(o,n)):(o=(null===(a=e.document)||void 0===a?void 0:a.createNode(r))||null)&&(null===(c=e.children)||void 0===c||c.insert(o,n));return o||null}function fA(e,t,n){for(var r=n,o,i=[];o=t.pop();)o=lA(e,o,r),i.push(o),r=o.index;return i}function pA(e,t){var n,r,o,i=e.project,a=e.material,u=i.currentDocument;if(!u)return null;if(Array.isArray(t)&&Object(s.O)(t[0])&&null!==(n=a.getComponentMeta(t[0].componentName))&&void 0!==n&&n.isModal)return u.root?{target:u.root}:null;var c=u.focusNode,l,f=u.selection.getNodes().find((function(e){return c.contains(e)})),p,h;return f&&f!==c?null!==(r=f.componentMeta)&&void 0!==r&&r.isContainer?p=f:(p=f.parent,h=f.index+1):p=c,!p||!t||null!==(o=p.componentMeta)&&void 0!==o&&o.checkNestingDown(p,t)?{target:p,index:h}:null}function hA(e,t,n){if(e){if(!t)return e;var r;if(e.isContainerNode){var o=e.children;if(o&&!o.isEmptyNode&&(r=hA(o.get(0))))return r}if(r=hA(e.nextSibling))return r}return n?hA(n.nextSibling,!1,null==n?void 0:n.parent):null}function dA(e,t,n){if(e){var r;if(!t&&e.isContainerNode){var o=e.children,i;if(r=dA(o&&!o.isEmptyNode?o.get(o.size-1):null))return r}if(!t)return e;if(r=dA(e.prevSibling))return r}return n||null}function vA(e,t,n){var r,o=e.document;if(!o)return null;var i={type:u.f.Node,nodes:[t]},a=null==o?void 0:o.focusNode;if(null!=t&&null!==(r=t.componentMeta)&&void 0!==r&&r.isModal)return{container:a,ref:n};if(!n&&a&&e.contains(a))return o.checkNesting(a,i)?{container:a}:null;if(e.isRootNode&&e.children){var c=e.children.filter((function(e){return!!e.isContainerNode&&!!o.checkNesting(e,i)}))[0];return c?{container:c,ref:n}:o.checkNesting(e,i)?{container:e,ref:n}:null}return e.isContainerNode&&o.checkNesting(e,i)?{container:e,ref:n}:e.parent?vA(e.parent,t,{index:e.index}):null}var yA=function e(t){return{init:function e(){var n=t.hotkey,r=t.project,o=t.logger,i=t.canvas,a=i.clipboard;n.bind(["backspace","del"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(s.F)(e)&&n){e.preventDefault();var a=n.selection,u;a.getTopNodes().forEach((function(e){null!=e&&e.canPerformAction("remove")&&e&&n.removeNode(e)})),a.clear()}}})),n.bind("escape",(function(e,t){var n;if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var a=null===(n=r.currentDocument)||void 0===n?void 0:n.selection;!Object(s.F)(e)&&a&&(e.preventDefault(),a.clear())}})),n.bind(["command+c","ctrl+c","command+x","ctrl+x"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(s.F)(e)&&n){e.preventDefault();var c=n.selection.getTopNodes(!0);if((c=c.filter((function(e){return null==e?void 0:e.canPerformAction("copy")})))&&!(c.length<1)){var l,f,p={type:"nodeSchema",componentsMap:{},componentsTree:c.map((function(e){return null==e?void 0:e.exportSchema(u.h.Clone)}))},h;a.setData(p),t&&t.indexOf("x")>0&&c.forEach((function(e){var t=null==e?void 0:e.parent;null==t||t.select(),null==e||e.remove()}))}}}})),n.bind(["command+v","ctrl+v"],(function(e,n){if(o.info("action ".concat(n," is triggered")),!i.isInLiveEditing){var c=null==r?void 0:r.currentDocument;!Object(s.F)(e)&&c&&a.waitPasteData(e,(function(e){var n=e.componentsTree;if(n){var r=pA(t,n)||{},o=r.target,a=r.index;if(!o)return;var s=n.filter((function(e){var t={type:u.f.Node,nodes:[e]};return c.checkNesting(o,t)}));if(0===s.length)return;var l=fA(o,s,a);l&&(c.selection.selectAll(l.map((function(e){return e.id}))),setTimeout((function(){var e;return null===(e=i.activeTracker)||void 0===e?void 0:e.track(l[0])}),10))}}))}})),n.bind(["command+z","ctrl+z"],(function(e,t){var n,a;if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var u=null===(n=r.currentDocument)||void 0===n?void 0:n.history;if(!Object(s.F)(e)&&u){e.preventDefault();var c=null===(a=r.currentDocument)||void 0===a?void 0:a.selection,l=(null==c?void 0:c.selected)&&Array.from(null==c?void 0:c.selected);u.back(),null==c||c.selectAll(l)}}})),n.bind(["command+y","ctrl+y","command+shift+z"],(function(e,t){var n,a;if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var u=null===(n=r.currentDocument)||void 0===n?void 0:n.history;if(!Object(s.F)(e)&&u){e.preventDefault();var c=null===(a=r.currentDocument)||void 0===a?void 0:a.selection,l=(null==c?void 0:c.selected)&&Array.from(null==c?void 0:c.selected);u.forward(),null==c||c.selectAll(l)}}})),n.bind(["left","right"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(s.F)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0],c="left"===t?null==u?void 0:u.prevSibling:null==u?void 0:u.nextSibling;null==c||c.select()}}}})),n.bind(["up","down"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(s.F)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0];if("down"===t){var c=hA(u,!0,null==u?void 0:u.parent);null==c||c.select()}else if("up"===t){var l=dA(u,!0,null==u?void 0:u.parent);null==l||l.select()}}}}})),n.bind(["option+left","option+right"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(s.F)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0],c=null==u?void 0:u.parent;if(c){var l=t&&/(left)$/.test(t),f=l?u.prevSibling:u.nextSibling;f&&(l?c.insertBefore(u,f,!0):c.insertAfter(u,f,!0),null==u||u.select())}}}}})),n.bind(["option+up"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(s.F)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0],c=null==u?void 0:u.parent;if(c){var l=u.prevSibling;if(l){if(l.isContainerNode){var f=vA(l,u,null);l.insertAfter(u,f.ref,!0)}else c.insertBefore(u,l,!0);null==u||u.select()}else{var p=vA(c,u,null),h;if(p)p.container.internalToShellNode().insertBefore(u,p.ref),null==u||u.select()}}}}}})),n.bind(["option+down"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.getCurrentDocument();if(!Object(s.F)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0],c=null==u?void 0:u.parent;if(c){var l=u.nextSibling;if(l)l.isContainerNode?l.insertBefore(u,void 0):c.insertAfter(u,l,!0),null==u||u.select();else{var f=vA(c,u,null),p;if(f)f.container.internalToShellNode().insertAfter(u,f.ref,!0),null==u||u.select()}}}}}}))}}};function mA(){return(mA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function bA(e){return React.createElement(s.f,mA({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM540 701v53c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-53c-12.1-8.7-20-22.9-20-39 0-26.5 21.5-48 48-48s48 21.5 48 48c0 16.1-7.9 30.3-20 39z m152-237H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224z"}))}function gA(){return(gA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wA(e){return React.createElement(s.f,gA({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32z m-40 376H232V536h560v304z"}),React.createElement("path",{d:"M484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53c12.1-8.7 20-22.9 20-39 0-26.5-21.5-48-48-48s-48 21.5-48 48c0 16.1 7.9 30.3 20 39z"}))}function OA(){return(OA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function jA(e){return React.createElement(s.f,OA({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512.002047 771.904425c-10.152221 0.518816-20.442588-2.800789-28.202319-10.598382L77.902254 315.937602c-14.548344-14.618952-14.548344-38.318724 0-52.933583 14.544251-14.614859 38.118156-14.614859 52.662407 0l381.437385 418.531212L893.432269 263.004019c14.544251-14.614859 38.125319-14.614859 52.662407 0 14.552437 14.614859 14.552437 38.314631 0 52.933583L540.205389 761.307066C532.451798 769.103636 522.158361 772.424264 512.002047 771.904425z"}))}function SA(){return(SA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function EA(e){return React.createElement(s.f,SA({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M479.552 276.544l296.896 2.752v75.712L960 249.024l-183.552-106.048v92.48h-271.36l-46.656-2.752-190.784 203.648 30.976 30.976 180.928-190.784z m296.896 484.928l-253.056-2.816-262.976-263.04H64v43.904h175.296l262.912 262.976 274.176 2.816v75.712L960 774.976l-183.616-105.984 0.064 92.48z"}))}function kA(){return(kA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _A(e){return React.createElement(s.f,kA({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512.7 700.9c-102.1 0-184.9-82.8-184.9-184.9 0-28.6 6.5-55.6 18-79.7l-93.7-93.7C138.9 418.1 65.2 514 65.2 514s200.4 260.7 447.6 260.7c50.2 0 98.6-10.8 143.6-27.9l-63.9-63.9c-24.2 11.5-51.2 18-79.8 18z"}),React.createElement("path",{d:"M960.3 514S759.9 253.3 512.7 253.3c-49.5 0-97.2 10.5-141.7 27.2L243.5 153.1l-45.3 45.3 262.3 262.2c-13.1 13.3-21.2 31.5-21.2 51.6 0 40.6 32.9 73.4 73.4 73.4 20.1 0 38.4-8.1 51.6-21.2l260.9 260.8 45.3-45.3-95.6-95.6C887.2 609.1 960.3 514 960.3 514z m-376.7-20.9c-6.8-25.2-26.6-45.1-51.9-51.9L437.5 347c23-10.3 48.5-16 75.3-16 102.1 0 184.9 82.8 184.9 184.9 0 26.8-5.7 52.2-15.9 75.2l-98.2-98z"}))}function PA(){return(PA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xA(e){return React.createElement(s.f,PA({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512 256c-163.8 0-291.4 97.6-448 256 134.8 135.4 248 256 448 256 199.8 0 346.8-152.8 448-253.2C856.4 397.2 709.6 256 512 256z m0 438.6c-98.8 0-179.2-82-179.2-182.6 0-100.8 80.4-182.6 179.2-182.6s179.2 82 179.2 182.6c0 100.8-80.4 182.6-179.2 182.6z"}),React.createElement("path",{d:"M512 448c0-15.8 5.8-30.2 15.2-41.4-5-0.8-10-1.2-15.2-1.2-57.6 0-104.6 47.8-104.6 106.6s47 106.6 104.6 106.6 104.6-47.8 104.6-106.6c0-4.6-0.4-9.2-0.8-13.8-11 8.6-24.6 13.8-39.6 13.8-35.6 0-64.2-28.6-64.2-64z"}))}function NA(){return(NA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function CA(e){return React.createElement(s.f,NA({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M911.457097 168.557714a35.986286 35.986286 0 0 1-8.009143 40.009143L621.73824 490.276571V914.285714c0 14.848-9.142857 28.013714-22.272 33.718857A42.349714 42.349714 0 0 1 585.166811 950.857143a34.084571 34.084571 0 0 1-25.709714-10.861714l-146.285714-146.285715A36.425143 36.425143 0 0 1 402.309669 768v-277.723429L120.599954 208.566857a35.986286 35.986286 0 0 1-8.009143-40.009143C118.295954 155.428571 131.461669 146.285714 146.309669 146.285714h731.428571c14.848 0 28.013714 9.142857 33.718857 22.272z",fill:"#666","p-id":"2025"}))}function TA(){return(TA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function RA(e){return React.createElement(s.f,TA({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M60.235294 542.117647c0 132.879059 103.062588 240.941176 229.677176 240.941176l0 60.235294c-159.864471 0-289.912471-135.107765-289.912471-301.176471s130.048-301.176471 289.912471-301.176471l254.735059 0-99.147294-99.147294 42.586353-42.586353 171.911529 171.851294-171.851294 171.911529-42.646588-42.646588 99.207529-99.147294-254.795294 0c-126.614588 0-229.677176 108.062118-229.677176 240.941176zM734.087529 240.941176l0 60.235294c126.614588 0 229.677176 108.062118 229.677176 240.941176s-103.062588 240.941176-229.677176 240.941176l-254.795294 0 99.147294-99.147294-42.586353-42.586353-171.851294 171.851294 171.911529 171.911529 42.586353-42.586353-99.207529-99.207529 254.735059 0c159.924706 0 289.972706-135.107765 289.972706-301.176471s-130.048-301.176471-289.912471-301.176471z"}))}function LA(){return(LA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function AA(e){return React.createElement(s.f,LA({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512 1024A512 512 0 1 1 512 0a512 512 0 0 1 0 1024z m0-256a256 256 0 1 0 0-512 256 256 0 0 0 0 512z"}))}function MA(){return(MA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function DA(e){return React.createElement(s.f,MA({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512 1024A512 512 0 1 1 512 0a512 512 0 0 1 0 1024z m0-64A448 448 0 1 0 512 64a448 448 0 0 0 0 896z"}))}function IA(){return(IA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function BA(e){return React.createElement(s.f,IA({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M965.824 405.952a180.48 180.48 0 0 1-117.12-85.376 174.464 174.464 0 0 1-16-142.08 22.208 22.208 0 0 0-7.04-23.552 480.576 480.576 0 0 0-153.6-89.216 23.104 23.104 0 0 0-24.32 5.76 182.208 182.208 0 0 1-135.68 57.92 182.208 182.208 0 0 1-133.12-56.64 23.104 23.104 0 0 0-26.88-7.04 478.656 478.656 0 0 0-153.6 89.856 22.208 22.208 0 0 0-7.04 23.552 174.464 174.464 0 0 1-16 141.44A180.48 180.48 0 0 1 58.24 405.952a22.4 22.4 0 0 0-17.28 17.792 455.08 455.08 0 0 0 0 176.512 22.4 22.4 0 0 0 17.28 17.792 180.48 180.48 0 0 1 117.12 84.736c25.408 42.944 31.232 94.592 16 142.08a22.208 22.208 0 0 0 7.04 23.552A480.576 480.576 0 0 0 352 957.632h7.68a23.04 23.04 0 0 0 16.64-7.04 184.128 184.128 0 0 1 266.944 0c6.592 8.96 18.752 11.968 28.8 7.04a479.36 479.36 0 0 0 156.16-88.576 22.208 22.208 0 0 0 7.04-23.552 174.464 174.464 0 0 1 13.44-142.72 180.48 180.48 0 0 1 117.12-84.736 22.4 22.4 0 0 0 17.28-17.792 452.613 452.613 0 0 0 0-176.512 23.04 23.04 0 0 0-17.28-17.792z m-42.88 169.408a218.752 218.752 0 0 0-128 98.112 211.904 211.904 0 0 0-21.76 156.736 415.936 415.936 0 0 1-112 63.68 217.472 217.472 0 0 0-149.12-63.68 221.312 221.312 0 0 0-149.12 63.68 414.592 414.592 0 0 1-112-63.68c12.8-53.12 4.288-109.12-23.68-156.096A218.752 218.752 0 0 0 101.12 575.36a386.176 386.176 0 0 1 0-127.36 218.752 218.752 0 0 0 128-98.112c27.2-47.552 34.944-103.68 21.76-156.8a415.296 415.296 0 0 1 112-63.68A221.44 221.44 0 0 0 512 187.392a218.24 218.24 0 0 0 149.12-57.984 413.952 413.952 0 0 1 112 63.744 211.904 211.904 0 0 0 23.04 156.096 218.752 218.752 0 0 0 128 98.112 386.65 386.65 0 0 1 0 127.36l-1.28 0.64z"}),React.createElement("path",{d:"M512 320.576c-105.984 0-192 85.568-192 191.104a191.552 191.552 0 0 0 192 191.104c106.112 0 192.064-85.568 192.064-191.104a190.72 190.72 0 0 0-56.256-135.168 192.448 192.448 0 0 0-135.744-55.936z m0 318.528c-70.656 0-128-57.088-128-127.424 0-70.4 57.344-127.36 128-127.36 70.72 0 128 56.96 128 127.36 0 33.792-13.44 66.176-37.44 90.112a128.32 128.32 0 0 1-90.496 37.312z"}))}function VA(e){return(VA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QA(r.key),r)}}function HA(e,t,n){return t&&GA(e.prototype,t),n&&GA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function UA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zA(e,t)}function zA(e,t){return(zA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function WA(e){var t=YA();return function n(){var r=KA(e),o;if(t){var i=KA(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return $A(this,o)}}function $A(e,t){if(t&&("object"===VA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return XA(e)}function XA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YA(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function KA(e){return(KA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function qA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qA(Object(n),!0).forEach((function(t){ZA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ZA(e,t,n){return(t=QA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QA(e){var t=eM(e,"string");return"symbol"===VA(t)?t:String(t)}function eM(e,t){if("object"!==VA(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==VA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function tM(e,t,n,r){var o,i,a=null==n?void 0:n.node,u=null==a||null===(o=a.componentMeta)||void 0===o?void 0:o.npm,c=[null==u?void 0:u.package,null==u?void 0:u.componentName].filter((function(e){return!!e})).join("-")||(null==a||null===(i=a.componentMeta)||void 0===i?void 0:i.componentName)||"";e.emit("outlinePane.".concat(t),JA({selected:c},r))}yA.pluginName="___builtin_hotkey___",bA.displayName="IconLock",wA.displayName="IconUnlock",jA.displayName="IconArrowRight",EA.displayName="IconCond",_A.displayName="IconEyeClose",xA.displayName="IconEye",CA.displayName="IconFilter",RA.displayName="IconLoop",AA.displayName="IconRadioActive",DA.displayName="IconRadio",BA.displayName="IconSetting";var nM=function(e){UA(n,e);var t=WA(n);function n(){var e;FA(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editing:!1,title:""},e.lastInput=void 0,e.enableEdit=function(t){t.preventDefault(),e.setState({editing:!0})},e.saveEdit=function(t){var n=e.props.treeNode,r=t.target.value||"";n.setTitleLabel(r),tM(e.props.treeNode.pluginContext.event,"rename",n,{value:r}),e.cancelEdit()},e.handleKeyUp=function(t){13===t.keyCode&&e.saveEdit(t),27===t.keyCode&&e.cancelEdit()},e.setCaret=function(t){t&&e.lastInput!==t&&(t.focus(),t.select())},e}return HA(n,[{key:"cancelEdit",value:function e(){this.setState({editing:!1}),this.lastInput=void 0}},{key:"componentDidMount",value:function e(){var t=this,n=this.props.treeNode;this.setState({editing:!1,title:n.titleLabel,condition:n.condition}),n.onTitleLabelChanged((function(){t.setState({title:n.titleLabel})})),n.onConditionChanged((function(){t.setState({condition:n.condition})}))}},{key:"render",value:function e(){var t=this.props,n=t.treeNode,o=t.isModal,i=n.pluginContext,a=this.state.editing,u=!n.isRoot(),c=n.node,l=c.componentMeta,f=l?l.availableActions.map((function(e){return e.name})):[],p=c.isParentalNode,h=c.isContainerNode,d;if(u){var v,y=12*n.depth;d={paddingLeft:y+(o?12:0),marginLeft:-y}}var m=n.filterReult,b=m.filterWorking,g=m.matchSelf,w=m.keywords,O=i.extraTitle,j=i.intlNode,S=i.common,E=i.config,k=S.editorCabin.Tip,_=S.editorCabin.Title,P=f.includes("hide"),x=f.includes("lock"),N=f.includes("unlock"),C=u&&p&&!o&&P,T=E.get("enableCanvasLock",!1)&&h&&u&&p&&(x&&!c.isLocked||N&&c.isLocked),R=u&&p;return React.createElement("div",{className:Jo()("tree-node-title",{editing:a}),style:d,"data-id":n.id,onClick:function e(){var t,n,r,i;o?c.visible?null===(t=c.document)||void 0===t||null===(n=t.modalNodesManager)||void 0===n||n.setInvisible(c):null===(r=c.document)||void 0===r||null===(i=r.modalNodesManager)||void 0===i||i.setVisible(c):c.conditionGroup&&c.setConditionalVisible()}},o&&c.visible&&React.createElement("div",{onClick:function e(){var t,n;null===(t=c.document)||void 0===t||null===(n=t.modalNodesManager)||void 0===n||n.setInvisible(c)}},React.createElement(AA,{className:"tree-node-modal-radio-active"})),o&&!c.visible&&React.createElement("div",{onClick:function e(){var t,n;null===(t=c.document)||void 0===t||null===(n=t.modalNodesManager)||void 0===n||n.setVisible(c)}},React.createElement(DA,{className:"tree-node-modal-radio"})),u&&React.createElement(aM,{expandable:this.props.expandable,expanded:this.props.expanded,treeNode:n}),React.createElement("div",{className:"tree-node-icon"},Object(s.n)(n.icon)),React.createElement("div",{className:"tree-node-title-label"},a?React.createElement("input",{className:"tree-node-title-input",defaultValue:this.state.title,onBlur:this.saveEdit,ref:this.setCaret,onKeyUp:this.handleKeyUp}):React.createElement(r.Fragment,null,React.createElement(_,{title:this.state.title,match:b&&g,keywords:w}),O&&React.createElement(O,{node:null==n?void 0:n.node}),c.slotFor&&React.createElement("a",{className:"tree-node-tag slot"},React.createElement(k,null,j("Slot for {prop}",{prop:c.slotFor.key}))),c.hasLoop()&&React.createElement("a",{className:"tree-node-tag loop"},React.createElement(RA,null),React.createElement(k,null,j("Loop"))),this.state.condition&&React.createElement("a",{className:"tree-node-tag cond"},React.createElement(EA,null),React.createElement(k,null,j("Conditional"))))),C&&React.createElement(iM,{hidden:this.props.hidden,treeNode:n}),T&&React.createElement(oM,{locked:this.props.locked,treeNode:n}),R&&React.createElement(rM,{treeNode:n,onClick:this.enableEdit}))}}]),n}(r.PureComponent),rM=function(e){UA(n,e);var t=WA(n);function n(){return FA(this,n),t.apply(this,arguments)}return HA(n,[{key:"render",value:function e(){var t=this.props.treeNode.pluginContext,n=t.intl,r,o=t.common.editorCabin.Tip;return React.createElement("div",{className:"tree-node-rename-btn",onClick:this.props.onClick},React.createElement(BA,null),React.createElement(o,null,n("Rename")))}}]),n}(r.PureComponent),oM=function(e){UA(n,e);var t=WA(n);function n(){return FA(this,n),t.apply(this,arguments)}return HA(n,[{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.locked,o=this.props.treeNode.pluginContext,i=o.intl,a,u=o.common.editorCabin.Tip;return React.createElement("div",{className:"tree-node-lock-btn",onClick:function e(t){t.stopPropagation(),n.setLocked(!r)}},r?React.createElement(wA,null):React.createElement(bA,null),React.createElement(u,null,i(r?"Unlock":"Lock")))}}]),n}(r.PureComponent),iM=function(e){UA(n,e);var t=WA(n);function n(){return FA(this,n),t.apply(this,arguments)}return HA(n,[{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.hidden,o=n.pluginContext,i=o.intl,a,u=o.common.editorCabin.Tip;return React.createElement("div",{className:"tree-node-hide-btn",onClick:function e(t){t.stopPropagation(),tM(n.pluginContext.event,r?"show":"hide",n),n.setHidden(!r)}},r?React.createElement(xA,null):React.createElement(_A,null),React.createElement(u,null,i(r?"Show":"Hide")))}}]),n}(r.PureComponent),aM=function(e){UA(n,e);var t=WA(n);function n(){return FA(this,n),t.apply(this,arguments)}return HA(n,[{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.expanded,o;return t.expandable?React.createElement("div",{className:"tree-node-expand-btn",onClick:function e(t){r&&t.stopPropagation(),tM(n.pluginContext.event,r?"collapse":"expand",n),n.setExpanded(!r)}},React.createElement(jA,{size:"small"})):React.createElement("i",{className:"tree-node-expand-placeholder"})}}]),n}(r.PureComponent);function uM(e){return(uM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fM(r.key),r)}}function lM(e,t,n){return t&&sM(e.prototype,t),n&&sM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fM(e){var t=pM(e,"string");return"symbol"===uM(t)?t:String(t)}function pM(e,t){if("object"!==uM(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==uM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function hM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dM(e,t)}function dM(e,t){return(dM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function vM(e){var t=bM();return function n(){var r=gM(e),o;if(t){var i=gM(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return yM(this,o)}}function yM(e,t){if(t&&("object"===uM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mM(e)}function mM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bM(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function gM(e){return(gM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var wM=function(e){hM(n,e);var t=vM(n);function n(e){var r;cM(this,n),(r=t.call(this,e)).state={filterWorking:!1,matchChild:!1},r.offExpandedChanged=void 0;var o,i=r.props.treeNode.filterReult,a=i.filterWorking,u=i.matchChild;return r.setState({filterWorking:a,matchChild:u}),r}return lM(n,[{key:"componentDidMount",value:function e(){var t=this,n=this.props.treeNode;n.onFilterResultChanged((function(){var e=n.filterReult,r=e.filterWorking,o=e.matchChild;t.setState({filterWorking:r,matchChild:o})}))}},{key:"componentWillUnmount",value:function e(){this.offExpandedChanged&&this.offExpandedChanged()}},{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.isModal,o=t.expanded,i=this.state,a=i.filterWorking,u=i.matchChild,c;return a&&u||o?React.createElement("div",{className:"tree-node-branches"},!r&&React.createElement(jM,{treeNode:n}),React.createElement(OM,{treeNode:n,isModal:r||!1,treeChildren:this.props.treeChildren})):null}}]),n}(r.PureComponent),OM=function(e){hM(n,e);var t=vM(n);function n(){var e;cM(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={filterWorking:!1,matchSelf:!1,keywords:null,dropDetail:null},e.offLocationChanged=void 0,e}return lM(n,[{key:"componentDidMount",value:function e(){var t=this,n,r=this.props.treeNode,o=r.pluginContext.project,i=r.filterReult,a=i.filterWorking,u=i.matchSelf,c=i.keywords,s=r.dropDetail;this.setState({filterWorking:a,matchSelf:u,keywords:c,dropDetail:s}),r.onFilterResultChanged((function(){var e=r.filterReult,n=e.filterWorking,o=e.matchSelf,i=e.keywords;t.setState({filterWorking:n,matchSelf:o,keywords:i})})),this.offLocationChanged=null===(n=o.currentDocument)||void 0===n?void 0:n.onDropLocationChanged((function(){t.setState({dropDetail:r.dropDetail})}))}},{key:"componentWillUnmount",value:function e(){this.offLocationChanged&&this.offLocationChanged()}},{key:"render",value:function e(){var t,n,r=this.props.isModal,o=[],i=[],a,u=this.state,c=u.filterWorking,s=u.matchSelf,l=u.keywords,f=this.props.treeNode.pluginContext.common.editorCabin.Title,p=function e(){var t;i.length>0&&(o.push(React.createElement("div",{key:a.id,className:"condition-group-container","data-id":null===(t=a.firstNode)||void 0===t?void 0:t.id},React.createElement("div",{className:"condition-group-title"},React.createElement(f,{title:a.title,match:c&&s,keywords:l})),i)),i=[])},h=this.state.dropDetail,d=null==h?void 0:h.index,v=React.createElement("div",{key:"insertion",className:Jo()("insertion",{invalid:!1===(null==h?void 0:h.valid)})});null===(t=this.props.treeChildren)||void 0===t||t.forEach((function(e,t){var n,u=(null===(n=e.node.componentMeta)||void 0===n?void 0:n.isModal)||!1;if(r==u){var c=e.node.conditionGroup;c!==a&&p(),c?(a=c,t===d&&(i.length>0?i.push(v):o.push(v)),i.push(React.createElement(IM,{key:e.id,treeNode:e,isModal:r}))):(t===d&&o.push(v),o.push(React.createElement(IM,{key:e.id,treeNode:e,isModal:r})))}})),p();var y=(null===(n=this.props.treeChildren)||void 0===n?void 0:n.length)||0;return null!=d&&d>=y&&o.push(v),React.createElement("div",{className:"tree-node-children"},o)}}]),n}(r.PureComponent),jM=function(e){hM(n,e);var t=vM(n);function n(){return cM(this,n),t.apply(this,arguments)}return lM(n,[{key:"render",value:function e(){var t,n,r=this.props.treeNode;if(!r.hasSlots())return null;var o=this.props.treeNode.pluginContext.common.editorCabin.Title;return React.createElement("div",{className:Jo()("tree-node-slots",{"insertion-at-slots":"slots"===(null===(t=r.dropDetail)||void 0===t||null===(n=t.focus)||void 0===n?void 0:n.type)}),"data-id":r.id},React.createElement("div",{className:"tree-node-slots-title"},React.createElement(o,{title:{type:"i18n",intl:this.props.treeNode.pluginContext.intlNode("Slots")}})),r.slots.map((function(e){return React.createElement(IM,{key:e.id,treeNode:e})})))}}]),n}(r.PureComponent);function SM(e){return(SM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PM(r.key),r)}}function _M(e,t,n){return t&&kM(e.prototype,t),n&&kM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function PM(e){var t=xM(e,"string");return"symbol"===SM(t)?t:String(t)}function xM(e,t){if("object"!==SM(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==SM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function NM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CM(e,t)}function CM(e,t){return(CM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function TM(e){var t=AM();return function n(){var r=MM(e),o;if(t){var i=MM(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return RM(this,o)}}function RM(e,t){if(t&&("object"===SM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return LM(e)}function LM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AM(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function MM(e){return(MM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var DM=function(e){NM(n,e);var t=TM(n);function n(e){var r,o;EM(this,n),(o=t.call(this,e)).modalNodesManager=void 0,o.pluginContext=void 0,o.pluginContext=e.treeNode.pluginContext;var i=o.pluginContext.project;return o.modalNodesManager=null===(r=i.currentDocument)||void 0===r?void 0:r.modalNodesManager,o.state={treeChildren:o.rootTreeNode.children},o}return _M(n,[{key:"hideAllNodes",value:function e(){var t;null===(t=this.modalNodesManager)||void 0===t||t.hideModalNodes()}},{key:"componentDidMount",value:function e(){var t=this,n=this.rootTreeNode;n.onExpandableChanged((function(){t.setState({treeChildren:n.children})}))}},{key:"rootTreeNode",get:function e(){var t,n=this.props.treeNode,r,o=null===(t=this.pluginContext.project.currentDocument)||void 0===t?void 0:t.root,i;return n.tree.getTreeNode(o)}},{key:"render",value:function e(){var t,n=this.rootTreeNode,r=n.expanded,o=!(null===(t=this.modalNodesManager)||void 0===t||!t.getVisibleModalNode());return React.createElement("div",{className:"tree-node-modal"},React.createElement("div",{className:"tree-node-modal-title"},React.createElement("span",null,this.pluginContext.intlNode("Modal View")),React.createElement("div",{className:"tree-node-modal-title-visible-icon",onClick:this.hideAllNodes.bind(this)},o?React.createElement(_A,null):null)),React.createElement("div",{className:"tree-pane-modal-content"},React.createElement(wM,{treeNode:n,treeChildren:this.state.treeChildren,expanded:r,isModal:!0})))}}]),n}(r.PureComponent),IM=function(e){NM(n,e);var t=TM(n);function n(e){var r,o;EM(this,n),(o=t.call(this,e)).state={expanded:!1,selected:!1,hidden:!1,locked:!1,detecting:!1,isRoot:!1,highlight:!1,dropping:!1,conditionFlow:!1,expandable:!1,treeChildren:[]},o.eventOffCallbacks=[];var i=o.props,a=i.treeNode,u=i.isRootNode;return o.state={expanded:!!u||a.expanded,selected:a.selected,hidden:a.hidden,locked:a.locked,detecting:a.detecting,isRoot:a.isRoot(),dropping:null!=(null===(r=a.dropDetail)||void 0===r?void 0:r.index),conditionFlow:null!=a.node.conditionGroup,highlight:a.isFocusingNode(),expandable:a.expandable,treeChildren:a.children},o}return _M(n,[{key:"componentDidMount",value:function e(){var t=this,n,r,o=this.props.treeNode,i,a=o.pluginContext.project.currentDocument;o.onExpandedChanged((function(e){t.setState({expanded:e})})),o.onHiddenChanged((function(e){t.setState({hidden:e})})),o.onLockedChanged((function(e){t.setState({locked:e})})),o.onExpandableChanged((function(e){t.setState({expandable:e,treeChildren:o.children})})),this.eventOffCallbacks.push(null==a?void 0:a.onDropLocationChanged((function(){var e;t.setState({dropping:null!=(null===(e=o.dropDetail)||void 0===e?void 0:e.index)})})));var u=null==a||null===(n=a.selection)||void 0===n?void 0:n.onSelectionChange((function(){t.setState({selected:o.selected})}));this.eventOffCallbacks.push(u);var c=null==a||null===(r=a.detecting)||void 0===r?void 0:r.onDetectingChange((function(){t.setState({detecting:o.detecting})}));this.eventOffCallbacks.push(c)}},{key:"componentWillUnmount",value:function e(){var t;null===(t=this.eventOffCallbacks)||void 0===t||t.forEach((function(e){e&&e()}))}},{key:"shouldShowModalTreeNode",value:function e(){var t,n,r=this.props,o=r.treeNode,i;if(!r.isRootNode)return!1;var a,u=null===(t=o.pluginContext.project.currentDocument)||void 0===t?void 0:t.root,c,s=null===(n=o.tree.getTreeNode(u).children)||void 0===n?void 0:n.filter((function(e){var t;return null===(t=e.node.componentMeta)||void 0===t?void 0:t.isModal}));return!!(s&&s.length>0)}},{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.isModal,o=t.isRootNode,i=Jo()("tree-node",{expanded:this.state.expanded,selected:this.state.selected,hidden:this.state.hidden,locked:this.state.locked,detecting:this.state.detecting,dropping:this.state.dropping,"is-root":this.state.isRoot,"condition-flow":this.state.conditionFlow,highlight:this.state.highlight}),a=this.shouldShowModalTreeNode(),u=n.filterReult,c=u.filterWorking,s=u.matchChild,l=u.matchSelf;return o||!c||s||l?React.createElement("div",{className:i,"data-id":n.id},React.createElement(nM,{treeNode:n,isModal:r,expanded:this.state.expanded,hidden:this.state.hidden,locked:this.state.locked,expandable:this.state.expandable}),a&&React.createElement(DM,{treeNode:n}),React.createElement(wM,{treeNode:n,isModal:!1,expanded:this.state.expanded,treeChildren:this.state.treeChildren})):null}}]),n}(r.PureComponent);function BM(e){return(BM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HM(r.key),r)}}function GM(e,t,n){return t&&FM(e.prototype,t),n&&FM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function HM(e){var t=UM(e,"string");return"symbol"===BM(t)?t:String(t)}function UM(e,t){if("object"!==BM(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==BM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function zM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WM(e,t)}function WM(e,t){return(WM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function $M(e){var t=KM();return function n(){var r=qM(e),o;if(t){var i=qM(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return XM(this,o)}}function XM(e,t){if(t&&("object"===BM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return YM(e)}function YM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KM(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function qM(e){return(qM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function JM(e,t){var n=e.target;return n&&t.contains(n)&&(n=n.closest("[data-id]"))&&t.contains(n)&&n.dataset.id||null}var ZM=function(e){zM(n,e);var t=$M(n);function n(){var e;VM(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).shell=null,e.ignoreUpSelected=!1,e.boostEvent=void 0,e.state={root:null},e.onClick=function(t){var n;if(e.ignoreUpSelected)e.boostEvent=void 0;else if(e.boostEvent&&Object(s.W)(e.boostEvent,t.nativeEvent))e.boostEvent=void 0;else{e.boostEvent=void 0;var r=e.getTreeNodeFromEvent(t);if(r){var o=r.node;if(Object(s.i)(o,t)){var i=e.props.tree.pluginContext,a=i.project,u=i.event,c=i.canvas,l=a.currentDocument,f=null==l?void 0:l.selection,p=null==l?void 0:l.focusNode,h=o.id,d=t.metaKey||t.ctrlKey||t.shiftKey;if(null===(n=c.activeTracker)||void 0===n||n.track(o),d&&p&&!o.contains(p)&&null!=f&&f.has(h))Object(s.F)(t.nativeEvent)||f.remove(h);else{var v,y,m;null==f||f.select(h);var b=null==f||null===(v=f.getNodes())||void 0===v?void 0:v[0],g=null==b||null===(y=b.componentMeta)||void 0===y?void 0:y.npm,w=[null==g?void 0:g.package,null==g?void 0:g.componentName].filter((function(e){return!!e})).join("-")||(null==b||null===(m=b.componentMeta)||void 0===m?void 0:m.componentName)||"";u.emit("outlinePane.select",{selected:w})}}}}},e.onDoubleClick=function(t){var n;t.preventDefault();var r=e.getTreeNodeFromEvent(t);(null==r?void 0:r.id)!==(null===(n=e.state.root)||void 0===n?void 0:n.id)&&(null!=r&&r.expanded?e.props.tree.collapseAllDecendants(r):e.props.tree.expandAllDecendants(r))},e.onMouseOver=function(t){e.hover(t)},e.onMouseDown=function(t){var n,r;if(!Object(s.F)(t.nativeEvent)){var o=e.getTreeNodeFromEvent(t);if(o){var i=o.node;if(Object(s.i)(i,t)){var a=e.props.tree.pluginContext,c=a.project,l=a.canvas,f=null===(n=c.currentDocument)||void 0===n?void 0:n.selection,p=null===(r=c.currentDocument)||void 0===r?void 0:r.focusNode,h=t.metaKey||t.ctrlKey||t.shiftKey,d;if(0===t.button&&p&&!i.contains(p)){var v,y=[i];if(e.ignoreUpSelected=!1,h){var m;if(null==f||!f.has(i.id))null===(m=l.activeTracker)||void 0===m||m.track(i),null==f||f.add(i.id),e.ignoreUpSelected=!0;null==f||f.remove(p.id),f&&(y=f.getTopNodes())}else null!=f&&f.has(i.id)&&(y=f.getTopNodes());e.boostEvent=t.nativeEvent,null===(v=l.dragon)||void 0===v||v.boost({type:u.f.Node,nodes:y},e.boostEvent)}}}}},e.onMouseLeave=function(){var t,n,r=e.props.tree.pluginContext.project.currentDocument;null==r||r.detecting.leave()},e}return GM(n,[{key:"hover",value:function e(t){var n,r,o,i=null===(n=this.props.tree.pluginContext.project.currentDocument)||void 0===n?void 0:n.detecting;if(null==i||!i.enable){var a=null===(r=this.getTreeNodeFromEvent(t))||void 0===r?void 0:r.node;null==i||i.capture(a)}}},{key:"getTreeNodeFromEvent",value:function e(t){if(this.shell){var n=JM(t,this.shell),r;if(n)return this.props.tree.getTreeNodeById(n)}}},{key:"componentDidMount",value:function e(){var t=this,n=this.props.tree,r=n.root,o=n.pluginContext.project;this.setState({root:r});var i=o.currentDocument;null==i||i.onFocusNodeChanged((function(){t.setState({root:n.root})}))}},{key:"render",value:function e(){var t=this,n;return this.state.root?React.createElement("div",{className:"lc-outline-tree",ref:function e(n){t.shell=n},onMouseDownCapture:this.onMouseDown,onMouseOver:this.onMouseOver,onClick:this.onClick,onDoubleClick:this.onDoubleClick,onMouseLeave:this.onMouseLeave},React.createElement(IM,{key:null===(n=this.state.root)||void 0===n?void 0:n.id,treeNode:this.state.root,isRootNode:!0})):null}}]),n}(r.PureComponent),QM=n(48),eD="CONDITION",tD="LOOP",nD="LOCKED",rD="HIDDEN",oD=[{value:eD,label:"Conditional rendering"},{value:tD,label:"Loop rendering"},{value:nD,label:"Locked"},{value:rD,label:"Hidden"}],iD=function e(t,n,r){if(!t||!t.node)return!1;if(!n&&0===r.length)return t.setFilterReult({filterWorking:!1,matchChild:!1,matchSelf:!1,keywords:""}),(t.children||[]).concat(t.slots||[]).forEach((function(t){e(t,n,r)})),!1;var o=t.node,i=0===r.length||!!r.find((function(e){switch(e){case eD:return o.hasCondition();case tD:return o.hasLoop();case nD:return t.locked;case rD:return t.hidden;default:return!1}})),a="string"==typeof t.titleLabel&&t.titleLabel.indexOf(n)>-1,u=t.isRoot()||i&&a,c=!!(t.children||[]).concat(t.slots||[]).map((function(t){return e(t,n,r)})).find(Boolean);return t.setFilterReult({filterWorking:!0,matchChild:c,matchSelf:u,keywords:n}),u||c};function aD(e){return(aD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lD(r.key),r)}}function sD(e,t,n){return t&&cD(e.prototype,t),n&&cD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lD(e){var t=fD(e,"string");return"symbol"===aD(t)?t:String(t)}function fD(e,t){if("object"!==aD(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==aD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function pD(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hD(e,t)}function hD(e,t){return(hD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function dD(e){var t=mD();return function n(){var r=bD(e),o;if(t){var i=bD(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return vD(this,o)}}function vD(e,t){if(t&&("object"===aD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yD(e)}function yD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mD(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function bD(e){return(bD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var gD=function(e){pD(n,e);var t=dD(n);function n(){var e;uD(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={keywords:"",filterOps:[]},e.handleSearchChange=function(t){e.setState({keywords:t.trim()},e.filterTree)},e.handleOptionChange=function(t){e.setState({filterOps:t},e.filterTree)},e.handleCheckAll=function(){var t,n=e.state.filterOps.length===oD.length?[]:oD.map((function(e){return e.value}));e.handleOptionChange(n)},e}return sD(n,[{key:"filterTree",value:function e(){var t=this.props.tree,n=this.state,r=n.keywords,o=n.filterOps;iD(t.root,r,o)}},{key:"render",value:function e(){var t=this,n=this.state,r=n.keywords,i=n.filterOps,a=i.length>0&&i.length<oD.length,u=i.length===oD.length;return o.a.createElement("div",{className:"lc-outline-filter"},o.a.createElement(Ni.Search,{hasClear:!0,shape:"simple",placeholder:this.props.tree.pluginContext.intl("Filter Node"),className:"lc-outline-filter-search-input",value:r,onChange:this.handleSearchChange}),o.a.createElement(Ni.Balloon,{v2:!0,align:"br",closable:!1,triggerType:"hover",trigger:o.a.createElement("div",{className:"lc-outline-filter-icon"},o.a.createElement(CA,null))},o.a.createElement(Ni.Checkbox,{checked:u,indeterminate:a,onChange:this.handleCheckAll},this.props.tree.pluginContext.intlNode("Check All")),o.a.createElement(Ni.Divider,null),o.a.createElement(Ni.Checkbox.Group,{value:i,direction:"ver",onChange:this.handleOptionChange},oD.map((function(e){return o.a.createElement(Ni.Checkbox,{id:e.value,value:e.value,key:e.value},t.props.tree.pluginContext.intlNode(e.label))})))))}}]),n}(r.PureComponent);function wD(e){return(wD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ED(r.key),r)}}function SD(e,t,n){return t&&jD(e.prototype,t),n&&jD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ED(e){var t=kD(e,"string");return"symbol"===wD(t)?t:String(t)}function kD(e,t){if("object"!==wD(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PD(e,t)}function PD(e,t){return(PD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function xD(e){var t=TD();return function n(){var r=RD(e),o;if(t){var i=RD(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ND(this,o)}}function ND(e,t){if(t&&("object"===wD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return CD(e)}function CD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TD(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function RD(e){return(RD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var LD=function(e){_D(n,e);var t=xD(n);function n(e){var r,o,i;OD(this,n),(i=t.call(this,e)).controller=void 0,i.dispose=void 0;var a=e.controller,u=e.treeMaster;return i.controller=a,i.state={tree:u.currentTree},i.dispose=null===(r=i.props.treeMaster.pluginContext)||void 0===r||null===(o=r.project)||void 0===o?void 0:o.onSimulatorRendererReady((function(){i.setState({tree:i.props.treeMaster.currentTree})})),i}return SD(n,[{key:"componentWillUnmount",value:function e(){this.controller.purge(),this.dispose&&this.dispose()}},{key:"render",value:function e(){var t=this,n=this.state.tree;return n?o.a.createElement("div",{className:"lc-outline-pane"},!this.props.hideFilter&&o.a.createElement(gD,{tree:n}),o.a.createElement("div",{ref:function e(n){return t.controller.mount(n)},className:"lc-outline-tree-container ".concat(this.props.hideFilter?"lc-hidden-outline-filter":"")},o.a.createElement(ZM,{key:n.id,tree:n}))):o.a.createElement("div",{className:"lc-outline-pane"},o.a.createElement("p",{className:"lc-outline-notice"},o.a.createElement(Ni.Loading,{style:{display:"block",marginTop:"40px"},tip:this.props.treeMaster.pluginContext.intl("Initializing")})))}}]),n}(r.PureComponent);function AD(){return(AD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function MD(e){return React.createElement(s.f,AD({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M128 96h512a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H128a64 64 0 0 1-64-64V160a64 64 0 0 1 64-64z m32 64a32 32 0 1 0 0 64h448a32 32 0 0 0 0-64H160z m224 576h512a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H384a64 64 0 0 1-64-64v-64a64 64 0 0 1 64-64z m32 64a32 32 0 0 0 0 64h448a32 32 0 0 0 0-64H416z m-32-384h512a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H384a64 64 0 0 1-64-64v-64a64 64 0 0 1 64-64z m32 64a32 32 0 0 0 0 64h448a32 32 0 0 0 0-64H416z"}))}MD.displayName="IconOutline";var DD="outline-backup-pane",ID="outline-master-pane",BD=n(9),VD=n.n(BD),FD;function GD(e){return(GD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WD(r.key),r)}}function zD(e,t,n){return t&&UD(e.prototype,t),n&&UD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function WD(e){var t=$D(e,"string");return"symbol"===GD(t)?t:String(t)}function $D(e,t){if("object"!==GD(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==GD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}!function(e){e.filterResultChanged="filterResultChanged",e.expandedChanged="expandedChanged",e.hiddenChanged="hiddenChanged",e.lockedChanged="lockedChanged",e.titleLabelChanged="titleLabelChanged",e.expandableChanged="expandableChanged",e.conditionChanged="conditionChanged"}(FD||(FD={}));var XD=function(){function e(t,n){HD(this,e),this.pluginContext=void 0,this.event=new VD.a,this._node=void 0,this.tree=void 0,this._filterResult={filterWorking:!1,matchChild:!1,matchSelf:!1,keywords:""},this._expanded=!1,this.tree=t,this.pluginContext=t.pluginContext,this._node=n}return zD(e,[{key:"id",get:function e(){return this.node.id}},{key:"expandable",get:function e(){var t;return!this.locked&&(this.hasChildren()||this.hasSlots()||null!=(null===(t=this.dropDetail)||void 0===t?void 0:t.index))}},{key:"expanded",get:function e(){return this.isRoot(!0)||this.expandable&&this._expanded}},{key:"dropDetail",get:function e(){var t,n=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.dropLocation;return n&&this.isResponseDropping()&&Object(s.K)(n.detail)?n.detail:null}},{key:"depth",get:function e(){return this.node.zLevel}},{key:"detecting",get:function e(){var t=this.pluginContext.project.currentDocument;return!(null==t||!t.isDetectingNode(this.node))}},{key:"hidden",get:function e(){var t=this.node.isConditionalVisible();return null==t?!this.node.visible:!t}},{key:"locked",get:function e(){return this.node.isLocked}},{key:"selected",get:function e(){var t,n=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.selection;return!!n&&(null==n?void 0:n.has(this.node.id))}},{key:"title",get:function e(){return this.node.title}},{key:"titleLabel",get:function e(){var t=this.title,n,r;return t?(t.label&&(t=t.label),"string"==typeof t?t:Object(s.G)(t)?t[this.pluginContext.getLocale()]:this.node.componentName):""}},{key:"icon",get:function e(){var t;return null===(t=this.node.componentMeta)||void 0===t?void 0:t.icon}},{key:"parent",get:function e(){var t=this.node.parent;return t?this.tree.getTreeNode(t):null}},{key:"slots",get:function e(){var t=this;return this.node.slots.map((function(e){return t.tree.getTreeNode(e)}))}},{key:"condition",get:function e(){return this.node.hasCondition()&&!this.node.conditionGroup}},{key:"children",get:function e(){var t,n=this;return(null===(t=this.node.children)||void 0===t?void 0:t.map((function(e){return n.tree.getTreeNode(e)})))||null}},{key:"node",get:function e(){return this._node}},{key:"setLocked",value:function e(t){this.node.lock(t),this.event.emit(FD.lockedChanged,t)}},{key:"onFilterResultChanged",value:function e(t){var n=this;return this.event.on(FD.filterResultChanged,t),function(){n.event.off(FD.filterResultChanged,t)}}},{key:"onExpandedChanged",value:function e(t){var n=this;return this.event.on(FD.expandedChanged,t),function(){n.event.off(FD.expandedChanged,t)}}},{key:"onHiddenChanged",value:function e(t){var n=this;return this.event.on(FD.hiddenChanged,t),function(){n.event.off(FD.hiddenChanged,t)}}},{key:"onLockedChanged",value:function e(t){var n=this;return this.event.on(FD.lockedChanged,t),function(){n.event.off(FD.lockedChanged,t)}}},{key:"onTitleLabelChanged",value:function e(t){var n=this;return this.event.on(FD.titleLabelChanged,t),function(){n.event.off(FD.titleLabelChanged,t)}}},{key:"onConditionChanged",value:function e(t){var n=this;return this.event.on(FD.conditionChanged,t),function(){n.event.off(FD.conditionChanged,t)}}},{key:"onExpandableChanged",value:function e(t){var n=this;return this.event.on(FD.expandableChanged,t),function(){n.event.off(FD.expandableChanged,t)}}},{key:"notifyExpandableChanged",value:function e(){this.event.emit(FD.expandableChanged,this.expandable)}},{key:"notifyTitleLabelChanged",value:function e(){this.event.emit(FD.titleLabelChanged,this.title)}},{key:"notifyConditionChanged",value:function e(){this.event.emit(FD.conditionChanged,this.condition)}},{key:"setHidden",value:function e(t){this.node.conditionGroup||(this.node.visible=!t,this.event.emit(FD.hiddenChanged,t))}},{key:"isFocusingNode",value:function e(){var t,n,r,o,i=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.dropLocation;return!!i&&(Object(s.K)(i.detail)&&"node"===(null===(n=i.detail.focus)||void 0===n?void 0:n.type)&&(null===(r=i.detail)||void 0===r||null===(o=r.focus)||void 0===o?void 0:o.node.id)===this.id)}},{key:"setExpanded",value:function e(t){this._expanded=t,this.event.emit(FD.expandedChanged,t)}},{key:"isRoot",value:function e(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.root;return this.tree.root===this||n&&r===this.node}},{key:"isResponseDropping",value:function e(){var t,n,r=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.dropLocation;return!!r&&(null===(n=r.target)||void 0===n?void 0:n.id)===this.id}},{key:"setTitleLabel",value:function e(t){var n;if(t!==this.titleLabel){var r,o;if(""===t)null===(r=this.node.getExtraProp("title",!1))||void 0===r||r.remove();else null===(o=this.node.getExtraProp("title",!0))||void 0===o||o.setValue(t);this.event.emit(FD.titleLabelChanged,this)}}},{key:"isContainer",value:function e(){return this.node.isContainerNode}},{key:"hasSlots",value:function e(){return this.node.hasSlots()}},{key:"hasChildren",value:function e(){var t;return!(!this.isContainer()||null===(t=this.node.children)||void 0===t||!t.notEmptyNode)}},{key:"select",value:function e(t){var n,r=this.node,o=null===(n=this.pluginContext.project.getCurrentDocument())||void 0===n?void 0:n.selection;t?null==o||o.add(r.id):null==o||o.select(r.id)}},{key:"expand",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.expandable&&!this._expanded&&this.setExpanded(!0),t&&this.expandParents()}},{key:"expandParents",value:function e(){for(var t=this.node.parent;t;)this.tree.getTreeNode(t).setExpanded(!0),t=t.parent}},{key:"setNode",value:function e(t){this._node!==t&&(this._node=t)}},{key:"filterReult",get:function e(){return this._filterResult}},{key:"setFilterReult",value:function e(t){this._filterResult=t,this.event.emit(FD.filterResultChanged)}}]),e}();function YD(e){return(YD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZD(r.key),r)}}function JD(e,t,n){return t&&qD(e.prototype,t),n&&qD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZD(e){var t=QD(e,"string");return"symbol"===YD(t)?t:String(t)}function QD(e,t){if("object"!==YD(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==YD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var eI=function(){function e(t){var n=this;KD(this,e),this.treeNodesMap=new Map,this.id=void 0,this.pluginContext=void 0,this.treeMaster=void 0,this.treeMaster=t,this.pluginContext=t.pluginContext;var r=this.pluginContext.project.currentDocument;this.id=null==r?void 0:r.id,null==r||r.onChangeNodeChildren((function(e){var t=e.node,r=n.getTreeNodeById(t.id);null==r||r.notifyExpandableChanged()})),null==r||r.onChangeNodeProp((function(e){var t=e.node,r=e.key;if("___title___"===r){var o=n.getTreeNodeById(t.id);null==o||o.notifyTitleLabelChanged()}else if("___condition___"===r){var i=n.getTreeNodeById(t.id);null==i||i.notifyConditionChanged()}}))}return JD(e,[{key:"root",get:function e(){var t;return null!==(t=this.pluginContext.project.currentDocument)&&void 0!==t&&t.focusNode?this.getTreeNode(this.pluginContext.project.currentDocument.focusNode):null}},{key:"setNodeSelected",value:function e(t){var n=this.treeNodesMap.get(t);n&&this.expandAllAncestors(n)}},{key:"getTreeNode",value:function e(t){if(this.treeNodesMap.has(t.id)){var n=this.treeNodesMap.get(t.id);return n.setNode(t),n}var r=new XD(this,t);return this.treeNodesMap.set(t.id,r),r}},{key:"getTreeNodeById",value:function e(t){return this.treeNodesMap.get(t)}},{key:"expandAllAncestors",value:function e(t){if(t&&!t.isRoot()){for(var n=[],r=t;!t.isRoot();){var o;if(!(r=null===(o=r)||void 0===o?void 0:o.parent))break;n.unshift(r)}n.forEach((function(e){e.setExpanded(!0)}))}}},{key:"expandAllDecendants",value:function e(t){var n=this;if(t){t.setExpanded(!0);var r=t&&t.children;r&&r.forEach((function(e){n.expandAllDecendants(e)}))}}},{key:"collapseAllDecendants",value:function e(t){var n=this;if(t){t.setExpanded(!1);var r=t&&t.children;r&&r.forEach((function(e){n.collapseAllDecendants(e)}))}}}]),e}(),tI=n(49),nI=n(50),rI;function oI(e){return(oI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cI(r.key),r)}}function uI(e,t,n){return t&&aI(e.prototype,t),n&&aI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cI(e){var t=sI(e,"string");return"symbol"===oI(t)?t:String(t)}function sI(e,t){if("object"!==oI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==oI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}!function(e){e.pluginContextChanged="pluginContextChanged"}(rI||(rI={}));var lI=function(){function e(t,n){var r=this;iI(this,e),this.options=void 0,this.pluginContext=void 0,this.boards=new Set,this.treeMap=new Map,this.disposeEvents=[],this.event=new VD.a,this.options=n,this.setPluginContext(t);var o=this.pluginContext.workspace,i;(this.initEvent(),t.registerLevel===u.g.Workspace)&&(this.setPluginContext(null===(i=o.window)||void 0===i?void 0:i.currentEditorView),o.onWindowRendererReady((function(){var e,t;r.setPluginContext(null===(e=o.window)||void 0===e?void 0:e.currentEditorView);var n=function e(){var n;t=null===(n=o.window)||void 0===n?void 0:n.onChangeViewType((function(){var e;r.setPluginContext(null===(e=o.window)||void 0===e?void 0:e.currentEditorView)}))};n(),o.onChangeActiveWindow((function(){var e;n(),r.setPluginContext(null===(e=o.window)||void 0===e?void 0:e.currentEditorView),t&&t()}))})))}return uI(e,[{key:"setPluginContext",value:function e(t){if(t){var n=t.common.utils.createIntl({"en-US":tI,"zh-CN":nI}),r=n.intl,o=n.intlNode,i=n.getLocale,a=Object.assign(t,{intl:r,intlNode:o,getLocale:i});a.extraTitle=this.options&&this.options.extraTitle,this.pluginContext=a,this.disposeEvent(),this.initEvent(),this.emitPluginContextChange()}}},{key:"disposeEvent",value:function e(){this.disposeEvents.forEach((function(e){e&&e()}))}},{key:"initEvent",value:function e(){var t,n=this,r,o,i,a=this.pluginContext,u=a.event,c=a.project,l=a.canvas;this.disposeEvents=[null===(t=l.dragon)||void 0===t?void 0:t.onDragstart((function(){i=Date.now()/1e3,n.toVision()})),null===(r=l.activeTracker)||void 0===r?void 0:r.onChange((function(e){var t=e.node,r=e.detail,o=n.currentTree;if(o){var i=o.getTreeNode(t);r&&Object(s.K)(r)?i.expand(!0):i.expandParents(),n.boards.forEach((function(e){e.scrollToNode(i,r)}))}})),null===(o=l.dragon)||void 0===o?void 0:o.onDragend((function(){var e,t,n=Date.now()/1e3,r=null===(e=c.currentDocument)||void 0===e||null===(t=e.selection)||void 0===t?void 0:t.getNodes();u.emit("outlinePane.dragend",{selected:null==r?void 0:r.map((function(e){var t,n;if(e){var r=null==e||null===(t=e.componentMeta)||void 0===t?void 0:t.npm;return[null==r?void 0:r.package,null==r?void 0:r.componentName].filter((function(e){return!!e})).join("-")||(null==e||null===(n=e.componentMeta)||void 0===n?void 0:n.componentName)}})).join("&"),time:(n-i).toFixed(2)})})),c.onRemoveDocument((function(e){var t=e.id;n.treeMap.delete(t)}))]}},{key:"toVision",value:function e(){var t=this.currentTree;if(t){var n,r=null===(n=this.pluginContext.project.getCurrentDocument())||void 0===n?void 0:n.selection;null==r||r.getTopNodes().forEach((function(e){t.getTreeNode(e).setExpanded(!1)}))}}},{key:"addBoard",value:function e(t){this.boards.add(t)}},{key:"removeBoard",value:function e(t){this.boards.delete(t)}},{key:"purge",value:function e(){}},{key:"onPluginContextChange",value:function e(t){this.event.on(rI.pluginContextChanged,t)}},{key:"emitPluginContextChange",value:function e(){this.event.emit(rI.pluginContextChanged)}},{key:"currentTree",get:function e(){var t=this.pluginContext.project.getCurrentDocument();if(t){var n=t.id;if(this.treeMap.has(n))return this.treeMap.get(n);var r=new eI(this);return this.treeMap.set(n,r),r}return null}}]),e}();function fI(e){return(fI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vI(r.key),r)}}function dI(e,t,n){return t&&hI(e.prototype,t),n&&hI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vI(e){var t=yI(e,"string");return"symbol"===fI(t)?t:String(t)}function yI(e,t){if("object"!==fI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==fI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var mI=15,bI=function(){function e(){pI(this,e),this.indentStart=null}return dI(e,[{key:"reset",value:function e(){this.indentStart=null}},{key:"getIndentParent",value:function e(t,n){if(t.target!==n.target||!Object(s.K)(t.detail)||!Object(s.K)(n.detail)||t.source!==n.source||t.detail.index!==n.detail.index||null==n.detail.index)return this.indentStart=null,null;null==this.indentStart&&(this.indentStart=t.event.globalX);var r=n.event.globalX-this.indentStart,o;if(Math.floor(Math.abs(r)/15)<1)return null;this.indentStart=n.event.globalX;var i=r<0?"left":"right",a=n.target,u=n.detail.index,c,l,f;return"left"===i?!a.parent||u<((null===(c=a.children)||void 0===c?void 0:c.size)||0)||a.isSlotNode?null:[a.parent,a.index+1]:0===u?null:(a=null===(l=a.children)||void 0===l?void 0:l.get(u-1))&&a.isContainerNode?[a,null===(f=a.children)||void 0===f?void 0:f.size]:null}}]),e}();function gI(e){return(gI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SI(r.key),r)}}function jI(e,t,n){return t&&OI(e.prototype,t),n&&OI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function SI(e){var t=EI(e,"string");return"symbol"===gI(t)?t:String(t)}function EI(e,t){if("object"!==gI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==gI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var kI=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;wI(this,e),this.timer=void 0,this.previous=void 0,this.event=void 0,this.decide=void 0,this.timeout=500,this.decide=t,this.timeout=n}return jI(e,[{key:"focus",value:function e(t,n){var r=this;this.event=n,this.previous!==t&&(this.reset(),this.previous=t,this.timer=setTimeout((function(){r.previous&&r.decide(r.previous,r.event),r.reset()}),this.timeout))}},{key:"tryFocus",value:function e(t){var n;t&&Object(s.K)(t.detail)&&"node"===(null===(n=t.detail.focus)||void 0===n?void 0:n.type)?this.focus(t.detail.focus.node,t.event):this.reset()}},{key:"reset",value:function e(){this.timer&&(clearTimeout(this.timer),this.timer=void 0),this.previous=void 0}}]),e}();function _I(e){return(_I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PI(e,t){return RI(e)||TI(e,t)||NI(e,t)||xI()}function xI(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function NI(e,t){if(e){if("string"==typeof e)return CI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?CI(e,t):void 0}}function CI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TI(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function RI(e){if(Array.isArray(e))return e}function LI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DI(r.key),r)}}function MI(e,t,n){return t&&AI(e.prototype,t),n&&AI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function DI(e){var t=II(e,"string");return"symbol"===_I(t)?t:String(t)}function II(e,t){if("object"!==_I(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var BI=function(){function e(t,n){var r=this;LI(this,e),this.pluginContext=void 0,this.treeMaster=void 0,this.id=Object(s.cb)("outline"),this.indentTrack=new bI,this._sensorAvailable=!1,this.dwell=new kI((function(e,t){var n=r.pluginContext,o=n.canvas,i,a=n.project.getCurrentDocument(),c,s,l=!0;e.hasSlots()?(c=null,s={type:"slots"}):(c=0,l=!(null==a||!a.checkNesting(e,t.dragObject))),o.createLocation({target:e,source:r.id,event:t,detail:{type:u.j.Children,index:c,focus:s,valid:l}})})),this.at=void 0,this.tryScrollAgain=null,this.sensing=!1,this._scrollTarget=void 0,this.scroller=void 0,this._shell=null,this.pluginContext=n.pluginContext,this.treeMaster=n,this.at=t;var o=!1,i;(function e(){var t,n;if(o)return!1;o=!0,null===(t=r.treeMaster)||void 0===t||t.addBoard(r);var i=r.pluginContext.canvas;null===(n=i.dragon)||void 0===n||n.addSensor(r),r.scroller=i.createScroller(r)})()}return MI(e,[{key:"sensorAvailable",get:function e(){return this._sensorAvailable}},{key:"bounds",get:function e(){return this._shell?this._shell.getBoundingClientRect():null}},{key:"scrollTarget",get:function e(){return this._scrollTarget}},{key:"fixEvent",value:function e(t){var n;if(t.fixed)return t;var r=(null===(n=t.originalEvent.view)||void 0===n?void 0:n.document)!==document;return t.target&&!r||(t.target=document.elementFromPoint(t.canvasX,t.canvasY)),t.documentModel=this.pluginContext.project.getCurrentDocument(),t.fixed=!0,t}},{key:"locate",value:function e(t){var n,r,o,i;this.sensing=!0,null===(n=this.scroller)||void 0===n||n.scrolling(t);var a=t.globalY,c=t.dragObject,l=null==c?void 0:c.nodes,f=null===(r=this.treeMaster)||void 0===r?void 0:r.currentTree;if(!f||!f.root||!this._shell)return null;var p=null==l?void 0:l.filter((function(e){var t,n,r=null===(t=e.componentMeta)||void 0===t||null===(n=t.advanced.callbacks)||void 0===n?void 0:n.onMoveHook,o;return!r||"function"!=typeof r||r(e)}));if(!Object(s.C)(c)||p&&0!==p.length){var h=this.pluginContext,d=h.project,v=h.canvas,y=d.getCurrentDocument(),m=FI(t,this._shell),b=this.getInsertionRect(),g=null==y?void 0:y.dropLocation,w=null!==(o=t.dragObject)&&void 0!==o&&o.nodes?t.dragObject.nodes[0].componentMeta:null;if("node"===(null===(i=t.dragObject)||void 0===i?void 0:i.type)&&w&&w.isModal&&null!=y&&y.focusNode)return v.createLocation({target:null==y?void 0:y.focusNode,detail:{type:u.j.Children,index:0,valid:!0},source:this.id,event:t});if(!(g&&(m&&"unchanged"===m||b&&a>=b.top&&a<=b.bottom)&&c)){if(this.indentTrack.reset(),m&&"unchanged"!==m){var O=f.getTreeNodeById(m.nodeId);if(O){var j=m.focusSlots,S,E=O.node;if(Object(s.C)(c)){for(var k=p,_=null==k?void 0:k.length,P=E;_-- >0;)k[_].contains(P)&&(P=k[_].parent);P!==E&&(E=P||(null==y?void 0:y.focusNode),O=f.getTreeNode(E),j=!1)}if(j)return this.dwell.reset(),v.createLocation({target:E,source:this.id,event:t,detail:{type:u.j.Children,index:null,valid:!1,focus:{type:"slots"}}});if(!O.isRoot()){var x=this.getNear(O,t);return this.dwell.tryFocus(x),x}}}var N=this.drillLocate(f.root,t);return this.dwell.tryFocus(N),N}var C=g.clone(t),T=this.indentTrack.getIndentParent(g,C);if(T){var R=PI(T,2),L=R[0],A=R[1];if(VI(L,c)){if(f.getTreeNode(L).expanded)return this.dwell.reset(),v.createLocation({target:L,source:this.id,event:t,detail:{type:u.j.Children,index:A,valid:null==y?void 0:y.checkNesting(L,t.dragObject)}});g.detail.focus={type:"node",node:L},this.dwell.focus(L,t)}else this.dwell.reset()}else g.detail.near&&(g.detail.near=void 0,this.dwell.reset())}}},{key:"isEnter",value:function e(t){if(!this._shell)return!1;var n=this._shell.getBoundingClientRect();return t.globalY>=n.top&&t.globalY<=n.bottom&&t.globalX>=n.left&&t.globalX<=n.right}},{key:"deactiveSensor",value:function e(){var t;this.sensing=!1,null===(t=this.scroller)||void 0===t||t.cancel(),this.dwell.reset(),this.indentTrack.reset()}},{key:"scrollToNode",value:function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i;if(o<1&&this.tryScrollAgain&&(Object(rs.cancelIdleCallback)(this.tryScrollAgain),this.tryScrollAgain=null),this.bounds&&this.scroller&&this.scrollTarget)if(i=n&&Object(s.K)(n)?this.getInsertionRect():this.getTreeNodeRect(t)){var a=this.scrollTarget,u=a.scrollHeight,c=a.top,l=this.bounds,f=l.height,p=l.top,h=l.bottom;if(i.top<p||i.bottom>h){var d={};d.top=Math.min(i.top+i.height/2+c-p-f/2,u-f),i.height>=f&&(d.top=Math.min(c+i.top-p,d.top)),this.scroller.scrollTo(d)}o<4&&(this.tryScrollAgain=os()((function(){return r.scrollToNode(t,n,4)})))}else o<3&&(this.tryScrollAgain=os()((function(){return r.scrollToNode(t,n,o+1)})))}},{key:"getNear",value:function e(t,n,r,o){var i=this.pluginContext,a=i.canvas,c,s=i.project.getCurrentDocument(),l=n.globalY,f=n.dragObject;if(!f)return null;var p=t.node,h=t.expanded,d=o;if(!d&&!(d=this.getTreeNodeRect(t)))return null;var v=r,y;if(null==v&&(v=p.index),p.isSlotNode){if(!t.isContainer()&&!t.hasSlots())return a.createLocation({target:p.parent,source:this.id,event:n,detail:{type:u.j.Children,index:null,near:{node:p,pos:"replace"},valid:!0}});var m=this.drillLocate(t,n);return m||a.createLocation({target:p.parent,source:this.id,event:n,detail:{type:u.j.Children,index:null,valid:!1,focus:{type:"slots"}}})}h||!t.isContainer()&&!t.hasSlots()||(y=p);var b=this.getTreeTitleRect(t)||d;if(l<b.top+b.height/2)return a.createLocation({target:p.parent,source:this.id,event:n,detail:{type:u.j.Children,index:v,valid:null==s?void 0:s.checkNesting(p.parent,f),near:{node:p,pos:"before"},focus:VI(y,f)?{type:"node",node:y}:void 0}});if(l>b.bottom&&(y=void 0),h){var g=this.drillLocate(t,n);if(g)return g}return a.createLocation({target:p.parent,source:this.id,event:n,detail:{type:u.j.Children,index:(v||0)+1,valid:null==s?void 0:s.checkNesting(p.parent,f),near:{node:p,pos:"after"},focus:VI(y,f)?{type:"node",node:y}:void 0}})}},{key:"drillLocate",value:function e(t,n){var r=this.pluginContext,o=r.canvas,i,a=r.project.getCurrentDocument(),c=n.dragObject,l=n.globalY;if(!c)return null;if(!VI(t.node,c))return null;if(Object(s.A)(c))return null;var f=t.node,p={type:u.j.Children},h={target:f,detail:p,source:this.id,event:n},d=t.hasSlots(),v=t.isContainer();f.isSlotNode&&!t.expanded&&(d?(p.index=null,p.focus={type:"slots"},p.valid=!1):(p.index=0,p.valid=null==a?void 0:a.checkNesting(f,c)));var y=null,m,b=!1;if(d&&(m=this.getTreeSlotsRect(t)))if(l<=m.bottom)b=!0,y=t.slots;else if(!v)return p.index=null,p.focus={type:"slots"},p.valid=!1,o.createLocation(h);if(!y&&v&&(y=t.children),!y)return null;for(var g=y.length,w=0,O=g<1,j,S=w;w<g;w++){j=y[w],S=w;var E=this.getTreeNodeRect(j);if(E){if(l<E.top){O=!0;break}if(!(l>E.bottom)){var k=this.getNear(j,n,w,E);if(k)return k}}}return b?(p.focus={type:"slots"},p.valid=!1,p.index=null):(j?(p.index=O?S:S+1,p.near={node:j.node,pos:O?"before":"after"}):p.index=g,p.valid=null==a?void 0:a.checkNesting(f,c)),o.createLocation(h)}},{key:"purge",value:function e(){var t,n,r;null===(t=this.pluginContext.canvas.dragon)||void 0===t||t.removeSensor(this),null===(n=this.treeMaster)||void 0===n||n.removeBoard(this)}},{key:"mount",value:function e(t){var n=this;if(this._shell!==t){this._shell=t;var r=this.pluginContext,o=r.canvas,i=r.project;if(t){var a,u;this._scrollTarget=o.createScrollTarget(t),this._sensorAvailable=!0;var c=null===(a=i.currentDocument)||void 0===a?void 0:a.selection,s=null==c?void 0:c.getTopNodes(!0),l=null===(u=this.treeMaster)||void 0===u?void 0:u.currentTree;if(s&&s[0]&&l){var f=l.getTreeNodeById(s[0].id);f&&setTimeout((function(){l.setNodeSelected(f.id),n.scrollToNode(f,null,4)}),0)}}else this._scrollTarget=void 0,this._sensorAvailable=!1}}},{key:"getInsertionRect",value:function e(){var t;if(this._shell)return null===(t=this._shell.querySelector(".insertion"))||void 0===t?void 0:t.getBoundingClientRect()}},{key:"getTreeNodeRect",value:function e(t){var n;if(this._shell)return null===(n=this._shell.querySelector('.tree-node[data-id="'.concat(t.id,'"]')))||void 0===n?void 0:n.getBoundingClientRect()}},{key:"getTreeTitleRect",value:function e(t){var n;if(this._shell)return null===(n=this._shell.querySelector('.tree-node-title[data-id="'.concat(t.id,'"]')))||void 0===n?void 0:n.getBoundingClientRect()}},{key:"getTreeSlotsRect",value:function e(t){var n;if(this._shell)return null===(n=this._shell.querySelector('.tree-node-slots[data-id="'.concat(t.id,'"]')))||void 0===n?void 0:n.getBoundingClientRect()}}]),e}();function VI(e,t){if(!e)return!1;var n;if(Object(s.C)(t)&&t.nodes.some((function(t){return t.contains(e)})))return!1;return!0}function FI(e,t){var n=e.target;if(!n||!t.contains(n))return null;if(n.matches(".insertion"))return"unchanged";var r=n.closest("[data-id]");if(!r||!t.contains(r))return null;var o=r.dataset.id;return{focusSlots:r.matches(".tree-node-slots"),nodeId:o}}function GI(e){return(GI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HI(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */HI=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==GI(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,k.prototype={constructor:k,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function UI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UI(Object(n),!0).forEach((function(t){WI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function WI(e,t,n){return(t=$I(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $I(e){var t=XI(e,"string");return"symbol"===GI(t)?t:String(t)}function XI(e,t){if("object"!==GI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==GI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function YI(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function KI(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){YI(i,r,o,a,u,"next",e)}function u(e){YI(i,r,o,a,u,"throw",e)}a(void 0)}))}}function qI(){return(qI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function JI(e,t){return nB(e)||tB(e,t)||QI(e,t)||ZI()}function ZI(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function QI(e,t){if(e){if("string"==typeof e)return eB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eB(e,t):void 0}}function eB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tB(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function nB(e){if(Array.isArray(e))return e}function rB(e){var t=e.treeMaster||new lI(e.pluginContext,e.options),n,o=JI(Object(r.useState)(new BI(e.paneName||ID,t)),2),i=o[0],a=o[1];return t.onPluginContextChange((function(){a(new BI(e.paneName||ID,t))})),React.createElement(LD,qI({treeMaster:t,controller:i,key:i.id,hideFilter:e.hideFilter},e))}var oB=function e(t,n){var r=t.skeleton,o=t.config,i=t.canvas,a=t.project,u=!0,c;o.getPreference().contains("outline-pane-pinned-status-isFloat","skeleton")&&(u=o.getPreference().get("outline-pane-pinned-status-isFloat","skeleton"));var s={masterPane:!1,backupPane:!1},l=new lI(t,n);return{init:function e(){return KI(HI().mark((function e(){var t,n,c;return HI().wrap((function e(f){for(;;)switch(f.prev=f.next){case 0:r.add({area:"leftArea",name:"outlinePane",type:"PanelDock",index:-1,content:{name:ID,props:{icon:MD,description:l.pluginContext.intlNode("Outline Tree")},content:rB},panelProps:zI({area:u?"leftFloatArea":"leftFixedArea",keepVisibleWhileDragging:!0},o.get("defaultOutlinePaneProps")),contentProps:{treeTitleExtra:o.get("treeTitleExtra"),treeMaster:l,paneName:ID}}),r.add({area:"rightArea",name:DD,type:"Panel",props:{hiddenWhenInit:!0},content:rB,contentProps:{paneName:DD,treeMaster:l}}),c=function e(){var t,n=null===(t=i.dragon)||void 0===t?void 0:t.dragging,o=s.backupPane||s.masterPane,a;n&&!o?r.showPanel(DD):r.hidePanel(DD)},null===(t=i.dragon)||void 0===t||t.onDragstart((function(){c()})),null===(n=i.dragon)||void 0===n||n.onDragend((function(){c()})),r.onShowPanel((function(e){e===ID&&(s.masterPane=!0),e===DD&&(s.backupPane=!0)})),r.onHidePanel((function(e){e===ID&&(s.masterPane=!1,c()),e===DD&&(s.backupPane=!1)})),a.onChangeDocument((function(e){if(e){var t=e.selection;null==t||t.onSelectionChange((function(){var e=null==t?void 0:t.getNodes();if(e&&0!==e.length){var n=l.currentTree;e.forEach((function(e){var t=null==n?void 0:n.getTreeNodeById(e.id);null==n||n.expandAllAncestors(t)}))}}))}}));case 8:case"end":return f.stop()}}),e)})))()}}};function iB(e){return(iB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aB(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */aB=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==iB(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,k.prototype={constructor:k,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function uB(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function cB(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){uB(i,r,o,a,u,"next",e)}function u(e){uB(i,r,o,a,u,"throw",e)}a(void 0)}))}}function sB(e,t,n){return lB.apply(this,arguments)}function lB(){return(lB=cB(aB().mark((function e(t,n,r){var o,i;return aB().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:return o=LL(t),i=eA(n),a.next=4,r.register(oB,{},{autoInit:!0});case 4:return a.next=6,r.register(o);case 6:return a.next=8,r.register(AL,{});case 8:return a.next=10,r.register(i);case 10:return a.next=12,r.register(yA);case 12:return a.next=14,r.register(Yx,{},{autoInit:!0});case 14:return a.abrupt("return",(function(){r.delete(oB.pluginName),r.delete(o.pluginName),r.delete(AL.pluginName),r.delete(i.pluginName),r.delete(i.pluginName),r.delete(yA.pluginName),r.delete(Yx.pluginName)}));case 15:case"end":return a.stop()}}),e)})))).apply(this,arguments)}oB.meta={eventPrefix:"OutlinePlugin",preferenceDeclaration:{title:"\u5927\u7eb2\u6811\u63d2\u4ef6\u914d\u7f6e",properties:[{key:"extraTitle",type:"object",description:"\u526f\u6807\u9898"}]}},oB.pluginName="OutlinePlugin";var fB=new bC(sB,sA),pB=new Rg(fB),hB=new a.Editor;a.globalContext.register(hB,a.Editor),a.globalContext.register(hB,"editor"),a.globalContext.register(fB,"workspace");var dB=new KE(hB);hB.set("skeleton",dB);var vB=new pf({editor:hB,shellModelFactory:sA});hB.set("designer",vB);var yB=vB.project,mB=new a.Hotkey,bB=new Am(mB),gB=new Rb(yB),wB=new hg(dB,"any",!1),OB=new a.Setters,jB=new Hb(OB),SB=new nb(hB);hB.set("project",gB),hB.set("setters",jB),hB.set("material",SB),hB.set("innerHotkey",mB);var EB=new Vg(a.engineConfig),kB=new km(a.commonEvent,{prefix:"common"}),_B=new Hm({level:"warn",bizName:"common"}),PB=new ym(hB,dB),xB=new kg(hB),NB,CB,TB=new Tp({assembleApis:function e(t,n,r){t.hotkey=bB,t.project=gB,t.skeleton=new hg(dB,n,!1),t.setters=jB,t.material=SB;var o=(null==r?void 0:r.eventPrefix)||"common";t.event=new km(a.commonEvent,{prefix:o}),t.config=EB,t.common=PB,t.canvas=xB,t.plugins=NB,t.logger=new Hm({level:"warn",bizName:"plugin:".concat(n)}),t.workspace=pB,t.registerLevel=u.g.Default}});NB=new hb(TB).toProxy(),hB.set("innerPlugins",TB),hB.set("plugins",NB);var RB=!0,LB={symbols:RL,classes:TL},AB;a.engineConfig.set("isOpenSource",RB);var MB="1.1.7-beta";a.engineConfig.set("ENGINE_VERSION",MB);var DB=sB(vB,hB,NB);function IB(e,t,n){return BB.apply(this,arguments)}function BB(){return(BB=cB(aB().mark((function e(t,n,o){var u,c,l;return aB().wrap((function e(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,VB();case 2:if(u=null,Object(s.P)(t)?(u=t,(AB=document.createElement("div")).id="engine",document.body.appendChild(AB)):(u=n,AB=t,t||((AB=document.createElement("div")).id="engine",document.body.appendChild(AB))),a.engineConfig.setEngineOptions(u),c=PB.skeletonCabin.Workbench,!n||!n.enableWorkspaceMode){f.next=19;break}return f.next=9,DB;case 9:return(l=f.sent)&&l(),Object(i.render)(Object(r.createElement)(_L,{workspace:fB,className:"engine-main",topAreaItemClassName:"engine-actionitem"}),AB),fB.enableAutoOpenFirstWindow=a.engineConfig.get("enableAutoOpenFirstWindow",!0),fB.setActive(!0),fB.initWindow(),mB.activate(!1),f.next=18,fB.plugins.init(o);case 18:return f.abrupt("return");case 19:return f.next=21,NB.init(o);case 21:Object(i.render)(Object(r.createElement)(c,{skeleton:dB,className:"engine-main",topAreaItemClassName:"engine-actionitem"}),AB);case 22:case"end":return f.stop()}}),e)})))).apply(this,arguments)}function VB(){return FB.apply(this,arguments)}function FB(){return(FB=cB(aB().mark((function e(){var t;return aB().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:t=gB.documents,Array.isArray(t)&&t.length>0&&t.forEach((function(e){return gB.removeDocument(e)})),AB&&Object(i.unmountComponentAtNode)(AB);case 3:case"end":return n.stop()}}),e)})))).apply(this,arguments)}console.log("%c AliLowCodeEngine %c v".concat(MB," "),"padding: 2px 1px; border-radius: 3px 0 0 3px; color: #fff; background: #606060; font-weight: bold;","padding: 2px 1px; border-radius: 0 3px 3px 0; color: #fff; background: #42c02e; font-weight: bold;")}])}));
//# sourceMappingURL=engine-core.js.map
